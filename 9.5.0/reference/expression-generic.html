<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.9">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>expression-generic – Ibis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<script src="../site_libs/quarto-search/autocomplete-preset-algolia.umd.js"></script>
<meta name="quarto:offset" content="../">
<link href="../logo.svg" rel="icon" type="image/svg+xml">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e67ff5f79a98c6389aa7c0b9e6712459.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-14475e581903c9a7e5ed069634c08d5c.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-12c8c4cf821d2fd1848e951be45237d8.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "algolia": {
    "application-id": "TNU9HG3L41",
    "search-only-api-key": "26350948d1961209df16d9717a7e01d6",
    "index-name": "prod_ibis",
    "analytics-events": true,
    "show-logo": true,
    "libDir": "site_libs"
  },
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch-lite.umd.js"></script>


<script type="text/javascript">
var ALGOLIA_INSIGHTS_SRC = "https://cdn.jsdelivr.net/npm/search-insights/dist/search-insights.iife.min.js";
!function(e,a,t,n,s,i,c){e.AlgoliaAnalyticsObject=s,e[s]=e[s]||function(){
(e[s].queue=e[s].queue||[]).push(arguments)},i=a.createElement(t),c=a.getElementsByTagName(t)[0],
i.async=1,i.src=n,c.parentNode.insertBefore(i,c)
}(window,document,"script",ALGOLIA_INSIGHTS_SRC,"aa");
</script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-plugin-algolia-insights">

</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script data-goatcounter="https://ibis.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="Ibis">
<meta property="og:description" content="the portable Python dataframe library">
<meta property="og:image" content="https://ibis-project.org/reference/logo.png">
<meta property="og:site_name" content="Ibis">
<meta name="twitter:title" content="Ibis">
<meta name="twitter:description" content="the portable Python dataframe library">
<meta name="twitter:image" content="https://ibis-project.org/reference/logo.png">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../logo.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Ibis</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-getting-started" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Getting started</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-getting-started">    
        <li>
    <a class="dropdown-item" href="../install.html">
 <span class="dropdown-text">Installation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/getting_started.html">
 <span class="dropdown-text">Tutorial: getting started</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/ibis-for-dplyr-users.html">
 <span class="dropdown-text">Tutorial: Ibis for dplyr users</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/ibis-for-pandas-users.html">
 <span class="dropdown-text">Tutorial: Ibis for pandas users</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/ibis-for-sql-users.html">
 <span class="dropdown-text">Tutorial: Ibis for SQL users</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Browser</li>
        <li>
    <a class="dropdown-item" href="../tutorials/browser/repl.html">
 <span class="dropdown-text">JupyterLite console</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Cloud Data Platforms</li>
        <li>
    <a class="dropdown-item" href="../tutorials/cloud-data-platforms/clickhouse.html">
 <span class="dropdown-text">ClickHouse</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/cloud-data-platforms/starburst-galaxy/0_setup.html">
 <span class="dropdown-text">Starburst Galaxy</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Open Source Software</li>
        <li>
    <a class="dropdown-item" href="../tutorials/open-source-software/apache-flink/0_setup.html">
 <span class="dropdown-text">Apache Flink</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-concepts" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Concepts</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-concepts">    
        <li>
    <a class="dropdown-item" href="../why.html">
 <span class="dropdown-text">Why Ibis?</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../concepts/composable-ecosystem.html">
 <span class="dropdown-text">Composable data ecosystem</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../concepts/datatypes.html">
 <span class="dropdown-text">Datatypes and Datashapes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../concepts/internals.html">
 <span class="dropdown-text">Internals</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../concepts/user-testimonials.html">
 <span class="dropdown-text">User testimonials</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../concepts/versioning.html">
 <span class="dropdown-text">Versioning policy</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../concepts/who.html">
 <span class="dropdown-text">Who supports Ibis?</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-backends" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Backends</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-backends">    
        <li>
    <a class="dropdown-item" href="../backends/bigquery.html">
 <span class="dropdown-text">BigQuery</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/clickhouse.html">
 <span class="dropdown-text">ClickHouse</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/dask.html">
 <span class="dropdown-text">Dask</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/datafusion.html">
 <span class="dropdown-text">DataFusion</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/druid.html">
 <span class="dropdown-text">Druid</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/duckdb.html">
 <span class="dropdown-text">DuckDB</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/exasol.html">
 <span class="dropdown-text">Exasol</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/flink.html">
 <span class="dropdown-text">Flink</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/impala.html">
 <span class="dropdown-text">Impala</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/mssql.html">
 <span class="dropdown-text">MSSQL</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/mysql.html">
 <span class="dropdown-text">MySQL</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/oracle.html">
 <span class="dropdown-text">Oracle</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/pandas.html">
 <span class="dropdown-text">pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/polars.html">
 <span class="dropdown-text">Polars</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/postgresql.html">
 <span class="dropdown-text">PostgreSQL</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/pyspark.html">
 <span class="dropdown-text">PySpark</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/risingwave.html">
 <span class="dropdown-text">RisingWave</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/snowflake.html">
 <span class="dropdown-text">Snowflake</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/sqlite.html">
 <span class="dropdown-text">SQLite</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/trino.html">
 <span class="dropdown-text">Trino</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Support</li>
        <li>
    <a class="dropdown-item" href="../backends/support/matrix.html">
 <span class="dropdown-text">Operation support matrix</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../backends/support/operations.html">
 <span class="dropdown-text">Operations</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-how-to" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">How-to</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-how-to">    
        <li class="dropdown-header">Configure</li>
        <li>
    <a class="dropdown-item" href="../how-to/configure/basics.html">
 <span class="dropdown-text">Basic configuration</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Input Output</li>
        <li>
    <a class="dropdown-item" href="../how-to/input-output/basics.html">
 <span class="dropdown-text">Basic input/output</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/input-output/duckdb-parquet.html">
 <span class="dropdown-text">Read parquet files with Ibis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/input-output/gcs_duckdb.html">
 <span class="dropdown-text">Loading Google Cloud Storage files with DuckDB</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/input-output/multiple-backends.html">
 <span class="dropdown-text">Work with multiple backends</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Analytics</li>
        <li>
    <a class="dropdown-item" href="../how-to/analytics/basics.html">
 <span class="dropdown-text">Basic analytics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/analytics/chain_expressions.html">
 <span class="dropdown-text">Chaining expressions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/analytics/imdb.html">
 <span class="dropdown-text">Analyze IMDB data using Ibis</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Visualization</li>
        <li>
    <a class="dropdown-item" href="../how-to/visualization/altair.html">
 <span class="dropdown-text">Altair + Ibis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/visualization/graphs.html">
 <span class="dropdown-text">GraphViz + Ibis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/visualization/matplotlib.html">
 <span class="dropdown-text">matplotlib + Ibis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/visualization/plotly.html">
 <span class="dropdown-text">Plotly + Ibis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/visualization/plotnine.html">
 <span class="dropdown-text">plotnine + Ibis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/visualization/seaborn.html">
 <span class="dropdown-text">seaborn + Ibis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/visualization/streamlit.html">
 <span class="dropdown-text">Streamlit + Ibis</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Extending</li>
        <li>
    <a class="dropdown-item" href="../how-to/extending/builtin.html">
 <span class="dropdown-text">Reference built-in functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/extending/sql.html">
 <span class="dropdown-text">Using SQL strings with Ibis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/extending/streaming.html">
 <span class="dropdown-text">Ibis for streaming</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../how-to/extending/unbound_expression.html">
 <span class="dropdown-text">Write and execute unbound expressions</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-reference" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Reference</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-reference">    
        <li class="dropdown-header">Expression API</li>
        <li>
    <a class="dropdown-item" href="../reference/expression-tables.html">
 <span class="dropdown-text">Table expressions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/selectors.html">
 <span class="dropdown-text">Column selectors</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/expression-generic.html">
 <span class="dropdown-text">Generic expressions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/expression-numeric.html">
 <span class="dropdown-text">Numeric and Boolean expressions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/expression-strings.html">
 <span class="dropdown-text">String expressions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/expression-temporal.html">
 <span class="dropdown-text">Temporal expressions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/expression-collections.html">
 <span class="dropdown-text">Collection expressions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/expression-geospatial.html">
 <span class="dropdown-text">Geospatial expressions</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Type system</li>
        <li>
    <a class="dropdown-item" href="../reference/datatypes.html">
 <span class="dropdown-text">Data types</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/schemas.html">
 <span class="dropdown-text">Schemas</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">UDFs</li>
        <li>
    <a class="dropdown-item" href="../reference/scalar-udfs.html">
 <span class="dropdown-text">Scalar UDFs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/aggregate-udfs.html">
 <span class="dropdown-text">Aggregate UDFs (experimental)</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Connection APIs</li>
        <li>
    <a class="dropdown-item" href="../reference/connection.html">
 <span class="dropdown-text">Top-level connection APIs</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Configuration</li>
        <li>
    <a class="dropdown-item" href="../reference/Interactive.html">
 <span class="dropdown-text">Interactive</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/Options.html">
 <span class="dropdown-text">Options</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/Repr.html">
 <span class="dropdown-text">Repr</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../reference/SQL.html">
 <span class="dropdown-text">SQL</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Cursed Knowledge</li>
        <li>
    <a class="dropdown-item" href="../reference/cursed_knowledge.html">
 <span class="dropdown-text">Cursed Knowledge</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../posts.html"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../presentations.html"> 
<span class="menu-text">Presentations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../release_notes.html"> 
<span class="menu-text">Release notes</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-contribute" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Contribute</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-contribute">    
        <li class="dropdown-header">Contribute</li>
        <li>
    <a class="dropdown-item" href="../contribute/01_environment.html">
 <span class="dropdown-text">Setting up a development environment</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../contribute/02_workflow.html">
 <span class="dropdown-text">Contribute to the Ibis codebase</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../contribute/03_style.html">
 <span class="dropdown-text">Style and formatting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../contribute/04_maintainers_guide.html">
 <span class="dropdown-text">Maintaining the codebase</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../contribute/05_reference.html">
 <span class="dropdown-text">Test class reference</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/ibis-project/ibis">
            Source code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/ibis-project/ibis/issues/new?assignees=&amp;labels=bug&amp;projects=&amp;template=bug-report.yml&amp;title=bug">
            Report a bug
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/ibis-project/ibis/issues/new?assignees=&amp;labels=docs&amp;projects=&amp;template=docs-issue.yml&amp;title=docs">
            Report a documentation issue
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/ibis-project/ibis/issues/new?assignees=&amp;labels=feature&amp;projects=&amp;template=feature-request.yml&amp;title=feat">
            Submit a feature request
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/ibis-project/ibis/discussions/new?category=q-a">
            Ask the community for help
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../reference/expression-tables.html">Expression API</a></li><li class="breadcrumb-item"><a href="../reference/expression-generic.html">Generic expressions</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Expression API</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Table expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/selectors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Column selectors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-generic.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Generic expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-numeric.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numeric and Boolean expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">String expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-temporal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Temporal expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-collections.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Collection expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/expression-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial expressions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Type system</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/datatypes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/schemas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schemas</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">UDFs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/scalar-udfs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Scalar UDFs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/aggregate-udfs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Aggregate UDFs (experimental)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Connection APIs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/connection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Top-level connection APIs</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Configuration</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/Interactive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interactive</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/Options.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Options</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/Repr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Repr</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/SQL.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Cursed Knowledge</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/cursed_knowledge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cursed Knowledge</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#ibis.expr.types.generic.Value" id="toc-ibis.expr.types.generic.Value" class="nav-link active" data-scroll-target="#ibis.expr.types.generic.Value">Value</a>
  <ul class="collapse">
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a>
  <ul class="collapse">
  <li><a href="#ibis.expr.types.generic.Value.asc" id="toc-ibis.expr.types.generic.Value.asc" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.asc">asc</a></li>
  <li><a href="#ibis.expr.types.generic.Value.between" id="toc-ibis.expr.types.generic.Value.between" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.between">between</a></li>
  <li><a href="#ibis.expr.types.generic.Value.case" id="toc-ibis.expr.types.generic.Value.case" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.case">case</a></li>
  <li><a href="#ibis.expr.types.generic.Value.cases" id="toc-ibis.expr.types.generic.Value.cases" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.cases">cases</a></li>
  <li><a href="#ibis.expr.types.generic.Value.cast" id="toc-ibis.expr.types.generic.Value.cast" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.cast">cast</a></li>
  <li><a href="#ibis.expr.types.generic.Value.coalesce" id="toc-ibis.expr.types.generic.Value.coalesce" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.coalesce">coalesce</a></li>
  <li><a href="#ibis.expr.types.generic.Value.collect" id="toc-ibis.expr.types.generic.Value.collect" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.collect">collect</a></li>
  <li><a href="#ibis.expr.types.generic.Value.desc" id="toc-ibis.expr.types.generic.Value.desc" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.desc">desc</a></li>
  <li><a href="#ibis.expr.types.generic.Value.fill_null" id="toc-ibis.expr.types.generic.Value.fill_null" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.fill_null">fill_null</a></li>
  <li><a href="#ibis.expr.types.generic.Value.fillna" id="toc-ibis.expr.types.generic.Value.fillna" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.fillna">fillna</a></li>
  <li><a href="#ibis.expr.types.generic.Value.group_concat" id="toc-ibis.expr.types.generic.Value.group_concat" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.group_concat">group_concat</a></li>
  <li><a href="#ibis.expr.types.generic.Value.hash" id="toc-ibis.expr.types.generic.Value.hash" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.hash">hash</a></li>
  <li><a href="#ibis.expr.types.generic.Value.identical_to" id="toc-ibis.expr.types.generic.Value.identical_to" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.identical_to">identical_to</a></li>
  <li><a href="#ibis.expr.types.generic.Value.isin" id="toc-ibis.expr.types.generic.Value.isin" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.isin">isin</a></li>
  <li><a href="#ibis.expr.types.generic.Value.isnull" id="toc-ibis.expr.types.generic.Value.isnull" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.isnull">isnull</a></li>
  <li><a href="#ibis.expr.types.generic.Value.name" id="toc-ibis.expr.types.generic.Value.name" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.name">name</a></li>
  <li><a href="#ibis.expr.types.generic.Value.notin" id="toc-ibis.expr.types.generic.Value.notin" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.notin">notin</a></li>
  <li><a href="#ibis.expr.types.generic.Value.notnull" id="toc-ibis.expr.types.generic.Value.notnull" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.notnull">notnull</a></li>
  <li><a href="#ibis.expr.types.generic.Value.nullif" id="toc-ibis.expr.types.generic.Value.nullif" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.nullif">nullif</a></li>
  <li><a href="#ibis.expr.types.generic.Value.over" id="toc-ibis.expr.types.generic.Value.over" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.over">over</a></li>
  <li><a href="#ibis.expr.types.generic.Value.substitute" id="toc-ibis.expr.types.generic.Value.substitute" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.substitute">substitute</a></li>
  <li><a href="#ibis.expr.types.generic.Value.to_pandas" id="toc-ibis.expr.types.generic.Value.to_pandas" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.to_pandas">to_pandas</a></li>
  <li><a href="#ibis.expr.types.generic.Value.try_cast" id="toc-ibis.expr.types.generic.Value.try_cast" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.try_cast">try_cast</a></li>
  <li><a href="#ibis.expr.types.generic.Value.type" id="toc-ibis.expr.types.generic.Value.type" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.type">type</a></li>
  <li><a href="#ibis.expr.types.generic.Value.typeof" id="toc-ibis.expr.types.generic.Value.typeof" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Value.typeof">typeof</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#ibis.expr.types.generic.Column" id="toc-ibis.expr.types.generic.Column" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column">Column</a>
  <ul class="collapse">
  <li><a href="#methods-1" id="toc-methods-1" class="nav-link" data-scroll-target="#methods-1">Methods</a>
  <ul class="collapse">
  <li><a href="#ibis.expr.types.generic.Column.approx_median" id="toc-ibis.expr.types.generic.Column.approx_median" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.approx_median">approx_median</a></li>
  <li><a href="#ibis.expr.types.generic.Column.approx_nunique" id="toc-ibis.expr.types.generic.Column.approx_nunique" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.approx_nunique">approx_nunique</a></li>
  <li><a href="#ibis.expr.types.generic.Column.arbitrary" id="toc-ibis.expr.types.generic.Column.arbitrary" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.arbitrary">arbitrary</a></li>
  <li><a href="#ibis.expr.types.generic.Column.argmax" id="toc-ibis.expr.types.generic.Column.argmax" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.argmax">argmax</a></li>
  <li><a href="#ibis.expr.types.generic.Column.argmin" id="toc-ibis.expr.types.generic.Column.argmin" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.argmin">argmin</a></li>
  <li><a href="#ibis.expr.types.generic.Column.as_scalar" id="toc-ibis.expr.types.generic.Column.as_scalar" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.as_scalar">as_scalar</a></li>
  <li><a href="#ibis.expr.types.generic.Column.as_table" id="toc-ibis.expr.types.generic.Column.as_table" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.as_table">as_table</a></li>
  <li><a href="#ibis.expr.types.generic.Column.count" id="toc-ibis.expr.types.generic.Column.count" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.count">count</a></li>
  <li><a href="#ibis.expr.types.generic.Column.cume_dist" id="toc-ibis.expr.types.generic.Column.cume_dist" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.cume_dist">cume_dist</a></li>
  <li><a href="#ibis.expr.types.generic.Column.cummax" id="toc-ibis.expr.types.generic.Column.cummax" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.cummax">cummax</a></li>
  <li><a href="#ibis.expr.types.generic.Column.cummin" id="toc-ibis.expr.types.generic.Column.cummin" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.cummin">cummin</a></li>
  <li><a href="#ibis.expr.types.generic.Column.dense_rank" id="toc-ibis.expr.types.generic.Column.dense_rank" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.dense_rank">dense_rank</a></li>
  <li><a href="#ibis.expr.types.generic.Column.first" id="toc-ibis.expr.types.generic.Column.first" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.first">first</a></li>
  <li><a href="#ibis.expr.types.generic.Column.lag" id="toc-ibis.expr.types.generic.Column.lag" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.lag">lag</a></li>
  <li><a href="#ibis.expr.types.generic.Column.last" id="toc-ibis.expr.types.generic.Column.last" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.last">last</a></li>
  <li><a href="#ibis.expr.types.generic.Column.lead" id="toc-ibis.expr.types.generic.Column.lead" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.lead">lead</a></li>
  <li><a href="#ibis.expr.types.generic.Column.max" id="toc-ibis.expr.types.generic.Column.max" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.max">max</a></li>
  <li><a href="#ibis.expr.types.generic.Column.median" id="toc-ibis.expr.types.generic.Column.median" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.median">median</a></li>
  <li><a href="#ibis.expr.types.generic.Column.min" id="toc-ibis.expr.types.generic.Column.min" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.min">min</a></li>
  <li><a href="#ibis.expr.types.generic.Column.mode" id="toc-ibis.expr.types.generic.Column.mode" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.mode">mode</a></li>
  <li><a href="#ibis.expr.types.generic.Column.nth" id="toc-ibis.expr.types.generic.Column.nth" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.nth">nth</a></li>
  <li><a href="#ibis.expr.types.generic.Column.ntile" id="toc-ibis.expr.types.generic.Column.ntile" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.ntile">ntile</a></li>
  <li><a href="#ibis.expr.types.generic.Column.nunique" id="toc-ibis.expr.types.generic.Column.nunique" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.nunique">nunique</a></li>
  <li><a href="#ibis.expr.types.generic.Column.percent_rank" id="toc-ibis.expr.types.generic.Column.percent_rank" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.percent_rank">percent_rank</a></li>
  <li><a href="#ibis.expr.types.generic.Column.preview" id="toc-ibis.expr.types.generic.Column.preview" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.preview">preview</a></li>
  <li><a href="#ibis.expr.types.generic.Column.quantile" id="toc-ibis.expr.types.generic.Column.quantile" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.quantile">quantile</a></li>
  <li><a href="#ibis.expr.types.generic.Column.rank" id="toc-ibis.expr.types.generic.Column.rank" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.rank">rank</a></li>
  <li><a href="#ibis.expr.types.generic.Column.topk" id="toc-ibis.expr.types.generic.Column.topk" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.topk">topk</a></li>
  <li><a href="#ibis.expr.types.generic.Column.value_counts" id="toc-ibis.expr.types.generic.Column.value_counts" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Column.value_counts">value_counts</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#ibis.common.deferred.Deferred" id="toc-ibis.common.deferred.Deferred" class="nav-link" data-scroll-target="#ibis.common.deferred.Deferred">Deferred</a>
  <ul class="collapse">
  <li><a href="#parameters-37" id="toc-parameters-37" class="nav-link" data-scroll-target="#parameters-37">Parameters</a></li>
  </ul></li>
  <li><a href="#ibis.expr.types.generic.Scalar" id="toc-ibis.expr.types.generic.Scalar" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Scalar">Scalar</a>
  <ul class="collapse">
  <li><a href="#methods-2" id="toc-methods-2" class="nav-link" data-scroll-target="#methods-2">Methods</a>
  <ul class="collapse">
  <li><a href="#ibis.expr.types.generic.Scalar.as_scalar" id="toc-ibis.expr.types.generic.Scalar.as_scalar" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Scalar.as_scalar">as_scalar</a></li>
  <li><a href="#ibis.expr.types.generic.Scalar.as_table" id="toc-ibis.expr.types.generic.Scalar.as_table" class="nav-link" data-scroll-target="#ibis.expr.types.generic.Scalar.as_table">as_table</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#ibis.expr.api.deferred" id="toc-ibis.expr.api.deferred" class="nav-link" data-scroll-target="#ibis.expr.api.deferred">deferred</a>
  <ul class="collapse">
  <li><a href="#examples-42" id="toc-examples-42" class="nav-link" data-scroll-target="#examples-42">Examples</a></li>
  </ul></li>
  <li><a href="#ibis.literal" id="toc-ibis.literal" class="nav-link" data-scroll-target="#ibis.literal">literal</a>
  <ul class="collapse">
  <li><a href="#parameters-38" id="toc-parameters-38" class="nav-link" data-scroll-target="#parameters-38">Parameters</a></li>
  <li><a href="#returns-39" id="toc-returns-39" class="nav-link" data-scroll-target="#returns-39">Returns</a></li>
  <li><a href="#examples-43" id="toc-examples-43" class="nav-link" data-scroll-target="#examples-43">Examples</a></li>
  </ul></li>
  <li><a href="#ibis.param" id="toc-ibis.param" class="nav-link" data-scroll-target="#ibis.param">param</a>
  <ul class="collapse">
  <li><a href="#parameters-39" id="toc-parameters-39" class="nav-link" data-scroll-target="#parameters-39">Parameters</a></li>
  <li><a href="#returns-40" id="toc-returns-40" class="nav-link" data-scroll-target="#returns-40">Returns</a></li>
  <li><a href="#examples-44" id="toc-examples-44" class="nav-link" data-scroll-target="#examples-44">Examples</a></li>
  </ul></li>
  <li><a href="#ibis.null" id="toc-ibis.null" class="nav-link" data-scroll-target="#ibis.null">null</a></li>
  <li><a href="#ibis.range" id="toc-ibis.range" class="nav-link" data-scroll-target="#ibis.range">range</a>
  <ul class="collapse">
  <li><a href="#parameters-40" id="toc-parameters-40" class="nav-link" data-scroll-target="#parameters-40">Parameters</a></li>
  <li><a href="#returns-41" id="toc-returns-41" class="nav-link" data-scroll-target="#returns-41">Returns</a></li>
  <li><a href="#examples-45" id="toc-examples-45" class="nav-link" data-scroll-target="#examples-45">Examples</a></li>
  </ul></li>
  <li><a href="#ibis.coalesce" id="toc-ibis.coalesce" class="nav-link" data-scroll-target="#ibis.coalesce">coalesce</a>
  <ul class="collapse">
  <li><a href="#parameters-41" id="toc-parameters-41" class="nav-link" data-scroll-target="#parameters-41">Parameters</a></li>
  <li><a href="#returns-42" id="toc-returns-42" class="nav-link" data-scroll-target="#returns-42">Returns</a></li>
  <li><a href="#see-also-7" id="toc-see-also-7" class="nav-link" data-scroll-target="#see-also-7">See Also</a></li>
  <li><a href="#examples-46" id="toc-examples-46" class="nav-link" data-scroll-target="#examples-46">Examples</a></li>
  </ul></li>
  <li><a href="#ibis.least" id="toc-ibis.least" class="nav-link" data-scroll-target="#ibis.least">least</a>
  <ul class="collapse">
  <li><a href="#parameters-42" id="toc-parameters-42" class="nav-link" data-scroll-target="#parameters-42">Parameters</a></li>
  <li><a href="#returns-43" id="toc-returns-43" class="nav-link" data-scroll-target="#returns-43">Returns</a></li>
  <li><a href="#examples-47" id="toc-examples-47" class="nav-link" data-scroll-target="#examples-47">Examples</a></li>
  </ul></li>
  <li><a href="#ibis.greatest" id="toc-ibis.greatest" class="nav-link" data-scroll-target="#ibis.greatest">greatest</a>
  <ul class="collapse">
  <li><a href="#parameters-43" id="toc-parameters-43" class="nav-link" data-scroll-target="#parameters-43">Parameters</a></li>
  <li><a href="#returns-44" id="toc-returns-44" class="nav-link" data-scroll-target="#returns-44">Returns</a></li>
  <li><a href="#examples-48" id="toc-examples-48" class="nav-link" data-scroll-target="#examples-48">Examples</a></li>
  </ul></li>
  <li><a href="#ibis.ifelse" id="toc-ibis.ifelse" class="nav-link" data-scroll-target="#ibis.ifelse">ifelse</a>
  <ul class="collapse">
  <li><a href="#parameters-44" id="toc-parameters-44" class="nav-link" data-scroll-target="#parameters-44">Parameters</a></li>
  <li><a href="#returns-45" id="toc-returns-45" class="nav-link" data-scroll-target="#returns-45">Returns</a></li>
  <li><a href="#see-also-8" id="toc-see-also-8" class="nav-link" data-scroll-target="#see-also-8">See Also</a></li>
  <li><a href="#examples-49" id="toc-examples-49" class="nav-link" data-scroll-target="#examples-49">Examples</a></li>
  </ul></li>
  <li><a href="#ibis.case" id="toc-ibis.case" class="nav-link" data-scroll-target="#ibis.case">case</a>
  <ul class="collapse">
  <li><a href="#returns-46" id="toc-returns-46" class="nav-link" data-scroll-target="#returns-46">Returns</a></li>
  <li><a href="#see-also-9" id="toc-see-also-9" class="nav-link" data-scroll-target="#see-also-9">See Also</a></li>
  <li><a href="#examples-50" id="toc-examples-50" class="nav-link" data-scroll-target="#examples-50">Examples</a></li>
  </ul></li>
  <li><a href="#ibis.asc" id="toc-ibis.asc" class="nav-link" data-scroll-target="#ibis.asc">asc</a>
  <ul class="collapse">
  <li><a href="#parameters-45" id="toc-parameters-45" class="nav-link" data-scroll-target="#parameters-45">Parameters</a></li>
  <li><a href="#see-also-10" id="toc-see-also-10" class="nav-link" data-scroll-target="#see-also-10">See Also</a></li>
  <li><a href="#examples-51" id="toc-examples-51" class="nav-link" data-scroll-target="#examples-51">Examples</a></li>
  <li><a href="#returns-47" id="toc-returns-47" class="nav-link" data-scroll-target="#returns-47">Returns</a></li>
  </ul></li>
  <li><a href="#ibis.desc" id="toc-ibis.desc" class="nav-link" data-scroll-target="#ibis.desc">desc</a>
  <ul class="collapse">
  <li><a href="#parameters-46" id="toc-parameters-46" class="nav-link" data-scroll-target="#parameters-46">Parameters</a></li>
  <li><a href="#see-also-11" id="toc-see-also-11" class="nav-link" data-scroll-target="#see-also-11">See Also</a></li>
  <li><a href="#examples-52" id="toc-examples-52" class="nav-link" data-scroll-target="#examples-52">Examples</a></li>
  <li><a href="#returns-48" id="toc-returns-48" class="nav-link" data-scroll-target="#returns-48">Returns</a></li>
  </ul></li>
  <li><a href="#ibis.to_sql" id="toc-ibis.to_sql" class="nav-link" data-scroll-target="#ibis.to_sql">to_sql</a>
  <ul class="collapse">
  <li><a href="#parameters-47" id="toc-parameters-47" class="nav-link" data-scroll-target="#parameters-47">Parameters</a></li>
  <li><a href="#returns-49" id="toc-returns-49" class="nav-link" data-scroll-target="#returns-49">Returns</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/ibis-project/ibis/edit/main/docs/reference/expression-generic.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ibis-project/ibis/issues/new/choose" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../reference/expression-tables.html">Expression API</a></li><li class="breadcrumb-item"><a href="../reference/expression-generic.html">Generic expressions</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Generic expressions</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Scalars and columns of any element type.</p>
<section id="ibis.expr.types.generic.Value" class="level1">
<h1>Value</h1>
<p><code>Value(self, arg)</code></p>
<p>Base class for a data generating expression having a known type.</p>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.asc">asc</a></td>
<td>Sort an expression ascending.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.between">between</a></td>
<td>Check if this expression is between <code>lower</code> and <code>upper</code>, inclusive.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.case">case</a></td>
<td>Create a SimpleCaseBuilder to chain multiple if-else statements.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.cases">cases</a></td>
<td>Create a case expression in one shot.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.cast">cast</a></td>
<td>Cast expression to indicated data type.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.coalesce">coalesce</a></td>
<td>Return the first non-null value from <code>args</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.collect">collect</a></td>
<td>Aggregate this expression’s elements into an array.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.desc">desc</a></td>
<td>Sort an expression descending.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.fill_null">fill_null</a></td>
<td>Replace any null values with the indicated fill value.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.fillna">fillna</a></td>
<td>Deprecated - use <code>fill_null</code> instead.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.group_concat">group_concat</a></td>
<td>Concatenate values using the indicated separator to produce a string.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.hash">hash</a></td>
<td>Compute an integer hash value.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.identical_to">identical_to</a></td>
<td>Return whether this expression is identical to other.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.isin">isin</a></td>
<td>Check whether this expression’s values are in <code>values</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.isnull">isnull</a></td>
<td>Return whether this expression is NULL.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.name">name</a></td>
<td>Rename an expression to <code>name</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.notin">notin</a></td>
<td>Check whether this expression’s values are not in <code>values</code>.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.notnull">notnull</a></td>
<td>Return whether this expression is not NULL.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.nullif">nullif</a></td>
<td>Set values to null if they equal the values <code>null_if_expr</code>.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.over">over</a></td>
<td>Construct a window expression.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.substitute">substitute</a></td>
<td>Replace values given in <code>values</code> with <code>replacement</code>.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.to_pandas">to_pandas</a></td>
<td>Convert a column expression to a pandas Series or scalar object.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.try_cast">try_cast</a></td>
<td>Try cast expression to indicated data type.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Value.type">type</a></td>
<td>Return the <a href="../reference/datatypes.html">DataType</a> of <code>self</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Value.typeof">typeof</a></td>
<td>Return the string name of the datatype of self.</td>
</tr>
</tbody>
</table>
<section id="ibis.expr.types.generic.Value.asc" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.asc">asc</h3>
<p><code>asc(nulls_first=False)</code></p>
<p>Sort an expression ascending.</p>
</section>
<section id="ibis.expr.types.generic.Value.between" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.between">between</h3>
<p><code>between(lower, upper)</code></p>
<p>Check if this expression is between <code>lower</code> and <code>upper</code>, inclusive.</p>
<section id="parameters" class="level4">
<h4 class="anchored" data-anchor-id="parameters">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>lower</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>Lower bound, inclusive</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>upper</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>Upper bound, inclusive</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns" class="level4">
<h4 class="anchored" data-anchor-id="returns">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 36%">
<col style="width: 63%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>BooleanValue</code></td>
<td>Expression indicating membership in the provided range</td>
</tr>
</tbody>
</table>
</section>
<section id="examples" class="level4">
<h4 class="anchored" data-anchor-id="examples">Examples</h4>
<div id="5b63931b" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch().limit(<span class="dv">5</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_length_mm.between(<span class="dv">35</span>, <span class="dv">38</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Between(bill_length_mm, 35, 38) </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">boolean</span>                         │
├─────────────────────────────────┤
│ False                           │
│ False                           │
│ False                           │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>                            │
│ True                            │
└─────────────────────────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.case" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.case">case</h3>
<p><code>case()</code></p>
<p>Create a SimpleCaseBuilder to chain multiple if-else statements.</p>
<p>Add new search expressions with the <code>.when()</code> method. These must be comparable with this column expression. Conclude by calling <code>.end()</code>.</p>
<section id="returns-1" class="level4">
<h4 class="anchored" data-anchor-id="returns-1">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>SimpleCaseBuilder</code></td>
<td>A case builder</td>
</tr>
</tbody>
</table>
</section>
<section id="see-also" class="level4">
<h4 class="anchored" data-anchor-id="see-also">See Also</h4>
<p><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.substitute"><code>Value.substitute()</code></a> <a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.cases"><code>ibis.cases()</code></a> <a href="../reference/expression-generic.html#ibis.case"><code>ibis.case()</code></a></p>
</section>
<section id="examples-1" class="level4">
<h4 class="anchored" data-anchor-id="examples-1">Examples</h4>
<div id="d1993091" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> ibis.examples.penguins.fetch().head(<span class="dv">5</span>)[<span class="st">"sex"</span>]</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┓
┃<span style="font-weight: bold"> sex    </span>┃
┡━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │
├────────┤
│ <span style="color: #008000; text-decoration-color: #008000">male  </span> │
│ <span style="color: #008000; text-decoration-color: #008000">female</span> │
│ <span style="color: #008000; text-decoration-color: #008000">female</span> │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>   │
│ <span style="color: #008000; text-decoration-color: #008000">female</span> │
└────────┘
</pre>
</div>
</div>
<div id="0fc4a80d" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x.case().when(<span class="st">"male"</span>, <span class="st">"M"</span>).when(<span class="st">"female"</span>, <span class="st">"F"</span>).else_(<span class="st">"U"</span>).end()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> SimpleCase(sex, ('male', 'female'), ('M', 'F'), 'U') </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>                                               │
├──────────────────────────────────────────────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">M                                                   </span> │
│ <span style="color: #008000; text-decoration-color: #008000">F                                                   </span> │
│ <span style="color: #008000; text-decoration-color: #008000">F                                                   </span> │
│ <span style="color: #008000; text-decoration-color: #008000">U                                                   </span> │
│ <span style="color: #008000; text-decoration-color: #008000">F                                                   </span> │
└──────────────────────────────────────────────────────┘
</pre>
</div>
</div>
<p>Cases not given result in the ELSE case</p>
<div id="d7dd419d" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x.case().when(<span class="st">"male"</span>, <span class="st">"M"</span>).else_(<span class="st">"OTHER"</span>).end()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> SimpleCase(sex, ('male',), ('M',), 'OTHER') </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>                                      │
├─────────────────────────────────────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">M                                          </span> │
│ <span style="color: #008000; text-decoration-color: #008000">OTHER                                      </span> │
│ <span style="color: #008000; text-decoration-color: #008000">OTHER                                      </span> │
│ <span style="color: #008000; text-decoration-color: #008000">OTHER                                      </span> │
│ <span style="color: #008000; text-decoration-color: #008000">OTHER                                      </span> │
└─────────────────────────────────────────────┘
</pre>
</div>
</div>
<p>If you don’t supply an ELSE, then NULL is used</p>
<div id="4fb2c879" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x.case().when(<span class="st">"male"</span>, <span class="st">"M"</span>).end()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> SimpleCase(sex, ('male',), ('M',), Cast(None, string)) </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>                                                 │
├────────────────────────────────────────────────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">M                                                     </span> │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>                                                   │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>                                                   │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>                                                   │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>                                                   │
└────────────────────────────────────────────────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.cases" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.cases">cases</h3>
<p><code>cases(case_result_pairs, default=None)</code></p>
<p>Create a case expression in one shot.</p>
<section id="parameters-1" class="level4">
<h4 class="anchored" data-anchor-id="parameters-1">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>case_result_pairs</code></td>
<td><a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable">Iterable</a>[<a href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<code>ir</code>.<code>BooleanValue</code>, <a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a>]]</td>
<td>Conditional-result pairs</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>default</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a> | None</td>
<td>Value to return if none of the case conditions are true</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-2" class="level4">
<h4 class="anchored" data-anchor-id="returns-2">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>Value expression</td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-1" class="level4">
<h4 class="anchored" data-anchor-id="see-also-1">See Also</h4>
<p><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.substitute"><code>Value.substitute()</code></a> <a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.cases"><code>ibis.cases()</code></a> <a href="../reference/expression-generic.html#ibis.case"><code>ibis.case()</code></a></p>
</section>
<section id="examples-2" class="level4">
<h4 class="anchored" data-anchor-id="examples-2">Examples</h4>
<div id="80007818" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"values"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">4</span>]})</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┓
┃<span style="font-weight: bold"> values </span>┃
┡━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>  │
├────────┤
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4</span> │
└────────┘
</pre>
</div>
</div>
<div id="f60293f3" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> number_letter_map <span class="op">=</span> ((<span class="dv">1</span>, <span class="st">"a"</span>), (<span class="dv">2</span>, <span class="st">"b"</span>), (<span class="dv">3</span>, <span class="st">"c"</span>))</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.values.cases(number_letter_map, default<span class="op">=</span><span class="st">"unk"</span>).name(<span class="st">"replace"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━┓
┃<span style="font-weight: bold"> replace </span>┃
┡━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>  │
├─────────┤
│ <span style="color: #008000; text-decoration-color: #008000">a      </span> │
│ <span style="color: #008000; text-decoration-color: #008000">b      </span> │
│ <span style="color: #008000; text-decoration-color: #008000">a      </span> │
│ <span style="color: #008000; text-decoration-color: #008000">b      </span> │
│ <span style="color: #008000; text-decoration-color: #008000">c      </span> │
│ <span style="color: #008000; text-decoration-color: #008000">b      </span> │
│ <span style="color: #008000; text-decoration-color: #008000">unk    </span> │
└─────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.cast" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.cast">cast</h3>
<p><code>cast(target_type)</code></p>
<p>Cast expression to indicated data type.</p>
<p>Similar to <code>pandas.Series.astype</code>.</p>
<section id="parameters-2" class="level4">
<h4 class="anchored" data-anchor-id="parameters-2">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>target_type</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>Type to cast to. Anything accepted by <a href="../reference/datatypes.html#ibis.dtype"><code>ibis.dtype()</code></a></td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-3" class="level4">
<h4 class="anchored" data-anchor-id="returns-3">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>Casted expression</td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-2" class="level4">
<h4 class="anchored" data-anchor-id="see-also-2">See Also</h4>
<p><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.try_cast"><code>Value.try_cast()</code></a> <a href="../reference/datatypes.html#ibis.dtype"><code>ibis.dtype()</code></a></p>
</section>
<section id="examples-3" class="level4">
<h4 class="anchored" data-anchor-id="examples-3">Examples</h4>
<div id="da15c769" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> ibis.examples.penguins.fetch()[<span class="st">"bill_depth_mm"</span>]</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> bill_depth_mm </span>┃
┡━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>       │
├───────────────┤
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.7</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.4</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.0</span> │
│          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19.3</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">20.6</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.8</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19.6</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.1</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">20.2</span> │
│             <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │
└───────────────┘
</pre>
</div>
</div>
<p>python’s built-in types can be used</p>
<div id="4c867e41" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x.cast(<span class="bu">int</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Cast(bill_depth_mm, int64) </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>                      │
├────────────────────────────┤
│                         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19</span> │
│                         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17</span> │
│                         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18</span> │
│                       <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │
│                         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19</span> │
│                         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">21</span> │
│                         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18</span> │
│                         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">20</span> │
│                         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18</span> │
│                         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">20</span> │
│                          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │
└────────────────────────────┘
</pre>
</div>
</div>
<p>or string names</p>
<div id="49fbc8a7" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x.cast(<span class="st">"uint16"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Cast(bill_depth_mm, uint16) </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">uint16</span>                      │
├─────────────────────────────┤
│                          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19</span> │
│                          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17</span> │
│                          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18</span> │
│                        <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │
│                          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19</span> │
│                          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">21</span> │
│                          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18</span> │
│                          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">20</span> │
│                          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18</span> │
│                          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">20</span> │
│                           <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │
└─────────────────────────────┘
</pre>
</div>
</div>
<p>If you make an illegal cast, you won’t know until the backend actually executes it. Consider <a href="#ibis.expr.types.generic.Value.try_cast"><code>.try_cast()</code></a>.</p>
<div id="3e5c3c83" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.literal(<span class="st">"a string"</span>).cast(<span class="st">"int64"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ConversionException</span>                       Traceback (most recent call last)
File <span class="ansi-green-fg">/nix/store/l8m62a5l6z4pkdq2vpm3h7hwzk36596z-python3-3.10.14-env/lib/python3.10/site-packages/IPython/core/formatters.py:711</span>, in <span class="ansi-cyan-fg">PlainTextFormatter.__call__</span><span class="ansi-blue-fg">(self, obj)</span>
<span class="ansi-green-fg ansi-bold">    704</span> stream <span style="color:rgb(98,98,98)">=</span> StringIO()
<span class="ansi-green-fg ansi-bold">    705</span> printer <span style="color:rgb(98,98,98)">=</span> pretty<span style="color:rgb(98,98,98)">.</span>RepresentationPrinter(stream, <span style="color:rgb(0,135,0)">self</span><span style="color:rgb(98,98,98)">.</span>verbose,
<span class="ansi-green-fg ansi-bold">    706</span>     <span style="color:rgb(0,135,0)">self</span><span style="color:rgb(98,98,98)">.</span>max_width, <span style="color:rgb(0,135,0)">self</span><span style="color:rgb(98,98,98)">.</span>newline,
<span class="ansi-green-fg ansi-bold">    707</span>     max_seq_length<span style="color:rgb(98,98,98)">=</span><span style="color:rgb(0,135,0)">self</span><span style="color:rgb(98,98,98)">.</span>max_seq_length,
<span class="ansi-green-fg ansi-bold">    708</span>     singleton_pprinters<span style="color:rgb(98,98,98)">=</span><span style="color:rgb(0,135,0)">self</span><span style="color:rgb(98,98,98)">.</span>singleton_printers,
<span class="ansi-green-fg ansi-bold">    709</span>     type_pprinters<span style="color:rgb(98,98,98)">=</span><span style="color:rgb(0,135,0)">self</span><span style="color:rgb(98,98,98)">.</span>type_printers,
<span class="ansi-green-fg ansi-bold">    710</span>     deferred_pprinters<span style="color:rgb(98,98,98)">=</span><span style="color:rgb(0,135,0)">self</span><span style="color:rgb(98,98,98)">.</span>deferred_printers)
<span class="ansi-green-fg">--&gt; 711</span> <span class="ansi-yellow-bg">printer</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">pretty</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">obj</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg ansi-bold">    712</span> printer<span style="color:rgb(98,98,98)">.</span>flush()
<span class="ansi-green-fg ansi-bold">    713</span> <span style="font-weight:bold;color:rgb(0,135,0)">return</span> stream<span style="color:rgb(98,98,98)">.</span>getvalue()

File <span class="ansi-green-fg">/nix/store/l8m62a5l6z4pkdq2vpm3h7hwzk36596z-python3-3.10.14-env/lib/python3.10/site-packages/IPython/lib/pretty.py:419</span>, in <span class="ansi-cyan-fg">RepresentationPrinter.pretty</span><span class="ansi-blue-fg">(self, obj)</span>
<span class="ansi-green-fg ansi-bold">    408</span>                         <span style="font-weight:bold;color:rgb(0,135,0)">return</span> meth(obj, <span style="color:rgb(0,135,0)">self</span>, cycle)
<span class="ansi-green-fg ansi-bold">    409</span>                 <span style="font-weight:bold;color:rgb(0,135,0)">if</span> (
<span class="ansi-green-fg ansi-bold">    410</span>                     <span style="color:rgb(0,135,0)">cls</span> <span style="font-weight:bold;color:rgb(175,0,255)">is</span> <span style="font-weight:bold;color:rgb(175,0,255)">not</span> <span style="color:rgb(0,135,0)">object</span>
<span class="ansi-green-fg ansi-bold">    411</span>                     <span style="font-style:italic;color:rgb(95,135,135)"># check if cls defines __repr__</span>
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-fg ansi-bold">    417</span>                     <span style="font-weight:bold;color:rgb(175,0,255)">and</span> <span style="color:rgb(0,135,0)">callable</span>(_safe_getattr(<span style="color:rgb(0,135,0)">cls</span>, <span style="color:rgb(175,0,0)">"</span><span style="color:rgb(175,0,0)">__repr__</span><span style="color:rgb(175,0,0)">"</span>, <span style="font-weight:bold;color:rgb(0,135,0)">None</span>))
<span class="ansi-green-fg ansi-bold">    418</span>                 ):
<span class="ansi-green-fg">--&gt; 419</span>                     <span style="font-weight:bold;color:rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">_repr_pprint</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">obj</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span style="color:rgb(0,135,0)" class="ansi-yellow-bg">self</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">cycle</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg ansi-bold">    421</span>     <span style="font-weight:bold;color:rgb(0,135,0)">return</span> _default_pprint(obj, <span style="color:rgb(0,135,0)">self</span>, cycle)
<span class="ansi-green-fg ansi-bold">    422</span> <span style="font-weight:bold;color:rgb(0,135,0)">finally</span>:

File <span class="ansi-green-fg">/nix/store/l8m62a5l6z4pkdq2vpm3h7hwzk36596z-python3-3.10.14-env/lib/python3.10/site-packages/IPython/lib/pretty.py:787</span>, in <span class="ansi-cyan-fg">_repr_pprint</span><span class="ansi-blue-fg">(obj, p, cycle)</span>
<span class="ansi-green-fg ansi-bold">    785</span> <span style="font-style:italic;color:rgb(175,0,0)">"""A pprint that just redirects to the normal repr function."""</span>
<span class="ansi-green-fg ansi-bold">    786</span> <span style="font-style:italic;color:rgb(95,135,135)"># Find newlines and replace them with p.break_()</span>
<span class="ansi-green-fg">--&gt; 787</span> output <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(0,135,0)" class="ansi-yellow-bg">repr</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">obj</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg ansi-bold">    788</span> lines <span style="color:rgb(98,98,98)">=</span> output<span style="color:rgb(98,98,98)">.</span>splitlines()
<span class="ansi-green-fg ansi-bold">    789</span> <span style="font-weight:bold;color:rgb(0,135,0)">with</span> p<span style="color:rgb(98,98,98)">.</span>group():

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/expr/types/core.py:83</span>, in <span class="ansi-cyan-fg">Expr.__repr__</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-fg ansi-bold">     81</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span> <span style="color:rgb(0,0,255)">__repr__</span>(<span style="color:rgb(0,135,0)">self</span>) <span style="color:rgb(98,98,98)">-</span><span style="color:rgb(98,98,98)">&gt;</span> <span style="color:rgb(0,135,0)">str</span>:
<span class="ansi-green-fg ansi-bold">     82</span>     <span style="font-weight:bold;color:rgb(0,135,0)">if</span> ibis<span style="color:rgb(98,98,98)">.</span>options<span style="color:rgb(98,98,98)">.</span>interactive:
<span class="ansi-green-fg">---&gt; 83</span>         <span style="font-weight:bold;color:rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">_capture_rich_renderable</span><span class="ansi-yellow-bg">(</span><span style="color:rgb(0,135,0)" class="ansi-yellow-bg">self</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg ansi-bold">     84</span>     <span style="font-weight:bold;color:rgb(0,135,0)">else</span>:
<span class="ansi-green-fg ansi-bold">     85</span>         <span style="font-weight:bold;color:rgb(0,135,0)">return</span> <span style="color:rgb(0,135,0)">self</span><span style="color:rgb(98,98,98)">.</span>_noninteractive_repr()

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/expr/types/core.py:63</span>, in <span class="ansi-cyan-fg">_capture_rich_renderable</span><span class="ansi-blue-fg">(renderable)</span>
<span class="ansi-green-fg ansi-bold">     61</span> console <span style="color:rgb(98,98,98)">=</span> Console(force_terminal<span style="color:rgb(98,98,98)">=</span><span style="font-weight:bold;color:rgb(0,135,0)">False</span>)
<span class="ansi-green-fg ansi-bold">     62</span> <span style="font-weight:bold;color:rgb(0,135,0)">with</span> console<span style="color:rgb(98,98,98)">.</span>capture() <span style="font-weight:bold;color:rgb(0,135,0)">as</span> capture:
<span class="ansi-green-fg">---&gt; 63</span>     <span class="ansi-yellow-bg">console</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">print</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">renderable</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg ansi-bold">     64</span> <span style="font-weight:bold;color:rgb(0,135,0)">return</span> capture<span style="color:rgb(98,98,98)">.</span>get()<span style="color:rgb(98,98,98)">.</span>rstrip()

File <span class="ansi-green-fg">/nix/store/l8m62a5l6z4pkdq2vpm3h7hwzk36596z-python3-3.10.14-env/lib/python3.10/site-packages/rich/console.py:1710</span>, in <span class="ansi-cyan-fg">Console.print</span><span class="ansi-blue-fg">(self, sep, end, style, justify, overflow, no_wrap, emoji, markup, highlight, width, height, crop, soft_wrap, new_line_start, *objects)</span>
<span class="ansi-green-fg ansi-bold">   1708</span> <span style="font-weight:bold;color:rgb(0,135,0)">if</span> style <span style="font-weight:bold;color:rgb(175,0,255)">is</span> <span style="font-weight:bold;color:rgb(0,135,0)">None</span>:
<span class="ansi-green-fg ansi-bold">   1709</span>     <span style="font-weight:bold;color:rgb(0,135,0)">for</span> renderable <span style="font-weight:bold;color:rgb(175,0,255)">in</span> renderables:
<span class="ansi-green-fg">-&gt; 1710</span>         <span class="ansi-yellow-bg">extend</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">render</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">renderable</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">render_options</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg ansi-bold">   1711</span> <span style="font-weight:bold;color:rgb(0,135,0)">else</span>:
<span class="ansi-green-fg ansi-bold">   1712</span>     <span style="font-weight:bold;color:rgb(0,135,0)">for</span> renderable <span style="font-weight:bold;color:rgb(175,0,255)">in</span> renderables:

File <span class="ansi-green-fg">/nix/store/l8m62a5l6z4pkdq2vpm3h7hwzk36596z-python3-3.10.14-env/lib/python3.10/site-packages/rich/console.py:1311</span>, in <span class="ansi-cyan-fg">Console.render</span><span class="ansi-blue-fg">(self, renderable, options)</span>
<span class="ansi-green-fg ansi-bold">   1309</span> renderable <span style="color:rgb(98,98,98)">=</span> rich_cast(renderable)
<span class="ansi-green-fg ansi-bold">   1310</span> <span style="font-weight:bold;color:rgb(0,135,0)">if</span> <span style="color:rgb(0,135,0)">hasattr</span>(renderable, <span style="color:rgb(175,0,0)">"</span><span style="color:rgb(175,0,0)">__rich_console__</span><span style="color:rgb(175,0,0)">"</span>) <span style="font-weight:bold;color:rgb(175,0,255)">and</span> <span style="font-weight:bold;color:rgb(175,0,255)">not</span> isclass(renderable):
<span class="ansi-green-fg">-&gt; 1311</span>     render_iterable <span style="color:rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">renderable</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">__rich_console__</span><span class="ansi-yellow-bg">(</span><span style="color:rgb(0,135,0)" class="ansi-yellow-bg">self</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">_options</span><span class="ansi-yellow-bg">)</span>  <span style="font-style:italic;color:rgb(95,135,135)"># type: ignore[union-attr]</span>
<span class="ansi-green-fg ansi-bold">   1312</span> <span style="font-weight:bold;color:rgb(0,135,0)">elif</span> <span style="color:rgb(0,135,0)">isinstance</span>(renderable, <span style="color:rgb(0,135,0)">str</span>):
<span class="ansi-green-fg ansi-bold">   1313</span>     text_renderable <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(0,135,0)">self</span><span style="color:rgb(98,98,98)">.</span>render_str(
<span class="ansi-green-fg ansi-bold">   1314</span>         renderable, highlight<span style="color:rgb(98,98,98)">=</span>_options<span style="color:rgb(98,98,98)">.</span>highlight, markup<span style="color:rgb(98,98,98)">=</span>_options<span style="color:rgb(98,98,98)">.</span>markup
<span class="ansi-green-fg ansi-bold">   1315</span>     )

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/expr/types/core.py:106</span>, in <span class="ansi-cyan-fg">Expr.__rich_console__</span><span class="ansi-blue-fg">(self, console, options)</span>
<span class="ansi-green-fg ansi-bold">    103</span> <span style="font-weight:bold;color:rgb(0,135,0)">if</span> opts<span style="color:rgb(98,98,98)">.</span>interactive:
<span class="ansi-green-fg ansi-bold">    104</span>     <span style="font-weight:bold;color:rgb(0,135,0)">from</span> <span style="font-weight:bold;color:rgb(0,0,255)">ibis</span><span style="font-weight:bold;color:rgb(0,0,255)">.</span><span style="font-weight:bold;color:rgb(0,0,255)">expr</span><span style="font-weight:bold;color:rgb(0,0,255)">.</span><span style="font-weight:bold;color:rgb(0,0,255)">types</span><span style="font-weight:bold;color:rgb(0,0,255)">.</span><span style="font-weight:bold;color:rgb(0,0,255)">pretty</span> <span style="font-weight:bold;color:rgb(0,135,0)">import</span> to_rich
<span class="ansi-green-fg">--&gt; 106</span>     rich_object <span style="color:rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">to_rich</span><span class="ansi-yellow-bg">(</span><span style="color:rgb(0,135,0)" class="ansi-yellow-bg">self</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">console_width</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">=</span><span class="ansi-yellow-bg">console_width</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg ansi-bold">    107</span> <span style="font-weight:bold;color:rgb(0,135,0)">else</span>:
<span class="ansi-green-fg ansi-bold">    108</span>     rich_object <span style="color:rgb(98,98,98)">=</span> Text(<span style="color:rgb(0,135,0)">self</span><span style="color:rgb(98,98,98)">.</span>_noninteractive_repr())

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/expr/types/pretty.py:270</span>, in <span class="ansi-cyan-fg">to_rich</span><span class="ansi-blue-fg">(expr, max_rows, max_columns, max_length, max_string, max_depth, console_width)</span>
<span class="ansi-green-fg ansi-bold">    267</span> <span style="font-weight:bold;color:rgb(0,135,0)">from</span> <span style="font-weight:bold;color:rgb(0,0,255)">ibis</span><span style="font-weight:bold;color:rgb(0,0,255)">.</span><span style="font-weight:bold;color:rgb(0,0,255)">expr</span><span style="font-weight:bold;color:rgb(0,0,255)">.</span><span style="font-weight:bold;color:rgb(0,0,255)">types</span> <span style="font-weight:bold;color:rgb(0,135,0)">import</span> Scalar
<span class="ansi-green-fg ansi-bold">    269</span> <span style="font-weight:bold;color:rgb(0,135,0)">if</span> <span style="color:rgb(0,135,0)">isinstance</span>(expr, Scalar):
<span class="ansi-green-fg">--&gt; 270</span>     <span style="font-weight:bold;color:rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">_to_rich_scalar</span><span class="ansi-yellow-bg">(</span>
<span class="ansi-green-fg ansi-bold">    271</span> <span class="ansi-yellow-bg">        </span><span class="ansi-yellow-bg">expr</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">max_length</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">=</span><span class="ansi-yellow-bg">max_length</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">max_string</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">=</span><span class="ansi-yellow-bg">max_string</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">max_depth</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">=</span><span class="ansi-yellow-bg">max_depth</span>
<span class="ansi-green-fg ansi-bold">    272</span> <span class="ansi-yellow-bg">    </span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg ansi-bold">    273</span> <span style="font-weight:bold;color:rgb(0,135,0)">else</span>:
<span class="ansi-green-fg ansi-bold">    274</span>     <span style="font-weight:bold;color:rgb(0,135,0)">return</span> _to_rich_table(
<span class="ansi-green-fg ansi-bold">    275</span>         expr,
<span class="ansi-green-fg ansi-bold">    276</span>         max_rows<span style="color:rgb(98,98,98)">=</span>max_rows,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-fg ansi-bold">    281</span>         console_width<span style="color:rgb(98,98,98)">=</span>console_width,
<span class="ansi-green-fg ansi-bold">    282</span>     )

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/expr/types/pretty.py:294</span>, in <span class="ansi-cyan-fg">_to_rich_scalar</span><span class="ansi-blue-fg">(expr, max_length, max_string, max_depth)</span>
<span class="ansi-green-fg ansi-bold">    285</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span> <span style="color:rgb(0,0,255)">_to_rich_scalar</span>(
<span class="ansi-green-fg ansi-bold">    286</span>     expr: Scalar,
<span class="ansi-green-fg ansi-bold">    287</span>     <span style="color:rgb(98,98,98)">*</span>,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-fg ansi-bold">    290</span>     max_depth: <span style="color:rgb(0,135,0)">int</span> <span style="color:rgb(98,98,98)">|</span> <span style="font-weight:bold;color:rgb(0,135,0)">None</span> <span style="color:rgb(98,98,98)">=</span> <span style="font-weight:bold;color:rgb(0,135,0)">None</span>,
<span class="ansi-green-fg ansi-bold">    291</span> ) <span style="color:rgb(98,98,98)">-</span><span style="color:rgb(98,98,98)">&gt;</span> Pretty:
<span class="ansi-green-fg ansi-bold">    292</span>     value <span style="color:rgb(98,98,98)">=</span> format_values(
<span class="ansi-green-fg ansi-bold">    293</span>         expr<span style="color:rgb(98,98,98)">.</span>type(),
<span class="ansi-green-fg">--&gt; 294</span>         [<span class="ansi-yellow-bg">expr</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">execute</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>],
<span class="ansi-green-fg ansi-bold">    295</span>         max_length<span style="color:rgb(98,98,98)">=</span>max_length <span style="font-weight:bold;color:rgb(175,0,255)">or</span> ibis<span style="color:rgb(98,98,98)">.</span>options<span style="color:rgb(98,98,98)">.</span>repr<span style="color:rgb(98,98,98)">.</span>interactive<span style="color:rgb(98,98,98)">.</span>max_length,
<span class="ansi-green-fg ansi-bold">    296</span>         max_string<span style="color:rgb(98,98,98)">=</span>max_string <span style="font-weight:bold;color:rgb(175,0,255)">or</span> ibis<span style="color:rgb(98,98,98)">.</span>options<span style="color:rgb(98,98,98)">.</span>repr<span style="color:rgb(98,98,98)">.</span>interactive<span style="color:rgb(98,98,98)">.</span>max_string,
<span class="ansi-green-fg ansi-bold">    297</span>         max_depth<span style="color:rgb(98,98,98)">=</span>max_depth <span style="font-weight:bold;color:rgb(175,0,255)">or</span> ibis<span style="color:rgb(98,98,98)">.</span>options<span style="color:rgb(98,98,98)">.</span>repr<span style="color:rgb(98,98,98)">.</span>interactive<span style="color:rgb(98,98,98)">.</span>max_depth,
<span class="ansi-green-fg ansi-bold">    298</span>     )[<span style="color:rgb(98,98,98)">0</span>]
<span class="ansi-green-fg ansi-bold">    299</span>     <span style="font-weight:bold;color:rgb(0,135,0)">return</span> Panel(value, expand<span style="color:rgb(98,98,98)">=</span><span style="font-weight:bold;color:rgb(0,135,0)">False</span>, box<span style="color:rgb(98,98,98)">=</span>box<span style="color:rgb(98,98,98)">.</span>SQUARE)

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/expr/types/core.py:396</span>, in <span class="ansi-cyan-fg">Expr.execute</span><span class="ansi-blue-fg">(self, limit, params, **kwargs)</span>
<span class="ansi-green-fg ansi-bold">    378</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span> <span style="color:rgb(0,0,255)">execute</span>(
<span class="ansi-green-fg ansi-bold">    379</span>     <span style="color:rgb(0,135,0)">self</span>,
<span class="ansi-green-fg ansi-bold">    380</span>     limit: <span style="color:rgb(0,135,0)">int</span> <span style="color:rgb(98,98,98)">|</span> <span style="color:rgb(0,135,0)">str</span> <span style="color:rgb(98,98,98)">|</span> <span style="font-weight:bold;color:rgb(0,135,0)">None</span> <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(175,0,0)">"</span><span style="color:rgb(175,0,0)">default</span><span style="color:rgb(175,0,0)">"</span>,
<span class="ansi-green-fg ansi-bold">    381</span>     params: Mapping[ir<span style="color:rgb(98,98,98)">.</span>Value, Any] <span style="color:rgb(98,98,98)">|</span> <span style="font-weight:bold;color:rgb(0,135,0)">None</span> <span style="color:rgb(98,98,98)">=</span> <span style="font-weight:bold;color:rgb(0,135,0)">None</span>,
<span class="ansi-green-fg ansi-bold">    382</span>     <span style="color:rgb(98,98,98)">*</span><span style="color:rgb(98,98,98)">*</span>kwargs: Any,
<span class="ansi-green-fg ansi-bold">    383</span> ):
<span class="ansi-green-fg ansi-bold">    384</span> <span style="color:rgb(188,188,188)">    </span><span style="font-style:italic;color:rgb(175,0,0)">"""Execute an expression against its backend if one exists.</span>
<span class="ansi-green-fg ansi-bold">    385</span> 
<span class="ansi-green-fg ansi-bold">    386</span> <span style="font-style:italic;color:rgb(175,0,0)">    Parameters</span>
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-fg ansi-bold">    394</span> <span style="font-style:italic;color:rgb(175,0,0)">        Keyword arguments</span>
<span class="ansi-green-fg ansi-bold">    395</span> <span style="font-style:italic;color:rgb(175,0,0)">    """</span>
<span class="ansi-green-fg">--&gt; 396</span>     <span style="font-weight:bold;color:rgb(0,135,0)">return</span> <span style="color:rgb(0,135,0)" class="ansi-yellow-bg">self</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">_find_backend</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">use_default</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">=</span><span style="font-weight:bold;color:rgb(0,135,0)" class="ansi-yellow-bg">True</span><span class="ansi-yellow-bg">)</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">execute</span><span class="ansi-yellow-bg">(</span>
<span class="ansi-green-fg ansi-bold">    397</span> <span class="ansi-yellow-bg">        </span><span style="color:rgb(0,135,0)" class="ansi-yellow-bg">self</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">limit</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">=</span><span class="ansi-yellow-bg">limit</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">params</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">=</span><span class="ansi-yellow-bg">params</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">*</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">*</span><span class="ansi-yellow-bg">kwargs</span>
<span class="ansi-green-fg ansi-bold">    398</span> <span class="ansi-yellow-bg">    </span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/backends/duckdb/__init__.py:1444</span>, in <span class="ansi-cyan-fg">Backend.execute</span><span class="ansi-blue-fg">(self, expr, params, limit, **_)</span>
<span class="ansi-green-fg ansi-bold">   1441</span> <span style="font-weight:bold;color:rgb(0,135,0)">import</span> <span style="font-weight:bold;color:rgb(0,0,255)">pandas</span> <span style="font-weight:bold;color:rgb(0,135,0)">as</span> <span style="font-weight:bold;color:rgb(0,0,255)">pd</span>
<span class="ansi-green-fg ansi-bold">   1442</span> <span style="font-weight:bold;color:rgb(0,135,0)">import</span> <span style="font-weight:bold;color:rgb(0,0,255)">pyarrow</span><span style="font-weight:bold;color:rgb(0,0,255)">.</span><span style="font-weight:bold;color:rgb(0,0,255)">types</span> <span style="font-weight:bold;color:rgb(0,135,0)">as</span> <span style="font-weight:bold;color:rgb(0,0,255)">pat</span>
<span class="ansi-green-fg">-&gt; 1444</span> table <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(0,135,0)" class="ansi-yellow-bg">self</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">_to_duckdb_relation</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">expr</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">params</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">=</span><span class="ansi-yellow-bg">params</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">limit</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">=</span><span class="ansi-yellow-bg">limit</span><span class="ansi-yellow-bg">)</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">arrow</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg ansi-bold">   1446</span> df <span style="color:rgb(98,98,98)">=</span> pd<span style="color:rgb(98,98,98)">.</span>DataFrame(
<span class="ansi-green-fg ansi-bold">   1447</span>     {
<span class="ansi-green-fg ansi-bold">   1448</span>         name: (
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-fg ansi-bold">   1460</span>     }
<span class="ansi-green-fg ansi-bold">   1461</span> )
<span class="ansi-green-fg ansi-bold">   1462</span> df <span style="color:rgb(98,98,98)">=</span> DuckDBPandasData<span style="color:rgb(98,98,98)">.</span>convert_table(df, expr<span style="color:rgb(98,98,98)">.</span>as_table()<span style="color:rgb(98,98,98)">.</span>schema())

<span class="ansi-red-fg">ConversionException</span>: Conversion Error: Could not convert string 'a string' to INT64
LINE 1: SELECT CAST('a string' AS BIGINT) AS "Cast('a ...
               ^</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.coalesce" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.coalesce">coalesce</h3>
<p><code>coalesce(*args)</code></p>
<p>Return the first non-null value from <code>args</code>.</p>
<section id="parameters-3" class="level4">
<h4 class="anchored" data-anchor-id="parameters-3">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>args</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>Arguments from which to choose the first non-null value</td>
<td><code>()</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-4" class="level4">
<h4 class="anchored" data-anchor-id="returns-4">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>Coalesced expression</td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-3" class="level4">
<h4 class="anchored" data-anchor-id="see-also-3">See Also</h4>
<p><a href="../reference/expression-generic.html#ibis.coalesce"><code>ibis.coalesce()</code></a> <a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.fill_null"><code>Value.fill_null()</code></a></p>
</section>
<section id="examples-4" class="level4">
<h4 class="anchored" data-anchor-id="examples-4">Examples</h4>
<div id="76e1b7cd" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.coalesce(<span class="va">None</span>, <span class="dv">4</span>, <span class="dv">5</span>).name(<span class="st">"x"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="35">
<div class="ansi-escaped-output">
<pre>┌───┐
│ <span class="ansi-cyan-fg ansi-bold">4</span> │
└───┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.collect" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.collect">collect</h3>
<p><code>collect(where=None, order_by=None, include_null=False)</code></p>
<p>Aggregate this expression’s elements into an array.</p>
<p>This function is called <code>array_agg</code>, <code>list_agg</code>, or <code>list</code> in other systems.</p>
<section id="parameters-4" class="level4">
<h4 class="anchored" data-anchor-id="parameters-4">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>An optional filter expression. If provided, only rows where <code>where</code> is <code>True</code> will be included in the aggregate.</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>order_by</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>An ordering key (or keys) to use to order the rows before aggregating. If not provided, the order of the items in the result is undefined and backend specific.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>include_null</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></td>
<td>Whether to include null values when performing this aggregation. Set to <code>True</code> to include nulls in the result.</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-5" class="level4">
<h4 class="anchored" data-anchor-id="returns-5">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ArrayScalar</code></td>
<td>Collected array</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-5" class="level4">
<h4 class="anchored" data-anchor-id="examples-5">Examples</h4>
<p>Basic collect usage</p>
<div id="56374e10" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"key"</span>: <span class="bu">list</span>(<span class="st">"aaabb"</span>), <span class="st">"value"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]})</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┳━━━━━━━┓
┃<span style="font-weight: bold"> key    </span>┃<span style="font-weight: bold"> value </span>┃
┡━━━━━━━━╇━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │
├────────┼───────┤
│ <span style="color: #008000; text-decoration-color: #008000">a     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│ <span style="color: #008000; text-decoration-color: #008000">a     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│ <span style="color: #008000; text-decoration-color: #008000">a     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │
│ <span style="color: #008000; text-decoration-color: #008000">b     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4</span> │
│ <span style="color: #008000; text-decoration-color: #008000">b     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">5</span> │
└────────┴───────┘
</pre>
</div>
</div>
<div id="880c046e" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.value.collect()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="41">
<div class="ansi-escaped-output">
<pre>┌────────────────┐
│ <span class="ansi-bold">[</span><span class="ansi-cyan-fg ansi-bold">1</span>, <span class="ansi-cyan-fg ansi-bold">2</span>, <span class="ansi-yellow-fg">...</span> +<span class="ansi-cyan-fg ansi-bold">3</span><span class="ansi-bold">]</span> │
└────────────────┘</pre>
</div>
</div>
</div>
<div id="9dc54e7a" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">type</span>(t.value.collect())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>ibis.expr.types.arrays.ArrayScalar</code></pre>
</div>
</div>
<p>Collect elements per group</p>
<div id="30c26e77" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.group_by(<span class="st">"key"</span>).agg(v<span class="op">=</span><span class="kw">lambda</span> t: t.value.collect()).order_by(<span class="st">"key"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┳━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> key    </span>┃<span style="font-weight: bold"> v              </span>┃
┡━━━━━━━━╇━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">array&lt;int64&gt;</span>   │
├────────┼────────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">a     </span> │ <span style="font-weight: bold">[</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span>, <span style="color: #808000; text-decoration-color: #808000">...</span> +<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span><span style="font-weight: bold">]</span> │
│ <span style="color: #008000; text-decoration-color: #008000">b     </span> │ <span style="font-weight: bold">[</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">5</span><span style="font-weight: bold">]</span>         │
└────────┴────────────────┘
</pre>
</div>
</div>
<p>Collect elements per group using a filter</p>
<div id="50e9500a" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.group_by(<span class="st">"key"</span>).agg(v<span class="op">=</span><span class="kw">lambda</span> t: t.value.collect(where<span class="op">=</span>t.value <span class="op">&gt;</span> <span class="dv">1</span>)).order_by(<span class="st">"key"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┳━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> key    </span>┃<span style="font-weight: bold"> v            </span>┃
┡━━━━━━━━╇━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">array&lt;int64&gt;</span> │
├────────┼──────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">a     </span> │ <span style="font-weight: bold">[</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span><span style="font-weight: bold">]</span>       │
│ <span style="color: #008000; text-decoration-color: #008000">b     </span> │ <span style="font-weight: bold">[</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">5</span><span style="font-weight: bold">]</span>       │
└────────┴──────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.desc" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.desc">desc</h3>
<p><code>desc(nulls_first=False)</code></p>
<p>Sort an expression descending.</p>
</section>
<section id="ibis.expr.types.generic.Value.fill_null" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.fill_null">fill_null</h3>
<p><code>fill_null(fill_value)</code></p>
<p>Replace any null values with the indicated fill value.</p>
<section id="parameters-5" class="level4">
<h4 class="anchored" data-anchor-id="parameters-5">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>fill_value</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>Value with which to replace <code>NULL</code> values in <code>self</code></td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-4" class="level4">
<h4 class="anchored" data-anchor-id="see-also-4">See Also</h4>
<p><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.coalesce"><code>Value.coalesce()</code></a> <a href="../reference/expression-generic.html#ibis.coalesce"><code>ibis.coalesce()</code></a></p>
</section>
<section id="examples-6" class="level4">
<h4 class="anchored" data-anchor-id="examples-6">Examples</h4>
<div id="d4c25655" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch().limit(<span class="dv">5</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.sex</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┓
┃<span style="font-weight: bold"> sex    </span>┃
┡━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │
├────────┤
│ <span style="color: #008000; text-decoration-color: #008000">male  </span> │
│ <span style="color: #008000; text-decoration-color: #008000">female</span> │
│ <span style="color: #008000; text-decoration-color: #008000">female</span> │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>   │
│ <span style="color: #008000; text-decoration-color: #008000">female</span> │
└────────┘
</pre>
</div>
</div>
<div id="13e2c3b5" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.sex.fill_null(<span class="st">"unrecorded"</span>).name(<span class="st">"sex"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> sex        </span>┃
┡━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>     │
├────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">male      </span> │
│ <span style="color: #008000; text-decoration-color: #008000">female    </span> │
│ <span style="color: #008000; text-decoration-color: #008000">female    </span> │
│ <span style="color: #008000; text-decoration-color: #008000">unrecorded</span> │
│ <span style="color: #008000; text-decoration-color: #008000">female    </span> │
└────────────┘
</pre>
</div>
</div>
</section>
<section id="returns-6" class="level4">
<h4 class="anchored" data-anchor-id="returns-6">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td><code>self</code> filled with <code>fill_value</code> where it is <code>NULL</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.generic.Value.fillna" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.fillna">fillna</h3>
<p><code>fillna(fill_value)</code></p>
<p>Deprecated - use <code>fill_null</code> instead.</p>
</section>
<section id="ibis.expr.types.generic.Value.group_concat" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.group_concat">group_concat</h3>
<p><code>group_concat(sep=',', where=None, order_by=None)</code></p>
<p>Concatenate values using the indicated separator to produce a string.</p>
<section id="parameters-6" class="level4">
<h4 class="anchored" data-anchor-id="parameters-6">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>sep</code></td>
<td><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></td>
<td>The separator to use to join strings.</td>
<td><code>','</code></td>
</tr>
<tr class="even">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>An optional filter expression. If provided, only rows where <code>where</code> is <code>True</code> will be included in the aggregate.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>order_by</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>An ordering key (or keys) to use to order the rows before aggregating. If not provided, the order of the items in the result is undefined and backend specific.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-7" class="level4">
<h4 class="anchored" data-anchor-id="returns-7">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>StringScalar</code></td>
<td>Concatenated string expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-7" class="level4">
<h4 class="anchored" data-anchor-id="examples-7">Examples</h4>
<div id="3a9c92b2" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch().limit(<span class="dv">5</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t[[<span class="st">"bill_length_mm"</span>, <span class="st">"bill_depth_mm"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> bill_length_mm </span>┃<span style="font-weight: bold"> bill_depth_mm </span>┃
┡━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>        │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>       │
├────────────────┼───────────────┤
│           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.1</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.7</span> │
│           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.5</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.4</span> │
│           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">40.3</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.0</span> │
│           <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │
│           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">36.7</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19.3</span> │
└────────────────┴───────────────┘
</pre>
</div>
</div>
<div id="52783ed5" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_length_mm.group_concat()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="62">
<div class="ansi-escaped-output">
<pre>┌─────────────────────┐
│ <span class="ansi-green-fg">39.1,39.5,40.3,36.7</span> │
└─────────────────────┘</pre>
</div>
</div>
</div>
<div id="5bb795e5" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_length_mm.group_concat(sep<span class="op">=</span><span class="st">": "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="65">
<div class="ansi-escaped-output">
<pre>┌────────────────────────┐
│ <span class="ansi-green-fg">39.1: 39.5: 40.3: 36.7</span> │
└────────────────────────┘</pre>
</div>
</div>
</div>
<div id="362a54da" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_length_mm.group_concat(sep<span class="op">=</span><span class="st">": "</span>, where<span class="op">=</span>t.bill_depth_mm <span class="op">&gt;</span> <span class="dv">18</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="68">
<div class="ansi-escaped-output">
<pre>┌────────────┐
│ <span class="ansi-green-fg">39.1: 36.7</span> │
└────────────┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.hash" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.hash">hash</h3>
<p><code>hash()</code></p>
<p>Compute an integer hash value.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The hashing function used is backend-dependent.
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<section id="returns-8" class="level4">
<h4 class="anchored" data-anchor-id="returns-8">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>IntegerValue</code></td>
<td>The hash value of <code>self</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-8" class="level4">
<h4 class="anchored" data-anchor-id="examples-8">Examples</h4>
<div id="76a7d84a" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.literal(<span class="st">"hello"</span>).<span class="bu">hash</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="71">
<div class="ansi-escaped-output">
<pre>┌──────────────────────┐
│ <span class="ansi-cyan-fg ansi-bold">-4155090522938856779</span> │
└──────────────────────┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.identical_to" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.identical_to">identical_to</h3>
<p><code>identical_to(other)</code></p>
<p>Return whether this expression is identical to other.</p>
<p>Corresponds to <code>IS NOT DISTINCT FROM</code> in SQL.</p>
<section id="parameters-7" class="level4">
<h4 class="anchored" data-anchor-id="parameters-7">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>other</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>Expression to compare to</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-9" class="level4">
<h4 class="anchored" data-anchor-id="returns-9">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 37%">
<col style="width: 62%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>BooleanValue</code></td>
<td>Whether this expression is not distinct from <code>other</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-9" class="level4">
<h4 class="anchored" data-anchor-id="examples-9">Examples</h4>
<div id="70fda1f5" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> one <span class="op">=</span> ibis.literal(<span class="dv">1</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> two <span class="op">=</span> ibis.literal(<span class="dv">2</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> two.identical_to(one <span class="op">+</span> one)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="74">
<pre><code>┌──────┐
│ True │
└──────┘</code></pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.isin" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.isin">isin</h3>
<p><code>isin(values)</code></p>
<p>Check whether this expression’s values are in <code>values</code>.</p>
<p><code>NULL</code> values are propagated in the output. See examples for details.</p>
<section id="parameters-8" class="level4">
<h4 class="anchored" data-anchor-id="parameters-8">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>values</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a> | <a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a>]</td>
<td>Values or expression to check for membership</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-10" class="level4">
<h4 class="anchored" data-anchor-id="returns-10">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>BooleanValue</code></td>
<td>Expression indicating membership</td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-5" class="level4">
<h4 class="anchored" data-anchor-id="see-also-5">See Also</h4>
<p><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.notin"><code>Value.notin()</code></a></p>
</section>
<section id="examples-10" class="level4">
<h4 class="anchored" data-anchor-id="examples-10">Examples</h4>
<div id="70adaff1" class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], <span class="st">"b"</span>: [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]})</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="77">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━┳━━━━━━━┓
┃<span style="font-weight: bold"> a     </span>┃<span style="font-weight: bold"> b     </span>┃
┡━━━━━━━╇━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │
├───────┼───────┤
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4</span> │
└───────┴───────┘
</pre>
</div>
</div>
<p>Check against a literal sequence of values</p>
<div id="edab1b48" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.a.isin([<span class="dv">1</span>, <span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="80">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> InValues(a, (1, 2)) </span>┃
┡━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">boolean</span>             │
├─────────────────────┤
│ True                │
│ True                │
│ False               │
└─────────────────────┘
</pre>
</div>
</div>
<p>Check against a derived expression</p>
<div id="d00983c9" class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.a.isin(t.b <span class="op">+</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="83">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> InSubquery(a) </span>┃
┡━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">boolean</span>       │
├───────────────┤
│ False         │
│ False         │
│ True          │
└───────────────┘
</pre>
</div>
</div>
<p>Check against a column from a different table</p>
<div id="6b7be643" class="cell" data-execution_count="86">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t2 <span class="op">=</span> ibis.memtable({<span class="st">"x"</span>: [<span class="dv">99</span>, <span class="dv">2</span>, <span class="dv">99</span>]})</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.a.isin(t2.x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="86">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> InSubquery(a) </span>┃
┡━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">boolean</span>       │
├───────────────┤
│ False         │
│ True          │
│ False         │
└───────────────┘
</pre>
</div>
</div>
<p><code>NULL</code> behavior</p>
<div id="cb55cb27" class="cell" data-execution_count="89">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"x"</span>: [<span class="dv">1</span>, <span class="dv">2</span>]})</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.x.isin([<span class="dv">1</span>, <span class="va">None</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="89">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> InValues(x, (1, None)) </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">boolean</span>                │
├────────────────────────┤
│ True                   │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>                   │
└────────────────────────┘
</pre>
</div>
</div>
<div id="ac4ecac0" class="cell" data-execution_count="92">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"x"</span>: [<span class="dv">1</span>, <span class="va">None</span>, <span class="dv">2</span>]})</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.x.isin([<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="92">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> InValues(x, (1,)) </span>┃
┡━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">boolean</span>           │
├───────────────────┤
│ True              │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>              │
│ False             │
└───────────────────┘
</pre>
</div>
</div>
<div id="c5cf1a27" class="cell" data-execution_count="95">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.x.isin([<span class="dv">3</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="95">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> InValues(x, (3,)) </span>┃
┡━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">boolean</span>           │
├───────────────────┤
│ False             │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>              │
│ False             │
└───────────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.isnull" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.isnull">isnull</h3>
<p><code>isnull()</code></p>
<p>Return whether this expression is NULL.</p>
<section id="examples-11" class="level4">
<h4 class="anchored" data-anchor-id="examples-11">Examples</h4>
<div id="1587a8dc" class="cell" data-execution_count="98">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch().limit(<span class="dv">5</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_depth_mm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="98">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> bill_depth_mm </span>┃
┡━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>       │
├───────────────┤
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.7</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.4</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.0</span> │
│          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19.3</span> │
└───────────────┘
</pre>
</div>
</div>
<div id="a0fa0301" class="cell" data-execution_count="101">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_depth_mm.isnull()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="101">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> IsNull(bill_depth_mm) </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">boolean</span>               │
├───────────────────────┤
│ False                 │
│ False                 │
│ False                 │
│ True                  │
│ False                 │
└───────────────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.name" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.name">name</h3>
<p><code>name(name)</code></p>
<p>Rename an expression to <code>name</code>.</p>
<section id="parameters-9" class="level4">
<h4 class="anchored" data-anchor-id="parameters-9">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>name</code></td>
<td></td>
<td>The new name of the expression</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-11" class="level4">
<h4 class="anchored" data-anchor-id="returns-11">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td><code>self</code> with name <code>name</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-12" class="level4">
<h4 class="anchored" data-anchor-id="examples-12">Examples</h4>
<div id="d18ce239" class="cell" data-execution_count="104">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">1</span>, <span class="dv">2</span>]}, name<span class="op">=</span><span class="st">"t"</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="104">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━┓
┃<span style="font-weight: bold"> a     </span>┃
┡━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │
├───────┤
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
└───────┘
</pre>
</div>
</div>
<div id="eb539355" class="cell" data-execution_count="107">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.a.name(<span class="st">"b"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="107">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━┓
┃<span style="font-weight: bold"> b     </span>┃
┡━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │
├───────┤
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
└───────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.notin" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.notin">notin</h3>
<p><code>notin(values)</code></p>
<p>Check whether this expression’s values are not in <code>values</code>.</p>
<p>Opposite of <a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.isin"><code>Value.isin()</code></a>.</p>
<section id="parameters-10" class="level4">
<h4 class="anchored" data-anchor-id="parameters-10">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>values</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a> | <a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a>]</td>
<td>Values or expression to check for lack of membership</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-12" class="level4">
<h4 class="anchored" data-anchor-id="returns-12">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 36%">
<col style="width: 63%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>BooleanValue</code></td>
<td>Whether <code>self</code>’s values are not contained in <code>values</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-13" class="level4">
<h4 class="anchored" data-anchor-id="examples-13">Examples</h4>
<div id="66e05345" class="cell" data-execution_count="110">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch().limit(<span class="dv">5</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_depth_mm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="110">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> bill_depth_mm </span>┃
┡━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>       │
├───────────────┤
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.7</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.4</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.0</span> │
│          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19.3</span> │
└───────────────┘
</pre>
</div>
</div>
<div id="3f557f77" class="cell" data-execution_count="113">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_depth_mm.notin([<span class="fl">18.7</span>, <span class="fl">18.1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="113">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Not(InValues(bill_depth_mm, (18.7, 18.1))) </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">boolean</span>                                    │
├────────────────────────────────────────────┤
│ False                                      │
│ True                                       │
│ True                                       │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>                                       │
│ True                                       │
└────────────────────────────────────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.notnull" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.notnull">notnull</h3>
<p><code>notnull()</code></p>
<p>Return whether this expression is not NULL.</p>
<section id="examples-14" class="level4">
<h4 class="anchored" data-anchor-id="examples-14">Examples</h4>
<div id="8233190f" class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch().limit(<span class="dv">5</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_depth_mm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="116">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> bill_depth_mm </span>┃
┡━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>       │
├───────────────┤
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.7</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.4</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.0</span> │
│          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │
│          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19.3</span> │
└───────────────┘
</pre>
</div>
</div>
<div id="c211e841" class="cell" data-execution_count="119">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_depth_mm.notnull()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="119">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> NotNull(bill_depth_mm) </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">boolean</span>                │
├────────────────────────┤
│ True                   │
│ True                   │
│ True                   │
│ False                  │
│ True                   │
└────────────────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.nullif" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.nullif">nullif</h3>
<p><code>nullif(null_if_expr)</code></p>
<p>Set values to null if they equal the values <code>null_if_expr</code>.</p>
<p>Commonly used to avoid divide-by-zero problems by replacing zero with <code>NULL</code> in the divisor.</p>
<p>Equivalent to <code>(self == null_if_expr).ifelse(ibis.null(), self)</code>.</p>
<section id="parameters-11" class="level4">
<h4 class="anchored" data-anchor-id="parameters-11">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>null_if_expr</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>Expression indicating what values should be NULL</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-13" class="level4">
<h4 class="anchored" data-anchor-id="returns-13">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>Value expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-15" class="level4">
<h4 class="anchored" data-anchor-id="examples-15">Examples</h4>
<div id="ce23cb34" class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> vals <span class="op">=</span> ibis.examples.penguins.fetch().head(<span class="dv">5</span>).sex</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> vals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="122">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┓
┃<span style="font-weight: bold"> sex    </span>┃
┡━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │
├────────┤
│ <span style="color: #008000; text-decoration-color: #008000">male  </span> │
│ <span style="color: #008000; text-decoration-color: #008000">female</span> │
│ <span style="color: #008000; text-decoration-color: #008000">female</span> │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>   │
│ <span style="color: #008000; text-decoration-color: #008000">female</span> │
└────────┘
</pre>
</div>
</div>
<div id="3ed2220d" class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> vals.nullif(<span class="st">"male"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="125">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> NullIf(sex, 'male') </span>┃
┡━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>              │
├─────────────────────┤
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>                │
│ <span style="color: #008000; text-decoration-color: #008000">female             </span> │
│ <span style="color: #008000; text-decoration-color: #008000">female             </span> │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>                │
│ <span style="color: #008000; text-decoration-color: #008000">female             </span> │
└─────────────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.over" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.over">over</h3>
<p><code>over(window=None, *, rows=None, range=None, group_by=None, order_by=None)</code></p>
<p>Construct a window expression.</p>
<section id="parameters-12" class="level4">
<h4 class="anchored" data-anchor-id="parameters-12">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 16%">
<col style="width: 10%">
<col style="width: 57%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>window</code></td>
<td></td>
<td>Window specification</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>rows</code></td>
<td></td>
<td>Whether to use the <code>ROWS</code> window clause</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>range</code></td>
<td></td>
<td>Whether to use the <code>RANGE</code> window clause</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>group_by</code></td>
<td></td>
<td>Grouping key</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>order_by</code></td>
<td></td>
<td>Ordering key</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-14" class="level4">
<h4 class="anchored" data-anchor-id="returns-14">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>A window function expression</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.generic.Value.substitute" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.substitute">substitute</h3>
<p><code>substitute(value, replacement=None, else_=None)</code></p>
<p>Replace values given in <code>values</code> with <code>replacement</code>.</p>
<p>This is similar to the pandas <code>replace</code> method.</p>
<section id="parameters-13" class="level4">
<h4 class="anchored" data-anchor-id="parameters-13">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>value</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a> | <a href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></td>
<td>Expression or dict.</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>replacement</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a> | None</td>
<td>If an expression is passed to value, this must be passed.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>else_</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a> | None</td>
<td>If an original value does not match <code>value</code>, then <code>else_</code> is used. The default of <code>None</code> means leave the original value unchanged.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-15" class="level4">
<h4 class="anchored" data-anchor-id="returns-15">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>Replaced values</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-16" class="level4">
<h4 class="anchored" data-anchor-id="examples-16">Examples</h4>
<div id="b6675d36" class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.island.value_counts().order_by(<span class="st">"island"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="128">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━┳━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> island    </span>┃<span style="font-weight: bold"> island_count </span>┃
┡━━━━━━━━━━━╇━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>    │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>        │
├───────────┼──────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">Biscoe   </span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">168</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Dream    </span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">124</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">52</span> │
└───────────┴──────────────┘
</pre>
</div>
</div>
<div id="7e0f0bf8" class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.island.substitute({<span class="st">"Torgersen"</span>: <span class="st">"torg"</span>, <span class="st">"Biscoe"</span>: <span class="st">"bisc"</span>}).name(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>...     <span class="st">"island"</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>... ).value_counts().order_by(<span class="st">"island"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="131">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┳━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> island </span>┃<span style="font-weight: bold"> island_count </span>┃
┡━━━━━━━━╇━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>        │
├────────┼──────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">Dream </span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">124</span> │
│ <span style="color: #008000; text-decoration-color: #008000">bisc  </span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">168</span> │
│ <span style="color: #008000; text-decoration-color: #008000">torg  </span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">52</span> │
└────────┴──────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.to_pandas" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.to_pandas">to_pandas</h3>
<p><code>to_pandas(**kwargs)</code></p>
<p>Convert a column expression to a pandas Series or scalar object.</p>
<section id="parameters-14" class="level4">
<h4 class="anchored" data-anchor-id="parameters-14">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>kwargs</code></td>
<td></td>
<td>Same as keyword arguments to <a href="#ibis.expr.types.core.Expr.execute"><code>execute</code></a></td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-17" class="level4">
<h4 class="anchored" data-anchor-id="examples-17">Examples</h4>
<div id="e1c60e25" class="cell" data-execution_count="134">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch().limit(<span class="dv">5</span>)</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.to_pandas()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="134">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">species</th>
<th data-quarto-table-cell-role="th">island</th>
<th data-quarto-table-cell-role="th">bill_length_mm</th>
<th data-quarto-table-cell-role="th">bill_depth_mm</th>
<th data-quarto-table-cell-role="th">flipper_length_mm</th>
<th data-quarto-table-cell-role="th">body_mass_g</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Adelie</td>
<td>Torgersen</td>
<td>39.1</td>
<td>18.7</td>
<td>181.0</td>
<td>3750.0</td>
<td>male</td>
<td>2007</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Adelie</td>
<td>Torgersen</td>
<td>39.5</td>
<td>17.4</td>
<td>186.0</td>
<td>3800.0</td>
<td>female</td>
<td>2007</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Adelie</td>
<td>Torgersen</td>
<td>40.3</td>
<td>18.0</td>
<td>195.0</td>
<td>3250.0</td>
<td>female</td>
<td>2007</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Adelie</td>
<td>Torgersen</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>None</td>
<td>2007</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Adelie</td>
<td>Torgersen</td>
<td>36.7</td>
<td>19.3</td>
<td>193.0</td>
<td>3450.0</td>
<td>female</td>
<td>2007</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.try_cast" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.try_cast">try_cast</h3>
<p><code>try_cast(target_type)</code></p>
<p>Try cast expression to indicated data type.</p>
<p>If the cast fails for a row, the value is returned as null or NaN depending on target_type and backend behavior.</p>
<section id="parameters-15" class="level4">
<h4 class="anchored" data-anchor-id="parameters-15">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>target_type</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>Type to try cast to. Anything accepted by <a href="../reference/datatypes.html#ibis.dtype"><code>ibis.dtype()</code></a></td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-16" class="level4">
<h4 class="anchored" data-anchor-id="returns-16">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a></td>
<td>Casted expression</td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-6" class="level4">
<h4 class="anchored" data-anchor-id="see-also-6">See Also</h4>
<p><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.cast"><code>Value.cast()</code></a> <a href="../reference/datatypes.html#ibis.dtype"><code>ibis.dtype()</code></a></p>
</section>
<section id="examples-18" class="level4">
<h4 class="anchored" data-anchor-id="examples-18">Examples</h4>
<div id="ea7396c3" class="cell" data-execution_count="137">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"numbers"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], <span class="st">"strings"</span>: [<span class="st">"1.0"</span>, <span class="st">"2"</span>, <span class="st">"hello"</span>, <span class="st">"world"</span>]})</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="137">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━┳━━━━━━━━━┓
┃<span style="font-weight: bold"> numbers </span>┃<span style="font-weight: bold"> strings </span>┃
┡━━━━━━━━━╇━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>   │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>  │
├─────────┼─────────┤
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │ <span style="color: #008000; text-decoration-color: #008000">1.0    </span> │
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │ <span style="color: #008000; text-decoration-color: #008000">2      </span> │
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │ <span style="color: #008000; text-decoration-color: #008000">hello  </span> │
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4</span> │ <span style="color: #008000; text-decoration-color: #008000">world  </span> │
└─────────┴─────────┘
</pre>
</div>
</div>
<div id="a79723c0" class="cell" data-execution_count="140">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> t.mutate(numbers_to_strings<span class="op">=</span>_.numbers.try_cast(<span class="st">"string"</span>))</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> t.mutate(strings_to_numbers<span class="op">=</span>_.strings.try_cast(<span class="st">"int"</span>))</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="140">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> numbers </span>┃<span style="font-weight: bold"> strings </span>┃<span style="font-weight: bold"> numbers_to_strings </span>┃<span style="font-weight: bold"> strings_to_numbers </span>┃
┡━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>   │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>  │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>             │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>              │
├─────────┼─────────┼────────────────────┼────────────────────┤
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │ <span style="color: #008000; text-decoration-color: #008000">1.0    </span> │ <span style="color: #008000; text-decoration-color: #008000">1                 </span> │                  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │ <span style="color: #008000; text-decoration-color: #008000">2      </span> │ <span style="color: #008000; text-decoration-color: #008000">2                 </span> │                  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │ <span style="color: #008000; text-decoration-color: #008000">hello  </span> │ <span style="color: #008000; text-decoration-color: #008000">3                 </span> │               <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4</span> │ <span style="color: #008000; text-decoration-color: #008000">world  </span> │ <span style="color: #008000; text-decoration-color: #008000">4                 </span> │               <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │
└─────────┴─────────┴────────────────────┴────────────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Value.type" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.type">type</h3>
<p><code>type()</code></p>
<p>Return the <a href="../reference/datatypes.html">DataType</a> of <code>self</code>.</p>
</section>
<section id="ibis.expr.types.generic.Value.typeof" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Value.typeof">typeof</h3>
<p><code>typeof()</code></p>
<p>Return the string name of the datatype of self.</p>
<p>The values of the returned strings are necessarily backend dependent. e.g.&nbsp;duckdb may say “DOUBLE”, while sqlite may say “real”.</p>
<section id="returns-17" class="level4">
<h4 class="anchored" data-anchor-id="returns-17">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 41%">
<col style="width: 58%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>StringValue</code></td>
<td>A string indicating the type of the value</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-19" class="level4">
<h4 class="anchored" data-anchor-id="examples-19">Examples</h4>
<div id="0cdc5ac7" class="cell" data-execution_count="143">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> vals <span class="op">=</span> ibis.examples.penguins.fetch().head(<span class="dv">5</span>).bill_length_mm</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> vals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="143">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> bill_length_mm </span>┃
┡━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>        │
├────────────────┤
│           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.1</span> │
│           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.5</span> │
│           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">40.3</span> │
│           <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │
│           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">36.7</span> │
└────────────────┘
</pre>
</div>
</div>
<div id="aaecb227" class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> vals.typeof()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="146">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> TypeOf(bill_length_mm) </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>                 │
├────────────────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">DOUBLE                </span> │
│ <span style="color: #008000; text-decoration-color: #008000">DOUBLE                </span> │
│ <span style="color: #008000; text-decoration-color: #008000">DOUBLE                </span> │
│ <span style="color: #008000; text-decoration-color: #008000">DOUBLE                </span> │
│ <span style="color: #008000; text-decoration-color: #008000">DOUBLE                </span> │
└────────────────────────┘
</pre>
</div>
</div>
<p>Different backends have different names for their native types</p>
<div id="17ff9f62" class="cell" data-execution_count="149">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.duckdb.<span class="ex">connect</span>().execute(ibis.literal(<span class="fl">5.4</span>).typeof())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="149">
<pre><code>'DECIMAL(2,1)'</code></pre>
</div>
</div>
<div id="86ec6ebd" class="cell" data-execution_count="152">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.sqlite.<span class="ex">connect</span>().execute(ibis.literal(<span class="fl">5.4</span>).typeof())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="152">
<pre><code>'real'</code></pre>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="ibis.expr.types.generic.Column" class="level1">
<h1>Column</h1>
<p><code>Column(self, arg)</code></p>
<section id="methods-1" class="level2">
<h2 class="anchored" data-anchor-id="methods-1">Methods</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.approx_median">approx_median</a></td>
<td>Return an approximate of the median of <code>self</code>.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.approx_nunique">approx_nunique</a></td>
<td>Return the approximate number of distinct elements in <code>self</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.arbitrary">arbitrary</a></td>
<td>Select an arbitrary value in a column.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.argmax">argmax</a></td>
<td>Return the value of <code>self</code> that maximizes <code>key</code>.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.argmin">argmin</a></td>
<td>Return the value of <code>self</code> that minimizes <code>key</code>.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.as_scalar">as_scalar</a></td>
<td>Inform ibis that the expression should be treated as a scalar.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.as_table">as_table</a></td>
<td>Promote the expression to a <a href="../reference/expression-tables.html#ibis.expr.types.Table">Table</a>.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.count">count</a></td>
<td>Compute the number of rows in an expression.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.cume_dist">cume_dist</a></td>
<td>Return the cumulative distribution over a window.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.cummax">cummax</a></td>
<td>Return the cumulative max over a window.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.cummin">cummin</a></td>
<td>Return the cumulative min over a window.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.dense_rank">dense_rank</a></td>
<td>Position of first element within each group of equal values.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.first">first</a></td>
<td>Return the first value of a column.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.lag">lag</a></td>
<td>Return the row located at <code>offset</code> rows <strong>before</strong> the current row.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.last">last</a></td>
<td>Return the last value of a column.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.lead">lead</a></td>
<td>Return the row located at <code>offset</code> rows <strong>after</strong> the current row.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.max">max</a></td>
<td>Return the maximum of a column.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.median">median</a></td>
<td>Return the median of the column.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.min">min</a></td>
<td>Return the minimum of a column.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.mode">mode</a></td>
<td>Return the mode of a column.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.nth">nth</a></td>
<td>Return the <code>n</code>th value (0-indexed) over a window.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.ntile">ntile</a></td>
<td>Return the integer number of a partitioning of the column values.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.nunique">nunique</a></td>
<td>Compute the number of distinct rows in an expression.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.percent_rank">percent_rank</a></td>
<td>Return the relative rank of the values in the column.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.preview">preview</a></td>
<td>Print a subset as a single-column Rich Table.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.quantile">quantile</a></td>
<td>Return value at the given quantile.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.rank">rank</a></td>
<td>Compute position of first element within each equal-value group in sorted order.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Column.topk">topk</a></td>
<td>Return a “top k” expression.</td>
</tr>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Column.value_counts">value_counts</a></td>
<td>Compute a frequency table.</td>
</tr>
</tbody>
</table>
<section id="ibis.expr.types.generic.Column.approx_median" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.approx_median">approx_median</h3>
<p><code>approx_median(where=None)</code></p>
<p>Return an approximate of the median of <code>self</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The result may or may not be exact
</div>
</div>
<div class="callout-body-container callout-body">
<p>Whether the result is an approximation depends on the backend.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Do not depend on the results being exact
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
</div>
</div>
<section id="parameters-16" class="level4">
<h4 class="anchored" data-anchor-id="parameters-16">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 56%">
<col style="width: 29%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>Filter in values when <code>where</code> is <code>True</code></td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-18" class="level4">
<h4 class="anchored" data-anchor-id="returns-18">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>An approximation of the median of <code>self</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-20" class="level4">
<h4 class="anchored" data-anchor-id="examples-20">Examples</h4>
<div id="a19805f9" class="cell" data-execution_count="155">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.approx_median()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="155">
<div class="ansi-escaped-output">
<pre>┌────────┐
│ <span class="ansi-cyan-fg ansi-bold">4030.0</span> │
└────────┘</pre>
</div>
</div>
</div>
<div id="9edd05d2" class="cell" data-execution_count="158">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.approx_median(where<span class="op">=</span>t.species <span class="op">==</span> <span class="st">"Chinstrap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="158">
<div class="ansi-escaped-output">
<pre>┌────────┐
│ <span class="ansi-cyan-fg ansi-bold">3700.0</span> │
└────────┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.approx_nunique" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.approx_nunique">approx_nunique</h3>
<p><code>approx_nunique(where=None)</code></p>
<p>Return the approximate number of distinct elements in <code>self</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The result may or may not be exact
</div>
</div>
<div class="callout-body-container callout-body">
<p>Whether the result is an approximation depends on the backend.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Do not depend on the results being exact
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
</div>
</div>
<section id="parameters-17" class="level4">
<h4 class="anchored" data-anchor-id="parameters-17">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 56%">
<col style="width: 29%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>Filter in values when <code>where</code> is <code>True</code></td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-19" class="level4">
<h4 class="anchored" data-anchor-id="returns-19">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>An approximate count of the distinct elements of <code>self</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-21" class="level4">
<h4 class="anchored" data-anchor-id="examples-21">Examples</h4>
<div id="86f3c437" class="cell" data-execution_count="161">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.approx_nunique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="161">
<div class="ansi-escaped-output">
<pre>┌────┐
│ <span class="ansi-cyan-fg ansi-bold">92</span> │
└────┘</pre>
</div>
</div>
</div>
<div id="1d1817b5" class="cell" data-execution_count="164">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.approx_nunique(where<span class="op">=</span>t.species <span class="op">==</span> <span class="st">"Adelie"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="164">
<div class="ansi-escaped-output">
<pre>┌────┐
│ <span class="ansi-cyan-fg ansi-bold">61</span> │
└────┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.arbitrary" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.arbitrary">arbitrary</h3>
<p><code>arbitrary(where=None, how=None)</code></p>
<p>Select an arbitrary value in a column.</p>
<p>Returns an arbitrary (nondeterministic, backend-specific) value from the column. The value will be non-NULL, except if the column is empty or all values are NULL.</p>
<section id="parameters-18" class="level4">
<h4 class="anchored" data-anchor-id="parameters-18">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>A filter expression</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>how</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>DEPRECATED</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-20" class="level4">
<h4 class="anchored" data-anchor-id="returns-20">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>An expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-22" class="level4">
<h4 class="anchored" data-anchor-id="examples-22">Examples</h4>
<div id="1004373d" class="cell" data-execution_count="167">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"a"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>], <span class="st">"b"</span>: <span class="bu">list</span>(<span class="st">"aaa"</span>), <span class="st">"c"</span>: [<span class="fl">4.0</span>, <span class="fl">4.1</span>, <span class="fl">4.2</span>]})</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="167">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━┳━━━━━━━━┳━━━━━━━━━┓
┃<span style="font-weight: bold"> a     </span>┃<span style="font-weight: bold"> b      </span>┃<span style="font-weight: bold"> c       </span>┃
┡━━━━━━━╇━━━━━━━━╇━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span> │
├───────┼────────┼─────────┤
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │ <span style="color: #008000; text-decoration-color: #008000">a     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4.0</span> │
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │ <span style="color: #008000; text-decoration-color: #008000">a     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4.1</span> │
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │ <span style="color: #008000; text-decoration-color: #008000">a     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4.2</span> │
└───────┴────────┴─────────┘
</pre>
</div>
</div>
<div id="bea8cd83" class="cell" data-execution_count="170">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.group_by(<span class="st">"a"</span>).agg(arb<span class="op">=</span>t.b.arbitrary(), c<span class="op">=</span>t.c.<span class="bu">sum</span>()).order_by(<span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="170">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━┳━━━━━━━━┳━━━━━━━━━┓
┃<span style="font-weight: bold"> a     </span>┃<span style="font-weight: bold"> arb    </span>┃<span style="font-weight: bold"> c       </span>┃
┡━━━━━━━╇━━━━━━━━╇━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span> │
├───────┼────────┼─────────┤
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │ <span style="color: #008000; text-decoration-color: #008000">a     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4.0</span> │
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │ <span style="color: #008000; text-decoration-color: #008000">a     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">8.3</span> │
└───────┴────────┴─────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.argmax" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.argmax">argmax</h3>
<p><code>argmax(key, where=None)</code></p>
<p>Return the value of <code>self</code> that maximizes <code>key</code>.</p>
<section id="parameters-19" class="level4">
<h4 class="anchored" data-anchor-id="parameters-19">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 58%">
<col style="width: 26%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>key</code></td>
<td><code>ir</code>.<code>Value</code></td>
<td>Key to use for <code>max</code> computation.</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>Keep values when <code>where</code> is <code>True</code></td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-21" class="level4">
<h4 class="anchored" data-anchor-id="returns-21">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>The value of <code>self</code> that maximizes <code>key</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-23" class="level4">
<h4 class="anchored" data-anchor-id="examples-23">Examples</h4>
<div id="1c3ece0f" class="cell" data-execution_count="173">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.species.argmax(t.body_mass_g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="173">
<div class="ansi-escaped-output">
<pre>┌────────┐
│ <span class="ansi-green-fg">Gentoo</span> │
└────────┘</pre>
</div>
</div>
</div>
<div id="6495fc2f" class="cell" data-execution_count="176">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.species.argmax(t.body_mass_g, where<span class="op">=</span>t.island <span class="op">==</span> <span class="st">"Dream"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="176">
<div class="ansi-escaped-output">
<pre>┌───────────┐
│ <span class="ansi-green-fg">Chinstrap</span> │
└───────────┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.argmin" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.argmin">argmin</h3>
<p><code>argmin(key, where=None)</code></p>
<p>Return the value of <code>self</code> that minimizes <code>key</code>.</p>
<section id="parameters-20" class="level4">
<h4 class="anchored" data-anchor-id="parameters-20">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 58%">
<col style="width: 26%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>key</code></td>
<td><code>ir</code>.<code>Value</code></td>
<td>Key to use for <code>min</code> computation.</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>Keep values when <code>where</code> is <code>True</code></td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-22" class="level4">
<h4 class="anchored" data-anchor-id="returns-22">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>The value of <code>self</code> that minimizes <code>key</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-24" class="level4">
<h4 class="anchored" data-anchor-id="examples-24">Examples</h4>
<div id="59ec680c" class="cell" data-execution_count="179">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.species.argmin(t.body_mass_g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="179">
<div class="ansi-escaped-output">
<pre>┌───────────┐
│ <span class="ansi-green-fg">Chinstrap</span> │
└───────────┘</pre>
</div>
</div>
</div>
<div id="e1e176ca" class="cell" data-execution_count="182">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.species.argmin(t.body_mass_g, where<span class="op">=</span>t.island <span class="op">==</span> <span class="st">"Biscoe"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="182">
<div class="ansi-escaped-output">
<pre>┌────────┐
│ <span class="ansi-green-fg">Adelie</span> │
└────────┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.as_scalar" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.as_scalar">as_scalar</h3>
<p><code>as_scalar()</code></p>
<p>Inform ibis that the expression should be treated as a scalar.</p>
<p>Creates a scalar subquery from the column expression. Since ibis cannot be sure that the column expression contains only one value, the column expression is wrapped in a scalar subquery and treated as a scalar.</p>
<p>Note that the execution of the scalar subquery will fail if the column expression contains more than one value.</p>
<section id="returns-23" class="level4">
<h4 class="anchored" data-anchor-id="returns-23">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>A scalar subquery</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-25" class="level4">
<h4 class="anchored" data-anchor-id="examples-25">Examples</h4>
<div id="54400f99" class="cell" data-execution_count="185">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> heavy_gentoo <span class="op">=</span> t.<span class="bu">filter</span>(t.species <span class="op">==</span> <span class="st">"Gentoo"</span>, t.body_mass_g <span class="op">&gt;</span> <span class="dv">6200</span>)</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> from_that_island <span class="op">=</span> t.<span class="bu">filter</span>(t.island <span class="op">==</span> heavy_gentoo.island.as_scalar())</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> from_that_island.species.value_counts().order_by(<span class="st">"species"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="185">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━┳━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> species </span>┃<span style="font-weight: bold"> species_count </span>┃
┡━━━━━━━━━╇━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>  │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>         │
├─────────┼───────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │            <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">44</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Gentoo </span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">124</span> │
└─────────┴───────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.as_table" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.as_table">as_table</h3>
<p><code>as_table()</code></p>
<p>Promote the expression to a <a href="../reference/expression-tables.html#ibis.expr.types.Table">Table</a>.</p>
<section id="returns-24" class="level4">
<h4 class="anchored" data-anchor-id="returns-24">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Table</code></td>
<td>A table expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-26" class="level4">
<h4 class="anchored" data-anchor-id="examples-26">Examples</h4>
<div id="974678ab" class="cell" data-execution_count="188">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.table(<span class="bu">dict</span>(a<span class="op">=</span><span class="st">"str"</span>), name<span class="op">=</span><span class="st">"t"</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr <span class="op">=</span> t.a.length().name(<span class="st">"len"</span>).as_table()</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expected <span class="op">=</span> t.select(<span class="bu">len</span><span class="op">=</span>t.a.length())</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr.equals(expected)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="188">
<pre><code>True</code></pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.count" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.count">count</h3>
<p><code>count(where=None)</code></p>
<p>Compute the number of rows in an expression.</p>
<section id="parameters-21" class="level4">
<h4 class="anchored" data-anchor-id="parameters-21">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 7%">
<col style="width: 67%">
<col style="width: 15%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>Filter expression</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-25" class="level4">
<h4 class="anchored" data-anchor-id="returns-25">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 47%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>IntegerScalar</code></td>
<td>Number of elements in an expression</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.generic.Column.cume_dist" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.cume_dist">cume_dist</h3>
<p><code>cume_dist()</code></p>
<p>Return the cumulative distribution over a window.</p>
</section>
<section id="ibis.expr.types.generic.Column.cummax" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.cummax">cummax</h3>
<p><code>cummax(where=None, group_by=None, order_by=None)</code></p>
<p>Return the cumulative max over a window.</p>
</section>
<section id="ibis.expr.types.generic.Column.cummin" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.cummin">cummin</h3>
<p><code>cummin(where=None, group_by=None, order_by=None)</code></p>
<p>Return the cumulative min over a window.</p>
</section>
<section id="ibis.expr.types.generic.Column.dense_rank" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.dense_rank">dense_rank</h3>
<p><code>dense_rank()</code></p>
<p>Position of first element within each group of equal values.</p>
<p>Values are returned in sorted order and duplicate values are ignored.</p>
<p>Equivalent to SQL’s <code>DENSE_RANK()</code>.</p>
<section id="returns-26" class="level4">
<h4 class="anchored" data-anchor-id="returns-26">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>IntegerColumn</code></td>
<td>The rank</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-27" class="level4">
<h4 class="anchored" data-anchor-id="examples-27">Examples</h4>
<div id="53a74016" class="cell" data-execution_count="191">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"values"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>]})</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.mutate(rank<span class="op">=</span>t.values.dense_rank())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="191">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┳━━━━━━━┓
┃<span style="font-weight: bold"> values </span>┃<span style="font-weight: bold"> rank  </span>┃
┡━━━━━━━━╇━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>  │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │
├────────┼───────┤
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
└────────┴───────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.first" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.first">first</h3>
<p><code>first(where=None, order_by=None, include_null=False)</code></p>
<p>Return the first value of a column.</p>
<section id="parameters-22" class="level4">
<h4 class="anchored" data-anchor-id="parameters-22">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>An optional filter expression. If provided, only rows where <code>where</code> is <code>True</code> will be included in the aggregate.</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>order_by</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>An ordering key (or keys) to use to order the rows before aggregating. If not provided, the meaning of <code>first</code> is undefined and will be backend specific.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>include_null</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></td>
<td>Whether to include null values when performing this aggregation. Set to <code>True</code> to include nulls in the result.</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-28" class="level4">
<h4 class="anchored" data-anchor-id="examples-28">Examples</h4>
<div id="83a6a758" class="cell" data-execution_count="194">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"chars"</span>: [<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>]})</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="194">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┓
┃<span style="font-weight: bold"> chars  </span>┃
┡━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │
├────────┤
│ <span style="color: #008000; text-decoration-color: #008000">a     </span> │
│ <span style="color: #008000; text-decoration-color: #008000">b     </span> │
│ <span style="color: #008000; text-decoration-color: #008000">c     </span> │
│ <span style="color: #008000; text-decoration-color: #008000">d     </span> │
└────────┘
</pre>
</div>
</div>
<div id="de87fbd2" class="cell" data-execution_count="197">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.chars.first()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="197">
<div class="ansi-escaped-output">
<pre>┌───┐
│ <span class="ansi-green-fg">a</span> │
└───┘</pre>
</div>
</div>
</div>
<div id="61b21ff5" class="cell" data-execution_count="200">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.chars.first(where<span class="op">=</span>t.chars <span class="op">!=</span> <span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="200">
<div class="ansi-escaped-output">
<pre>┌───┐
│ <span class="ansi-green-fg">b</span> │
└───┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.lag" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.lag">lag</h3>
<p><code>lag(offset=None, default=None)</code></p>
<p>Return the row located at <code>offset</code> rows <strong>before</strong> the current row.</p>
<section id="parameters-23" class="level4">
<h4 class="anchored" data-anchor-id="parameters-23">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>offset</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#int">int</a> | <code>ir</code>.<code>IntegerValue</code> | None</td>
<td>Index of row to select</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>default</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a> | None</td>
<td>Value used if no row exists at <code>offset</code></td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.generic.Column.last" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.last">last</h3>
<p><code>last(where=None, order_by=None, include_null=False)</code></p>
<p>Return the last value of a column.</p>
<section id="parameters-24" class="level4">
<h4 class="anchored" data-anchor-id="parameters-24">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>An optional filter expression. If provided, only rows where <code>where</code> is <code>True</code> will be included in the aggregate.</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>order_by</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>An ordering key (or keys) to use to order the rows before aggregating. If not provided, the meaning of <code>last</code> is undefined and will be backend specific.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>include_null</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></td>
<td>Whether to include null values when performing this aggregation. Set to <code>True</code> to include nulls in the result.</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-29" class="level4">
<h4 class="anchored" data-anchor-id="examples-29">Examples</h4>
<div id="c355d4d8" class="cell" data-execution_count="203">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"chars"</span>: [<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>]})</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="203">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┓
┃<span style="font-weight: bold"> chars  </span>┃
┡━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │
├────────┤
│ <span style="color: #008000; text-decoration-color: #008000">a     </span> │
│ <span style="color: #008000; text-decoration-color: #008000">b     </span> │
│ <span style="color: #008000; text-decoration-color: #008000">c     </span> │
│ <span style="color: #008000; text-decoration-color: #008000">d     </span> │
└────────┘
</pre>
</div>
</div>
<div id="4dce1855" class="cell" data-execution_count="206">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.chars.last()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="206">
<div class="ansi-escaped-output">
<pre>┌───┐
│ <span class="ansi-green-fg">d</span> │
└───┘</pre>
</div>
</div>
</div>
<div id="2892f253" class="cell" data-execution_count="209">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.chars.last(where<span class="op">=</span>t.chars <span class="op">!=</span> <span class="st">"d"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="209">
<div class="ansi-escaped-output">
<pre>┌───┐
│ <span class="ansi-green-fg">c</span> │
└───┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.lead" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.lead">lead</h3>
<p><code>lead(offset=None, default=None)</code></p>
<p>Return the row located at <code>offset</code> rows <strong>after</strong> the current row.</p>
<section id="parameters-25" class="level4">
<h4 class="anchored" data-anchor-id="parameters-25">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>offset</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#int">int</a> | <code>ir</code>.<code>IntegerValue</code> | None</td>
<td>Index of row to select</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>default</code></td>
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value">Value</a> | None</td>
<td>Value used if no row exists at <code>offset</code></td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.generic.Column.max" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.max">max</h3>
<p><code>max(where=None)</code></p>
<p>Return the maximum of a column.</p>
<section id="parameters-26" class="level4">
<h4 class="anchored" data-anchor-id="parameters-26">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 56%">
<col style="width: 29%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>Filter in values when <code>where</code> is <code>True</code></td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-27" class="level4">
<h4 class="anchored" data-anchor-id="returns-27">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>The maximum value in <code>self</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-30" class="level4">
<h4 class="anchored" data-anchor-id="examples-30">Examples</h4>
<div id="23c880e6" class="cell" data-execution_count="212">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.<span class="bu">max</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="212">
<div class="ansi-escaped-output">
<pre>┌──────┐
│ <span class="ansi-cyan-fg ansi-bold">6300</span> │
└──────┘</pre>
</div>
</div>
</div>
<div id="b0070e1d" class="cell" data-execution_count="215">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.<span class="bu">max</span>(where<span class="op">=</span>t.species <span class="op">==</span> <span class="st">"Chinstrap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="215">
<div class="ansi-escaped-output">
<pre>┌──────┐
│ <span class="ansi-cyan-fg ansi-bold">4800</span> │
└──────┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.median" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.median">median</h3>
<p><code>median(where=None)</code></p>
<p>Return the median of the column.</p>
<section id="parameters-27" class="level4">
<h4 class="anchored" data-anchor-id="parameters-27">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 4%">
<col style="width: 35%">
<col style="width: 55%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>Optional boolean expression. If given, only the values where <code>where</code> evaluates to true will be considered for the median.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-28" class="level4">
<h4 class="anchored" data-anchor-id="returns-28">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>Median of the column</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-31" class="level4">
<h4 class="anchored" data-anchor-id="examples-31">Examples</h4>
<div id="2fa1b84f" class="cell" data-execution_count="218">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Compute the median of <code>bill_depth_mm</code></p>
<div id="3805e5ae" class="cell" data-execution_count="221">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_depth_mm.median()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="221">
<div class="ansi-escaped-output">
<pre>┌──────┐
│ <span class="ansi-cyan-fg ansi-bold">17.3</span> │
└──────┘</pre>
</div>
</div>
</div>
<div id="ecb2fa89" class="cell" data-execution_count="224">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.group_by(t.species).agg(median_bill_depth<span class="op">=</span>t.bill_depth_mm.median()).order_by(</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>...     ibis.desc(<span class="st">"median_bill_depth"</span>)</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>... )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="224">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> species   </span>┃<span style="font-weight: bold"> median_bill_depth </span>┃
┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>    │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>           │
├───────────┼───────────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">Chinstrap</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.45</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie   </span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.40</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Gentoo   </span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">15.00</span> │
└───────────┴───────────────────┘
</pre>
</div>
</div>
<p>In addition to numeric types, any orderable non-numeric types such as strings and dates work with <code>median</code>.</p>
<div id="fc4425ef" class="cell" data-execution_count="227">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.group_by(t.island).agg(median_species<span class="op">=</span>t.species.median()).order_by(</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>...     ibis.desc(<span class="st">"median_species"</span>)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>... )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="227">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> island    </span>┃<span style="font-weight: bold"> median_species </span>┃
┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>    │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>         │
├───────────┼────────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">Biscoe   </span> │ <span style="color: #008000; text-decoration-color: #008000">Gentoo        </span> │
│ <span style="color: #008000; text-decoration-color: #008000">Dream    </span> │ <span style="color: #008000; text-decoration-color: #008000">Chinstrap     </span> │
│ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │ <span style="color: #008000; text-decoration-color: #008000">Adelie        </span> │
└───────────┴────────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.min" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.min">min</h3>
<p><code>min(where=None)</code></p>
<p>Return the minimum of a column.</p>
<section id="parameters-28" class="level4">
<h4 class="anchored" data-anchor-id="parameters-28">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 56%">
<col style="width: 29%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>Filter in values when <code>where</code> is <code>True</code></td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-29" class="level4">
<h4 class="anchored" data-anchor-id="returns-29">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>The minimum value in <code>self</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-32" class="level4">
<h4 class="anchored" data-anchor-id="examples-32">Examples</h4>
<div id="ccbc4830" class="cell" data-execution_count="230">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.<span class="bu">min</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="230">
<div class="ansi-escaped-output">
<pre>┌──────┐
│ <span class="ansi-cyan-fg ansi-bold">2700</span> │
└──────┘</pre>
</div>
</div>
</div>
<div id="cc5de8da" class="cell" data-execution_count="233">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.<span class="bu">min</span>(where<span class="op">=</span>t.species <span class="op">==</span> <span class="st">"Adelie"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="233">
<div class="ansi-escaped-output">
<pre>┌──────┐
│ <span class="ansi-cyan-fg ansi-bold">2850</span> │
└──────┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.mode" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.mode">mode</h3>
<p><code>mode(where=None)</code></p>
<p>Return the mode of a column.</p>
<section id="parameters-29" class="level4">
<h4 class="anchored" data-anchor-id="parameters-29">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 56%">
<col style="width: 29%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>Filter in values when <code>where</code> is <code>True</code></td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-30" class="level4">
<h4 class="anchored" data-anchor-id="returns-30">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>The mode of <code>self</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-33" class="level4">
<h4 class="anchored" data-anchor-id="examples-33">Examples</h4>
<div id="91b4fc4b" class="cell" data-execution_count="236">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.mode()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="236">
<div class="ansi-escaped-output">
<pre>┌──────┐
│ <span class="ansi-cyan-fg ansi-bold">3800</span> │
└──────┘</pre>
</div>
</div>
</div>
<div id="c2939ea8" class="cell" data-execution_count="239">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.mode(where<span class="op">=</span>(t.species <span class="op">==</span> <span class="st">"Gentoo"</span>) <span class="op">&amp;</span> (t.sex <span class="op">==</span> <span class="st">"male"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="239">
<div class="ansi-escaped-output">
<pre>┌──────┐
│ <span class="ansi-cyan-fg ansi-bold">5550</span> │
└──────┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.nth" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.nth">nth</h3>
<p><code>nth(n)</code></p>
<p>Return the <code>n</code>th value (0-indexed) over a window.</p>
<p><code>.nth(0)</code> is equivalent to <code>.first()</code>. Negative will result in <code>NULL</code>. If the value of <code>n</code> is greater than the number of rows in the window, <code>NULL</code> will be returned.</p>
<section id="parameters-30" class="level4">
<h4 class="anchored" data-anchor-id="parameters-30">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>n</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#int">int</a> | <code>ir</code>.<code>IntegerValue</code></td>
<td>Desired rank value</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-31" class="level4">
<h4 class="anchored" data-anchor-id="returns-31">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Column">Column</a></td>
<td>The nth value over a window</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.generic.Column.ntile" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.ntile">ntile</h3>
<p><code>ntile(buckets)</code></p>
<p>Return the integer number of a partitioning of the column values.</p>
<section id="parameters-31" class="level4">
<h4 class="anchored" data-anchor-id="parameters-31">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>buckets</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#int">int</a> | <code>ir</code>.<code>IntegerValue</code></td>
<td>Number of buckets to partition into</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.generic.Column.nunique" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.nunique">nunique</h3>
<p><code>nunique(where=None)</code></p>
<p>Compute the number of distinct rows in an expression.</p>
<section id="parameters-32" class="level4">
<h4 class="anchored" data-anchor-id="parameters-32">Parameters</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 7%">
<col style="width: 67%">
<col style="width: 15%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>Filter expression</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-32" class="level4">
<h4 class="anchored" data-anchor-id="returns-32">Returns</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 42%">
<col style="width: 57%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>IntegerScalar</code></td>
<td>Number of distinct elements in an expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-34" class="level4">
<h4 class="anchored" data-anchor-id="examples-34">Examples</h4>
<div id="b56759d8" class="cell" data-execution_count="242">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.nunique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="242">
<div class="ansi-escaped-output">
<pre>┌────┐
│ <span class="ansi-cyan-fg ansi-bold">94</span> │
└────┘</pre>
</div>
</div>
</div>
<div id="973f7426" class="cell" data-execution_count="245">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.body_mass_g.nunique(where<span class="op">=</span>t.species <span class="op">==</span> <span class="st">"Adelie"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="245">
<div class="ansi-escaped-output">
<pre>┌────┐
│ <span class="ansi-cyan-fg ansi-bold">55</span> │
└────┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.percent_rank" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.percent_rank">percent_rank</h3>
<p><code>percent_rank()</code></p>
<p>Return the relative rank of the values in the column.</p>
</section>
<section id="ibis.expr.types.generic.Column.preview" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.preview">preview</h3>
<p><code>preview(max_rows=None, max_length=None, max_string=None, max_depth=None, console_width=None)</code></p>
<p>Print a subset as a single-column Rich Table.</p>
<p>This is an explicit version of what you get when you inspect this object in interactive mode, except with this version you can pass formatting options. The options are the same as those exposed in <code>ibis.options.interactive</code>.</p>
<section id="parameters-33" class="level4">
<h4 class="anchored" data-anchor-id="parameters-33">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>max_rows</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#int">int</a> | None</td>
<td>Maximum number of rows to display</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>max_length</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#int">int</a> | None</td>
<td>Maximum length for pretty-printed arrays and maps.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>max_string</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#int">int</a> | None</td>
<td>Maximum length for pretty-printed strings.</td>
<td><code>None</code></td>
</tr>
<tr class="even">
<td><code>max_depth</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#int">int</a> | None</td>
<td>Maximum depth for nested data types.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>console_width</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#int">int</a> | <a href="https://docs.python.org/3/library/functions.html#float">float</a> | None</td>
<td>Width of the console in characters. If not specified, the width will be inferred from the console.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="examples-35" class="level4">
<h4 class="anchored" data-anchor-id="examples-35">Examples</h4>
<div id="ec56feb5" class="cell" data-execution_count="248">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.island.preview(max_rows<span class="op">=</span><span class="dv">3</span>, max_string<span class="op">=</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="248">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┓
┃<span style="font-weight: bold"> island </span>┃
┡━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">stri…</span>  │
├────────┤
│ <span style="color: #008000; text-decoration-color: #008000">Torg… </span> │
│ <span style="color: #008000; text-decoration-color: #008000">Torg… </span> │
│ <span style="color: #008000; text-decoration-color: #008000">Torg… </span> │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span>      │
└────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.quantile" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.quantile">quantile</h3>
<p><code>quantile(quantile, where=None)</code></p>
<p>Return value at the given quantile.</p>
<p>The output of this method is a continuous quantile if the input is numeric, otherwise the output is a discrete quantile.</p>
<section id="parameters-34" class="level4">
<h4 class="anchored" data-anchor-id="parameters-34">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>quantile</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#float">float</a> | <code>ir</code>.<code>NumericValue</code> | <a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<code>ir</code>.<code>NumericValue</code> | <a href="https://docs.python.org/3/library/functions.html#float">float</a>]</td>
<td><code>0 &lt;= quantile &lt;= 1</code>, or an array of such values indicating the quantile or quantiles to compute</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>where</code></td>
<td><code>ir</code>.<code>BooleanValue</code> | None</td>
<td>Boolean filter for input values</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-33" class="level4">
<h4 class="anchored" data-anchor-id="returns-33">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>Quantile of the input</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-36" class="level4">
<h4 class="anchored" data-anchor-id="examples-36">Examples</h4>
<div id="006f11b1" class="cell" data-execution_count="251">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Compute the 99th percentile of <code>bill_depth</code></p>
<div id="be277977" class="cell" data-execution_count="254">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.bill_depth_mm.quantile(<span class="fl">0.99</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="254">
<div class="ansi-escaped-output">
<pre>┌──────┐
│ <span class="ansi-cyan-fg ansi-bold">21.1</span> │
└──────┘</pre>
</div>
</div>
</div>
<div id="3e12076d" class="cell" data-execution_count="257">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.group_by(t.species).agg(p99_bill_depth<span class="op">=</span>t.bill_depth_mm.quantile(<span class="fl">0.99</span>)).order_by(</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>...     ibis.desc(<span class="st">"p99_bill_depth"</span>)</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>... )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="257">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> species   </span>┃<span style="font-weight: bold"> p99_bill_depth </span>┃
┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>    │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>        │
├───────────┼────────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">Adelie   </span> │         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">21.200</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Chinstrap</span> │         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">20.733</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Gentoo   </span> │         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.256</span> │
└───────────┴────────────────┘
</pre>
</div>
</div>
<p>In addition to numeric types, any orderable non-numeric types such as strings and dates work with <code>quantile</code>.</p>
<p>Let’s compute the 99th percentile of the <code>species</code> column</p>
<div id="fe39d7f0" class="cell" data-execution_count="260">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.group_by(t.island).agg(p99_species<span class="op">=</span>t.species.quantile(<span class="fl">0.99</span>)).order_by(</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>...     ibis.desc(<span class="st">"p99_species"</span>)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>... )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="260">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━┳━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> island    </span>┃<span style="font-weight: bold"> p99_species </span>┃
┡━━━━━━━━━━━╇━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>    │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>      │
├───────────┼─────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">Biscoe   </span> │ <span style="color: #008000; text-decoration-color: #008000">Gentoo     </span> │
│ <span style="color: #008000; text-decoration-color: #008000">Dream    </span> │ <span style="color: #008000; text-decoration-color: #008000">Chinstrap  </span> │
│ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │ <span style="color: #008000; text-decoration-color: #008000">Adelie     </span> │
└───────────┴─────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.rank" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.rank">rank</h3>
<p><code>rank()</code></p>
<p>Compute position of first element within each equal-value group in sorted order.</p>
<p>Equivalent to SQL’s <code>RANK()</code> window function.</p>
<section id="returns-34" class="level4">
<h4 class="anchored" data-anchor-id="returns-34">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Int64Column</code></td>
<td>The min rank</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-37" class="level4">
<h4 class="anchored" data-anchor-id="examples-37">Examples</h4>
<div id="beb35d5b" class="cell" data-execution_count="263">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"values"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>]})</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.mutate(rank<span class="op">=</span>t.values.rank())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="263">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┳━━━━━━━┓
┃<span style="font-weight: bold"> values </span>┃<span style="font-weight: bold"> rank  </span>┃
┡━━━━━━━━╇━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>  │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │
├────────┼───────┤
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">5</span> │
└────────┴───────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.topk" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.topk">topk</h3>
<p><code>topk(k, by=None, *, name=None)</code></p>
<p>Return a “top k” expression.</p>
<p>Computes a Table containing the top <code>k</code> values by a certain metric (defaults to count).</p>
<section id="parameters-35" class="level4">
<h4 class="anchored" data-anchor-id="parameters-35">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>k</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#int">int</a></td>
<td>The number of rows to return.</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>by</code></td>
<td><code>ir</code>.<code>Value</code> | None</td>
<td>The metric to compute “top” by. Defaults to <code>count</code>.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>name</code></td>
<td><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</td>
<td>The name to use for the metric column. A suitable name will be automatically generated if not provided.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-35" class="level4">
<h4 class="anchored" data-anchor-id="returns-35">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Table</code></td>
<td>The top <code>k</code> values.</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-38" class="level4">
<h4 class="anchored" data-anchor-id="examples-38">Examples</h4>
<div id="19a5ebc2" class="cell" data-execution_count="266">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.diamonds.fetch()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Compute the top 3 diamond colors by frequency:</p>
<div id="b1064a81" class="cell" data-execution_count="269">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.color.topk(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="269">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> color  </span>┃<span style="font-weight: bold"> CountStar(diamonds) </span>┃
┡━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>               │
├────────┼─────────────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">G     </span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">11292</span> │
│ <span style="color: #008000; text-decoration-color: #008000">E     </span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">9797</span> │
│ <span style="color: #008000; text-decoration-color: #008000">F     </span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">9542</span> │
└────────┴─────────────────────┘
</pre>
</div>
</div>
<p>Compute the top 3 diamond colors by mean price:</p>
<div id="b4ed5192" class="cell" data-execution_count="272">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.color.topk(<span class="dv">3</span>, by<span class="op">=</span>t.price.mean())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="272">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┳━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> color  </span>┃<span style="font-weight: bold"> Mean(price) </span>┃
┡━━━━━━━━╇━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>     │
├────────┼─────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">J     </span> │ <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">5323.818020</span> │
│ <span style="color: #008000; text-decoration-color: #008000">I     </span> │ <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">5091.874954</span> │
│ <span style="color: #008000; text-decoration-color: #008000">H     </span> │ <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4486.669196</span> │
└────────┴─────────────┘
</pre>
</div>
</div>
<p>Compute the top 2 diamond colors by max carat:</p>
<div id="413a9c6e" class="cell" data-execution_count="275">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.color.topk(<span class="dv">2</span>, by<span class="op">=</span>t.carat.<span class="bu">max</span>(), name<span class="op">=</span><span class="st">"max_carat"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="275">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┳━━━━━━━━━━━┓
┃<span style="font-weight: bold"> color  </span>┃<span style="font-weight: bold"> max_carat </span>┃
┡━━━━━━━━╇━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>   │
├────────┼───────────┤
│ <span style="color: #008000; text-decoration-color: #008000">J     </span> │      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">5.01</span> │
│ <span style="color: #008000; text-decoration-color: #008000">H     </span> │      <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4.13</span> │
└────────┴───────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Column.value_counts" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Column.value_counts">value_counts</h3>
<p><code>value_counts(name=None)</code></p>
<p>Compute a frequency table.</p>
<section id="parameters-36" class="level4">
<h4 class="anchored" data-anchor-id="parameters-36">Parameters</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>name</code></td>
<td><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</td>
<td>The name to use for the frequency column. A suitable name will be automatically generated if not provided.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-36" class="level4">
<h4 class="anchored" data-anchor-id="returns-36">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Table</code></td>
<td>The frequency table.</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-39" class="level4">
<h4 class="anchored" data-anchor-id="examples-39">Examples</h4>
<div id="3a966f2b" class="cell" data-execution_count="278">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"chars"</span>: [<span class="st">"a"</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"c"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"d"</span>, <span class="st">"d"</span>, <span class="st">"d"</span>]})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Compute the count of each unique value in “chars”, ordered by “chars”:</p>
<div id="980b08ed" class="cell" data-execution_count="281">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.chars.value_counts().order_by(<span class="st">"chars"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="281">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┳━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> chars  </span>┃<span style="font-weight: bold"> chars_count </span>┃
┡━━━━━━━━╇━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>       │
├────────┼─────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">a     </span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│ <span style="color: #008000; text-decoration-color: #008000">b     </span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│ <span style="color: #008000; text-decoration-color: #008000">c     </span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │
│ <span style="color: #008000; text-decoration-color: #008000">d     </span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4</span> │
└────────┴─────────────┘
</pre>
</div>
</div>
<p>Compute the count of each unique value in “chars” as a column named “freq”, ordered by “freq”:</p>
<div id="5792e907" class="cell" data-execution_count="284">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.chars.value_counts(name<span class="op">=</span><span class="st">"freq"</span>).order_by(<span class="st">"freq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="284">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━┳━━━━━━━┓
┃<span style="font-weight: bold"> chars  </span>┃<span style="font-weight: bold"> freq  </span>┃
┡━━━━━━━━╇━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │
├────────┼───────┤
│ <span style="color: #008000; text-decoration-color: #008000">b     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│ <span style="color: #008000; text-decoration-color: #008000">a     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│ <span style="color: #008000; text-decoration-color: #008000">c     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │
│ <span style="color: #008000; text-decoration-color: #008000">d     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4</span> │
└────────┴───────┘
</pre>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="ibis.common.deferred.Deferred" class="level1">
<h1>Deferred</h1>
<p><code>Deferred(self, obj, repr=None)</code></p>
<p>The user facing wrapper object providing syntactic sugar for deferreds.</p>
<p>Provides a natural-like syntax for constructing deferred expressions by overloading all of the available dunder methods including the equality operator.</p>
<p>Its sole purpose is to provide a nicer syntax for constructing deferred expressions, thus it gets unwrapped to the underlying deferred expression when used by the rest of the library.</p>
<section id="parameters-37" class="level2">
<h2 class="anchored" data-anchor-id="parameters-37">Parameters</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 87%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>deferred</code></td>
<td></td>
<td>The deferred object to provide syntax sugar for.</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>repr</code></td>
<td></td>
<td>An optional fixed string to use when repr-ing the deferred expression, instead of the default. This is useful for complex deferred expressions where the arguments don’t necessarily make sense to be user facing in the repr.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.expr.types.generic.Scalar" class="level1">
<h1>Scalar</h1>
<p><code>Scalar(self, arg)</code></p>
<section id="methods-2" class="level2">
<h2 class="anchored" data-anchor-id="methods-2">Methods</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#ibis.expr.types.generic.Scalar.as_scalar">as_scalar</a></td>
<td>Inform ibis that the expression should be treated as a scalar.</td>
</tr>
<tr class="even">
<td><a href="#ibis.expr.types.generic.Scalar.as_table">as_table</a></td>
<td>Promote the scalar expression to a table.</td>
</tr>
</tbody>
</table>
<section id="ibis.expr.types.generic.Scalar.as_scalar" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Scalar.as_scalar">as_scalar</h3>
<p><code>as_scalar()</code></p>
<p>Inform ibis that the expression should be treated as a scalar.</p>
<p>If the expression is a literal, it will be returned as is. If it depends on a table, it will be turned to a scalar subquery.</p>
<section id="returns-37" class="level4">
<h4 class="anchored" data-anchor-id="returns-37">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>A scalar subquery or a literal</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-40" class="level4">
<h4 class="anchored" data-anchor-id="examples-40">Examples</h4>
<div id="087441f3" class="cell" data-execution_count="287">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> max_gentoo_weight <span class="op">=</span> t.<span class="bu">filter</span>(t.species <span class="op">==</span> <span class="st">"Gentoo"</span>).body_mass_g.<span class="bu">max</span>()</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> light_penguins <span class="op">=</span> t.<span class="bu">filter</span>(t.body_mass_g <span class="op">&lt;</span> max_gentoo_weight <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> light_penguins.species.value_counts().order_by(<span class="st">"species"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="287">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> species   </span>┃<span style="font-weight: bold"> species_count </span>┃
┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>    │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>         │
├───────────┼───────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">Adelie   </span> │            <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">15</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Chinstrap</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
└───────────┴───────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.expr.types.generic.Scalar.as_table" class="level3">
<h3 class="anchored" data-anchor-id="ibis.expr.types.generic.Scalar.as_table">as_table</h3>
<p><code>as_table()</code></p>
<p>Promote the scalar expression to a table.</p>
<section id="returns-38" class="level4">
<h4 class="anchored" data-anchor-id="returns-38">Returns</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Table</code></td>
<td>A table expression</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-41" class="level4">
<h4 class="anchored" data-anchor-id="examples-41">Examples</h4>
<p>Promote an aggregation to a table</p>
<div id="cbcccbf7" class="cell" data-execution_count="290">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.expr.types <span class="im">as</span> ir</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.table(<span class="bu">dict</span>(a<span class="op">=</span><span class="st">"str"</span>), name<span class="op">=</span><span class="st">"t"</span>)</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr <span class="op">=</span> t.a.length().<span class="bu">sum</span>().name(<span class="st">"len"</span>).as_table()</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(expr, ir.Table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="290">
<pre><code>True</code></pre>
</div>
</div>
<p>Promote a literal value to a table</p>
<div id="2e6cc344" class="cell" data-execution_count="293">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis.expr.types <span class="im">as</span> ir</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lit <span class="op">=</span> ibis.literal(<span class="dv">1</span>).name(<span class="st">"a"</span>).as_table()</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(lit, ir.Table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="293">
<pre><code>True</code></pre>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="ibis.expr.api.deferred" class="level1">
<h1>deferred</h1>
<p><code>deferred</code></p>
<p>Deferred expression object.</p>
<p>Use this object to refer to a previous table expression in a chain of expressions.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>_</code> may conflict with other idioms in Python
</div>
</div>
<div class="callout-body-container callout-body">
<p>See https://github.com/ibis-project/ibis/issues/4704 for details.</p>
<p>Use <code>from ibis import deferred as &lt;NAME&gt;</code> to assign a different name to the deferred object builder.</p>
<p>Another option is to use <code>ibis._</code> directly.</p>
</div>
</div>
<section id="examples-42" class="level2">
<h2 class="anchored" data-anchor-id="examples-42">Examples</h2>
<div id="794adcfe" class="cell" data-execution_count="296">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.table(<span class="bu">dict</span>(key<span class="op">=</span><span class="st">"int"</span>, value<span class="op">=</span><span class="st">"float"</span>), name<span class="op">=</span><span class="st">"t"</span>)</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr <span class="op">=</span> t.group_by(key<span class="op">=</span>_.key <span class="op">-</span> <span class="dv">1</span>).agg(total<span class="op">=</span>_.value.<span class="bu">sum</span>())</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr.schema()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="296">
<pre><code>ibis.Schema {
  key    int64
  total  float64
}</code></pre>
</div>
</div>
</section>
</section>
<section id="ibis.literal" class="level1">
<h1>literal</h1>
<p><code>ibis.literal(value, type=None)</code></p>
<p>Create a scalar expression from a Python value.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Use specific functions for arrays, structs and maps
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ibis supports literal construction of arrays using the following functions:</p>
<ol type="1">
<li><a href="../reference/expression-collections.html#ibis.array"><code>ibis.array</code></a></li>
<li><a href="../reference/expression-collections.html#ibis.struct"><code>ibis.struct</code></a></li>
<li><a href="../reference/expression-collections.html#ibis.map"><code>ibis.map</code></a></li>
</ol>
<p>Constructing these types using <code>literal</code> will be deprecated in a future release.</p>
</div>
</div>
<section id="parameters-38" class="level2">
<h2 class="anchored" data-anchor-id="parameters-38">Parameters</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>value</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>A Python value</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>type</code></td>
<td><code>dt</code>.<code>DataType</code> | <a href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</td>
<td>An instance of <a href="../reference/datatypes.html#ibis.expr.datatypes.DataType"><code>DataType</code></a> or a string indicating the ibis type of <code>value</code>. This parameter can be used in cases where ibis’s type inference isn’t sufficient for discovering the type of <code>value</code>.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-39" class="level2">
<h2 class="anchored" data-anchor-id="returns-39">Returns</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../reference/expression-generic.html#ibis.expr.types.generic.Scalar">Scalar</a></td>
<td>An expression representing a literal value</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-43" class="level2">
<h2 class="anchored" data-anchor-id="examples-43">Examples</h2>
<p>Construct an integer literal</p>
<div id="008fec4d" class="cell" data-execution_count="299">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> ibis.literal(<span class="dv">42</span>)</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x.<span class="bu">type</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="299">
<pre><code>Int8(nullable=True)</code></pre>
</div>
</div>
<p>Construct a <code>float64</code> literal from an <code>int</code></p>
<div id="b73e6959" class="cell" data-execution_count="302">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> ibis.literal(<span class="dv">42</span>, <span class="bu">type</span><span class="op">=</span><span class="st">"double"</span>)</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y.<span class="bu">type</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="302">
<pre><code>Float64(nullable=True)</code></pre>
</div>
</div>
<p>Ibis checks for invalid types</p>
<div id="bf345230" class="cell" data-execution_count="305">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.literal(<span class="st">"foobar"</span>, <span class="bu">type</span><span class="op">=</span><span class="st">"int64"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/expr/datatypes/value.py:268</span>, in <span class="ansi-cyan-fg">normalize</span><span class="ansi-blue-fg">(typ, value)</span>
<span class="ansi-green-fg ansi-bold">    267</span> <span style="font-weight:bold;color:rgb(0,135,0)">try</span>:
<span class="ansi-green-fg">--&gt; 268</span>     value <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(0,135,0)" class="ansi-yellow-bg">int</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">value</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg ansi-bold">    269</span> <span style="font-weight:bold;color:rgb(0,135,0)">except</span> <span style="font-weight:bold;color:rgb(215,95,95)">ValueError</span>:

<span class="ansi-red-fg">ValueError</span>: invalid literal for int() with base 10: 'foobar'

During handling of the above exception, another exception occurred:

<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[305], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">ibis</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">literal</span><span class="ansi-yellow-bg">(</span><span style="color:rgb(175,0,0)" class="ansi-yellow-bg">"</span><span style="color:rgb(175,0,0)" class="ansi-yellow-bg">foobar</span><span style="color:rgb(175,0,0)" class="ansi-yellow-bg">"</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span style="color:rgb(0,135,0)" class="ansi-yellow-bg">type</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">=</span><span style="color:rgb(175,0,0)" class="ansi-yellow-bg">"</span><span style="color:rgb(175,0,0)" class="ansi-yellow-bg">int64</span><span style="color:rgb(175,0,0)" class="ansi-yellow-bg">"</span><span class="ansi-yellow-bg">)</span>  

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/common/deferred.py:613</span>, in <span class="ansi-cyan-fg">deferrable.&lt;locals&gt;.wrapper.&lt;locals&gt;.inner</span><span class="ansi-blue-fg">(*args, **kwargs)</span>
<span class="ansi-green-fg ansi-bold">    611</span>     builder <span style="color:rgb(98,98,98)">=</span> Call(func, <span style="color:rgb(98,98,98)">*</span>args, <span style="color:rgb(98,98,98)">*</span><span style="color:rgb(98,98,98)">*</span>kwargs)
<span class="ansi-green-fg ansi-bold">    612</span>     <span style="font-weight:bold;color:rgb(0,135,0)">return</span> Deferred(builder, <span style="color:rgb(0,135,0)">repr</span><span style="color:rgb(98,98,98)">=</span><span style="color:rgb(0,135,0)">repr</span>)
<span class="ansi-green-fg">--&gt; 613</span> <span style="font-weight:bold;color:rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">func</span><span class="ansi-yellow-bg">(</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">*</span><span class="ansi-yellow-bg">args</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">*</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">*</span><span class="ansi-yellow-bg">kwargs</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/expr/types/generic.py:2608</span>, in <span class="ansi-cyan-fg">literal</span><span class="ansi-blue-fg">(value, type)</span>
<span class="ansi-green-fg ansi-bold">   2603</span>         <span style="font-weight:bold;color:rgb(0,135,0)">raise</span> <span style="font-weight:bold;color:rgb(215,95,95)">TypeError</span>(
<span class="ansi-green-fg ansi-bold">   2604</span>             <span style="color:rgb(175,0,0)">f</span><span style="color:rgb(175,0,0)">"</span><span style="color:rgb(175,0,0)">Ibis literal </span><span style="font-weight:bold;color:rgb(175,95,135)">{</span>value<span style="font-weight:bold;color:rgb(175,95,135)">!r}</span><span style="color:rgb(175,0,0)"> cannot be safely coerced to datatype </span><span style="font-weight:bold;color:rgb(175,95,135)">{</span><span style="color:rgb(0,135,0)">type</span><span style="font-weight:bold;color:rgb(175,95,135)">}</span><span style="color:rgb(175,0,0)">"</span>
<span class="ansi-green-fg ansi-bold">   2605</span>         )
<span class="ansi-green-fg ansi-bold">   2607</span> dtype <span style="color:rgb(98,98,98)">=</span> dt<span style="color:rgb(98,98,98)">.</span>infer(value) <span style="font-weight:bold;color:rgb(0,135,0)">if</span> <span style="color:rgb(0,135,0)">type</span> <span style="font-weight:bold;color:rgb(175,0,255)">is</span> <span style="font-weight:bold;color:rgb(0,135,0)">None</span> <span style="font-weight:bold;color:rgb(0,135,0)">else</span> dt<span style="color:rgb(98,98,98)">.</span>dtype(<span style="color:rgb(0,135,0)">type</span>)
<span class="ansi-green-fg">-&gt; 2608</span> <span style="font-weight:bold;color:rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">ops</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">Literal</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">value</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">dtype</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">=</span><span class="ansi-yellow-bg">dtype</span><span class="ansi-yellow-bg">)</span><span style="color:rgb(98,98,98)">.</span>to_expr()

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/common/bases.py:72</span>, in <span class="ansi-cyan-fg">AbstractMeta.__call__</span><span class="ansi-blue-fg">(cls, *args, **kwargs)</span>
<span class="ansi-green-fg ansi-bold">     52</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span> <span style="color:rgb(0,0,255)">__call__</span>(<span style="color:rgb(0,135,0)">cls</span>, <span style="color:rgb(98,98,98)">*</span>args, <span style="color:rgb(98,98,98)">*</span><span style="color:rgb(98,98,98)">*</span>kwargs):
<span class="ansi-green-fg ansi-bold">     53</span> <span style="color:rgb(188,188,188)">    </span><span style="font-style:italic;color:rgb(175,0,0)">"""Create a new instance of the class.</span>
<span class="ansi-green-fg ansi-bold">     54</span> 
<span class="ansi-green-fg ansi-bold">     55</span> <span style="font-style:italic;color:rgb(175,0,0)">    The subclass may override the `__create__` classmethod to change the</span>
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-fg ansi-bold">     70</span> 
<span class="ansi-green-fg ansi-bold">     71</span> <span style="font-style:italic;color:rgb(175,0,0)">    """</span>
<span class="ansi-green-fg">---&gt; 72</span>     <span style="font-weight:bold;color:rgb(0,135,0)">return</span> <span style="color:rgb(0,135,0)" class="ansi-yellow-bg">cls</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">__create__</span><span class="ansi-yellow-bg">(</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">*</span><span class="ansi-yellow-bg">args</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">*</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">*</span><span class="ansi-yellow-bg">kwargs</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/common/grounds.py:120</span>, in <span class="ansi-cyan-fg">Annotable.__create__</span><span class="ansi-blue-fg">(cls, *args, **kwargs)</span>
<span class="ansi-green-fg ansi-bold">    116</span> <span style="color:rgb(175,0,255)">@classmethod</span>
<span class="ansi-green-fg ansi-bold">    117</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span> <span style="color:rgb(0,0,255)">__create__</span>(<span style="color:rgb(0,135,0)">cls</span>, <span style="color:rgb(98,98,98)">*</span>args: Any, <span style="color:rgb(98,98,98)">*</span><span style="color:rgb(98,98,98)">*</span>kwargs: Any) <span style="color:rgb(98,98,98)">-</span><span style="color:rgb(98,98,98)">&gt;</span> Self:
<span class="ansi-green-fg ansi-bold">    118</span>     <span style="font-style:italic;color:rgb(95,135,135)"># construct the instance by passing only validated keyword arguments</span>
<span class="ansi-green-fg ansi-bold">    119</span>     kwargs <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(0,135,0)">cls</span><span style="color:rgb(98,98,98)">.</span>__signature__<span style="color:rgb(98,98,98)">.</span>validate(<span style="color:rgb(0,135,0)">cls</span>, args, kwargs)
<span class="ansi-green-fg">--&gt; 120</span>     <span style="font-weight:bold;color:rgb(0,135,0)">return</span> <span style="color:rgb(0,135,0)" class="ansi-yellow-bg">super</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">__create__</span><span class="ansi-yellow-bg">(</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">*</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">*</span><span class="ansi-yellow-bg">kwargs</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/expr/operations/generic.py:147</span>, in <span class="ansi-cyan-fg">Literal.__init__</span><span class="ansi-blue-fg">(self, value, dtype)</span>
<span class="ansi-green-fg ansi-bold">    145</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span> <span style="color:rgb(0,0,255)">__init__</span>(<span style="color:rgb(0,135,0)">self</span>, value, dtype):
<span class="ansi-green-fg ansi-bold">    146</span>     <span style="font-style:italic;color:rgb(95,135,135)"># normalize ensures that the value is a valid value for the given dtype</span>
<span class="ansi-green-fg">--&gt; 147</span>     value <span style="color:rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">dt</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">normalize</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">dtype</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">value</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg ansi-bold">    148</span>     <span style="color:rgb(0,135,0)">super</span>()<span style="color:rgb(98,98,98)">.</span><span style="color:rgb(0,0,255)">__init__</span>(value<span style="color:rgb(98,98,98)">=</span>value, dtype<span style="color:rgb(98,98,98)">=</span>dtype)

File <span class="ansi-green-fg">~/github.com/ibis-project/ibis/ibis/expr/datatypes/value.py:270</span>, in <span class="ansi-cyan-fg">normalize</span><span class="ansi-blue-fg">(typ, value)</span>
<span class="ansi-green-fg ansi-bold">    268</span>     value <span style="color:rgb(98,98,98)">=</span> <span style="color:rgb(0,135,0)">int</span>(value)
<span class="ansi-green-fg ansi-bold">    269</span> <span style="font-weight:bold;color:rgb(0,135,0)">except</span> <span style="font-weight:bold;color:rgb(215,95,95)">ValueError</span>:
<span class="ansi-green-fg">--&gt; 270</span>     <span style="font-weight:bold;color:rgb(0,135,0)">raise</span> <span style="font-weight:bold;color:rgb(215,95,95)">TypeError</span>(<span style="color:rgb(175,0,0)">f</span><span style="color:rgb(175,0,0)">"</span><span style="color:rgb(175,0,0)">Unable to normalize </span><span style="font-weight:bold;color:rgb(175,95,135)">{</span>value<span style="font-weight:bold;color:rgb(175,95,135)">!r}</span><span style="color:rgb(175,0,0)"> to </span><span style="font-weight:bold;color:rgb(175,95,135)">{</span>dtype<span style="font-weight:bold;color:rgb(175,95,135)">!r}</span><span style="color:rgb(175,0,0)">"</span>)
<span class="ansi-green-fg ansi-bold">    271</span> <span style="font-weight:bold;color:rgb(0,135,0)">if</span> value <span style="font-weight:bold;color:rgb(175,0,255)">not</span> <span style="font-weight:bold;color:rgb(175,0,255)">in</span> dtype<span style="color:rgb(98,98,98)">.</span>bounds:
<span class="ansi-green-fg ansi-bold">    272</span>     <span style="font-weight:bold;color:rgb(0,135,0)">raise</span> <span style="font-weight:bold;color:rgb(215,95,95)">TypeError</span>(
<span class="ansi-green-fg ansi-bold">    273</span>         <span style="color:rgb(175,0,0)">f</span><span style="color:rgb(175,0,0)">"</span><span style="color:rgb(175,0,0)">Value </span><span style="font-weight:bold;color:rgb(175,95,135)">{</span>value<span style="font-weight:bold;color:rgb(175,95,135)">}</span><span style="color:rgb(175,0,0)"> is out of bounds for type </span><span style="font-weight:bold;color:rgb(175,95,135)">{</span>dtype<span style="font-weight:bold;color:rgb(175,95,135)">!r}</span><span style="color:rgb(175,0,0)"> </span><span style="color:rgb(175,0,0)">"</span>
<span class="ansi-green-fg ansi-bold">    274</span>         <span style="color:rgb(175,0,0)">f</span><span style="color:rgb(175,0,0)">"</span><span style="color:rgb(175,0,0)">(bounds: </span><span style="font-weight:bold;color:rgb(175,95,135)">{</span>dtype<span style="color:rgb(98,98,98)">.</span>bounds<span style="font-weight:bold;color:rgb(175,95,135)">}</span><span style="color:rgb(175,0,0)">)</span><span style="color:rgb(175,0,0)">"</span>
<span class="ansi-green-fg ansi-bold">    275</span>     )

<span class="ansi-red-fg">TypeError</span>: Unable to normalize 'foobar' to Int64(nullable=True)</pre>
</div>
</div>
</div>
<p>Literals can also be used in a deferred context.</p>
<p>Here’s an example of constructing a table of a column’s type repeated for every row:</p>
<div id="391acd4b" class="cell" data-execution_count="308">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _, selectors <span class="im">as</span> s</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.select(s.across(s.<span class="bu">all</span>(), ibis.literal(_.<span class="bu">type</span>(), <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>).name(_.get_name()))).head(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="308">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━┓
┃<span style="font-weight: bold"> species </span>┃<span style="font-weight: bold"> island </span>┃<span style="font-weight: bold"> bill_length_mm </span>┃<span style="font-weight: bold"> bill_depth_mm </span>┃<span style="font-weight: bold"> flipper_length_mm </span>┃<span style="font-weight: bold"> body_mass_g </span>┃<span style="font-weight: bold"> sex    </span>┃<span style="font-weight: bold"> year   </span>┃
┡━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>  │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>         │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>        │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>            │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>      │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │
├─────────┼────────┼────────────────┼───────────────┼───────────────────┼─────────────┼────────┼────────┤
│ <span style="color: #008000; text-decoration-color: #008000">string </span> │ <span style="color: #008000; text-decoration-color: #008000">string</span> │ <span style="color: #008000; text-decoration-color: #008000">float64       </span> │ <span style="color: #008000; text-decoration-color: #008000">float64      </span> │ <span style="color: #008000; text-decoration-color: #008000">int64            </span> │ <span style="color: #008000; text-decoration-color: #008000">int64      </span> │ <span style="color: #008000; text-decoration-color: #008000">string</span> │ <span style="color: #008000; text-decoration-color: #008000">int64 </span> │
└─────────┴────────┴────────────────┴───────────────┴───────────────────┴─────────────┴────────┴────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.param" class="level1">
<h1>param</h1>
<p><code>ibis.param(type)</code></p>
<p>Create a deferred parameter of a given type.</p>
<section id="parameters-39" class="level2">
<h2 class="anchored" data-anchor-id="parameters-39">Parameters</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 45%">
<col style="width: 42%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>type</code></td>
<td><code>dt</code>.<code>DataType</code></td>
<td>The type of the unbound parameter, e.g., double, int64, date, etc.</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-40" class="level2">
<h2 class="anchored" data-anchor-id="returns-40">Returns</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 45%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Scalar</code></td>
<td>A scalar expression backend by a parameter</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-44" class="level2">
<h2 class="anchored" data-anchor-id="examples-44">Examples</h2>
<div id="8fa3b1bd" class="cell" data-execution_count="311">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> datetime <span class="im">import</span> date</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> start <span class="op">=</span> ibis.param(<span class="st">"date"</span>)</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable(</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>...     {</span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>...         <span class="st">"date_col"</span>: [date(<span class="dv">2013</span>, <span class="dv">1</span>, <span class="dv">1</span>), date(<span class="dv">2013</span>, <span class="dv">1</span>, <span class="dv">2</span>), date(<span class="dv">2013</span>, <span class="dv">1</span>, <span class="dv">3</span>)],</span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>...         <span class="st">"value"</span>: [<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>],</span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a>...     },</span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr <span class="op">=</span> t.<span class="bu">filter</span>(t.date_col <span class="op">&gt;=</span> start).value.<span class="bu">sum</span>()</span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr.execute(params<span class="op">=</span>{start: date(<span class="dv">2013</span>, <span class="dv">1</span>, <span class="dv">1</span>)})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="311">
<pre><code>np.float64(6.0)</code></pre>
</div>
</div>
<div id="fff2dcf7" class="cell" data-execution_count="314">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr.execute(params<span class="op">=</span>{start: date(<span class="dv">2013</span>, <span class="dv">1</span>, <span class="dv">2</span>)})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="314">
<pre><code>np.float64(5.0)</code></pre>
</div>
</div>
<div id="8726f6a7" class="cell" data-execution_count="317">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr.execute(params<span class="op">=</span>{start: date(<span class="dv">2013</span>, <span class="dv">1</span>, <span class="dv">3</span>)})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="317">
<pre><code>np.float64(3.0)</code></pre>
</div>
</div>
</section>
</section>
<section id="ibis.null" class="level1">
<h1>null</h1>
<p><code>ibis.null(type=None)</code></p>
<p>Create a NULL scalar.</p>
<p><code>NULL</code>s with an unspecified type are castable and comparable to values, but lack datatype-specific methods:</p>
<blockquote class="blockquote">
<blockquote class="blockquote">
<blockquote class="blockquote">
<p>import ibis ibis.options.interactive = True ibis.null().upper() Traceback (most recent call last): … AttributeError: ‘NullScalar’ object has no attribute ‘upper’ ibis.null(str).upper() ┌──────┐ │ None │ └──────┘ ibis.null(str).upper().isnull() ┌──────┐ │ True │ └──────┘</p>
</blockquote>
</blockquote>
</blockquote>
</section>
<section id="ibis.range" class="level1">
<h1>range</h1>
<p><code>ibis.range(start, stop, step)</code></p>
<p>Generate a range of values.</p>
<p>Integer ranges are supported, as well as timestamp ranges.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>start</code> is inclusive and <code>stop</code> is exclusive, just like Python’s builtin <a href="https://docs.python.org/3/library/stdtypes.html#range"><code>range</code></a>.</p>
<p>When <code>step</code> equals 0, however, this function will return an empty array.</p>
<p>Python’s <code>range</code> will raise an exception when <code>step</code> is zero.</p>
</div>
</div>
<section id="parameters-40" class="level2">
<h2 class="anchored" data-anchor-id="parameters-40">Parameters</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>start</code></td>
<td></td>
<td>Lower bound of the range, inclusive.</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>stop</code></td>
<td></td>
<td>Upper bound of the range, exclusive.</td>
<td><em>required</em></td>
</tr>
<tr class="odd">
<td><code>step</code></td>
<td></td>
<td>Step value. Optional, defaults to 1.</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-41" class="level2">
<h2 class="anchored" data-anchor-id="returns-41">Returns</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ArrayValue</code></td>
<td>An array of values</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-45" class="level2">
<h2 class="anchored" data-anchor-id="examples-45">Examples</h2>
<div id="3ed8f607" class="cell" data-execution_count="320">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Range using only a stop argument</p>
<div id="b28bd9dd" class="cell" data-execution_count="323">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.<span class="bu">range</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="323">
<div class="ansi-escaped-output">
<pre>┌────────────────┐
│ <span class="ansi-bold">[</span><span class="ansi-cyan-fg ansi-bold">0</span>, <span class="ansi-cyan-fg ansi-bold">1</span>, <span class="ansi-yellow-fg">...</span> +<span class="ansi-cyan-fg ansi-bold">3</span><span class="ansi-bold">]</span> │
└────────────────┘</pre>
</div>
</div>
</div>
<p>Simple range using start and stop</p>
<div id="a9b18f59" class="cell" data-execution_count="326">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="326">
<div class="ansi-escaped-output">
<pre>┌────────────────┐
│ <span class="ansi-bold">[</span><span class="ansi-cyan-fg ansi-bold">1</span>, <span class="ansi-cyan-fg ansi-bold">2</span>, <span class="ansi-yellow-fg">...</span> +<span class="ansi-cyan-fg ansi-bold">2</span><span class="ansi-bold">]</span> │
└────────────────┘</pre>
</div>
</div>
</div>
<p>Generate an empty range</p>
<div id="5f267ed5" class="cell" data-execution_count="329">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.<span class="bu">range</span>(<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="329">
<div class="ansi-escaped-output">
<pre>┌────┐
│ <span class="ansi-bold">[</span><span class="ansi-bold">]</span> │
└────┘</pre>
</div>
</div>
</div>
<p>Negative step values are supported</p>
<div id="fc7c98d0" class="cell" data-execution_count="332">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.<span class="bu">range</span>(<span class="dv">10</span>, <span class="dv">4</span>, <span class="op">-</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="332">
<div class="ansi-escaped-output">
<pre>┌─────────────────┐
│ <span class="ansi-bold">[</span><span class="ansi-cyan-fg ansi-bold">10</span>, <span class="ansi-cyan-fg ansi-bold">8</span>, <span class="ansi-yellow-fg">...</span> +<span class="ansi-cyan-fg ansi-bold">1</span><span class="ansi-bold">]</span> │
└─────────────────┘</pre>
</div>
</div>
</div>
<p><code>ibis.range</code> behaves the same as Python’s range …</p>
<div id="c37aaf19" class="cell" data-execution_count="335">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="op">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="335">
<div class="ansi-escaped-output">
<pre>┌────┐
│ <span class="ansi-bold">[</span><span class="ansi-bold">]</span> │
└────┘</pre>
</div>
</div>
</div>
<p>… except when the step is zero, in which case <code>ibis.range</code> returns an empty array</p>
<div id="7e422f0c" class="cell" data-execution_count="338">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="338">
<div class="ansi-escaped-output">
<pre>┌────┐
│ <span class="ansi-bold">[</span><span class="ansi-bold">]</span> │
└────┘</pre>
</div>
</div>
</div>
<p>Because the resulting expression is array, you can unnest the values</p>
<div id="25fde485" class="cell" data-execution_count="341">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.<span class="bu">range</span>(<span class="dv">5</span>).unnest().name(<span class="st">"numbers"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="341">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━┓
┃<span style="font-weight: bold"> numbers </span>┃
┡━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int8</span>    │
├─────────┤
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0</span> │
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │
│       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4</span> │
└─────────┘
</pre>
</div>
</div>
<p>Timestamp ranges are also supported</p>
<div id="ddba016a" class="cell" data-execution_count="344">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr <span class="op">=</span> ibis.<span class="bu">range</span>(<span class="st">"2002-01-01"</span>, <span class="st">"2002-02-01"</span>, ibis.interval(days<span class="op">=</span><span class="dv">2</span>)).name(<span class="st">"ts"</span>)</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="344">
<div class="ansi-escaped-output">
<pre>┌─────────────────────────────────────────────────────────────────────────────────────┐
│ <span class="ansi-bold">[</span><span class="ansi-magenta-fg ansi-bold">datetime.datetime</span><span class="ansi-bold">(</span><span class="ansi-cyan-fg ansi-bold">2002</span>, <span class="ansi-cyan-fg ansi-bold">1</span>, <span class="ansi-cyan-fg ansi-bold">1</span>, <span class="ansi-cyan-fg ansi-bold">0</span>, <span class="ansi-cyan-fg ansi-bold">0</span><span class="ansi-bold">)</span>, <span class="ansi-magenta-fg ansi-bold">datetime.datetime</span><span class="ansi-bold">(</span><span class="ansi-cyan-fg ansi-bold">2002</span>, <span class="ansi-cyan-fg ansi-bold">1</span>, <span class="ansi-cyan-fg ansi-bold">3</span>, <span class="ansi-cyan-fg ansi-bold">0</span>, <span class="ansi-cyan-fg ansi-bold">0</span><span class="ansi-bold">)</span>, <span class="ansi-yellow-fg">...</span> +<span class="ansi-cyan-fg ansi-bold">14</span><span class="ansi-bold">]</span> │
└─────────────────────────────────────────────────────────────────────────────────────┘</pre>
</div>
</div>
</div>
<div id="73d12cca" class="cell" data-execution_count="347">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> expr.unnest()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="347">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> ts                  </span>┃
┡━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">timestamp</span>           │
├─────────────────────┤
│ <span style="color: #800080; text-decoration-color: #800080">2002-01-01 00:00:00</span> │
│ <span style="color: #800080; text-decoration-color: #800080">2002-01-03 00:00:00</span> │
│ <span style="color: #800080; text-decoration-color: #800080">2002-01-05 00:00:00</span> │
│ <span style="color: #800080; text-decoration-color: #800080">2002-01-07 00:00:00</span> │
│ <span style="color: #800080; text-decoration-color: #800080">2002-01-09 00:00:00</span> │
│ <span style="color: #800080; text-decoration-color: #800080">2002-01-11 00:00:00</span> │
│ <span style="color: #800080; text-decoration-color: #800080">2002-01-13 00:00:00</span> │
│ <span style="color: #800080; text-decoration-color: #800080">2002-01-15 00:00:00</span> │
│ <span style="color: #800080; text-decoration-color: #800080">2002-01-17 00:00:00</span> │
│ <span style="color: #800080; text-decoration-color: #800080">2002-01-19 00:00:00</span> │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span>                   │
└─────────────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.coalesce" class="level1">
<h1>coalesce</h1>
<p><code>ibis.coalesce(*args)</code></p>
<p>Return the first non-null value from <code>args</code>.</p>
<section id="parameters-41" class="level2">
<h2 class="anchored" data-anchor-id="parameters-41">Parameters</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>args</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>Arguments from which to choose the first non-null value</td>
<td><code>()</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-42" class="level2">
<h2 class="anchored" data-anchor-id="returns-42">Returns</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Value</code></td>
<td>Coalesced expression</td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-7" class="level2">
<h2 class="anchored" data-anchor-id="see-also-7">See Also</h2>
<p><a href="#ibis.expr.types.generic.Value.coalesce"><code>Value.coalesce()</code></a> <a href="#ibis.expr.types.generic.Value.fill_null"><code>Value.fill_null()</code></a></p>
</section>
<section id="examples-46" class="level2">
<h2 class="anchored" data-anchor-id="examples-46">Examples</h2>
<div id="c6db14b2" class="cell" data-execution_count="350">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.coalesce(<span class="va">None</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="350">
<div class="ansi-escaped-output">
<pre>┌───┐
│ <span class="ansi-cyan-fg ansi-bold">4</span> │
└───┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.least" class="level1">
<h1>least</h1>
<p><code>ibis.least(*args)</code></p>
<p>Compute the smallest value among the supplied arguments.</p>
<section id="parameters-42" class="level2">
<h2 class="anchored" data-anchor-id="parameters-42">Parameters</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>args</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>Arguments to choose from</td>
<td><code>()</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-43" class="level2">
<h2 class="anchored" data-anchor-id="returns-43">Returns</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Value</code></td>
<td>Minimum of the passed arguments</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-47" class="level2">
<h2 class="anchored" data-anchor-id="examples-47">Examples</h2>
<div id="ebdf836c" class="cell" data-execution_count="353">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.least(<span class="va">None</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="353">
<div class="ansi-escaped-output">
<pre>┌───┐
│ <span class="ansi-cyan-fg ansi-bold">4</span> │
└───┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.greatest" class="level1">
<h1>greatest</h1>
<p><code>ibis.greatest(*args)</code></p>
<p>Compute the largest value among the supplied arguments.</p>
<section id="parameters-43" class="level2">
<h2 class="anchored" data-anchor-id="parameters-43">Parameters</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>args</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>Arguments to choose from</td>
<td><code>()</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-44" class="level2">
<h2 class="anchored" data-anchor-id="returns-44">Returns</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Value</code></td>
<td>Maximum of the passed arguments</td>
</tr>
</tbody>
</table>
</section>
<section id="examples-48" class="level2">
<h2 class="anchored" data-anchor-id="examples-48">Examples</h2>
<div id="ffab9fc2" class="cell" data-execution_count="356">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.greatest(<span class="va">None</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="356">
<div class="ansi-escaped-output">
<pre>┌───┐
│ <span class="ansi-cyan-fg ansi-bold">5</span> │
└───┘</pre>
</div>
</div>
</div>
</section>
</section>
<section id="ibis.ifelse" class="level1">
<h1>ifelse</h1>
<p><code>ibis.ifelse(condition, true_expr, false_expr)</code></p>
<p>Construct a ternary conditional expression.</p>
<section id="parameters-44" class="level2">
<h2 class="anchored" data-anchor-id="parameters-44">Parameters</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>condition</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>A boolean expression</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>true_expr</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>Expression to return if <code>condition</code> evaluates to <code>True</code></td>
<td><em>required</em></td>
</tr>
<tr class="odd">
<td><code>false_expr</code></td>
<td><a href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></td>
<td>Expression to return if <code>condition</code> evaluates to <code>False</code> or <code>NULL</code></td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-45" class="level2">
<h2 class="anchored" data-anchor-id="returns-45">Returns</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 45%">
<col style="width: 54%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ir</code>.<code>Value</code></td>
<td>The value of <code>true_expr</code> if <code>condition</code> is <code>True</code> else <code>false_expr</code></td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-8" class="level2">
<h2 class="anchored" data-anchor-id="see-also-8">See Also</h2>
<p><a href="../reference/expression-numeric.html#ibis.expr.types.logical.BooleanValue.ifelse"><code>BooleanValue.ifelse()</code></a></p>
</section>
<section id="examples-49" class="level2">
<h2 class="anchored" data-anchor-id="examples-49">Examples</h2>
<div id="5dd5586b" class="cell" data-execution_count="359">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable({<span class="st">"condition"</span>: [<span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">None</span>]})</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.ifelse(t.condition, <span class="st">"yes"</span>, <span class="st">"no"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="359">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> IfElse(condition, 'yes', 'no') </span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>                         │
├────────────────────────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">yes                           </span> │
│ <span style="color: #008000; text-decoration-color: #008000">no                            </span> │
│ <span style="color: #008000; text-decoration-color: #008000">yes                           </span> │
│ <span style="color: #008000; text-decoration-color: #008000">no                            </span> │
└────────────────────────────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.case" class="level1">
<h1>case</h1>
<p><code>ibis.case()</code></p>
<p>Begin constructing a case expression.</p>
<p>Use the <code>.when</code> method on the resulting object followed by <code>.end</code> to create a complete case expression.</p>
<section id="returns-46" class="level2">
<h2 class="anchored" data-anchor-id="returns-46">Returns</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 42%">
<col style="width: 57%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>SearchedCaseBuilder</code></td>
<td>A builder object to use for constructing a case expression.</td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-9" class="level2">
<h2 class="anchored" data-anchor-id="see-also-9">See Also</h2>
<p><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.case"><code>Value.case()</code></a></p>
</section>
<section id="examples-50" class="level2">
<h2 class="anchored" data-anchor-id="examples-50">Examples</h2>
<div id="74741b70" class="cell" data-execution_count="362">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> ibis <span class="im">import</span> _</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.memtable(</span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>...     {</span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>...         <span class="st">"left"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a>...         <span class="st">"symbol"</span>: [<span class="st">"+"</span>, <span class="st">"-"</span>, <span class="st">"*"</span>, <span class="st">"/"</span>],</span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a>...         <span class="st">"right"</span>: [<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>],</span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true" tabindex="-1"></a>...     }</span>
<span id="cb134-10"><a href="#cb134-10" aria-hidden="true" tabindex="-1"></a>... )</span>
<span id="cb134-11"><a href="#cb134-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t.mutate(</span>
<span id="cb134-12"><a href="#cb134-12" aria-hidden="true" tabindex="-1"></a>...     result<span class="op">=</span>(</span>
<span id="cb134-13"><a href="#cb134-13" aria-hidden="true" tabindex="-1"></a>...         ibis.case()</span>
<span id="cb134-14"><a href="#cb134-14" aria-hidden="true" tabindex="-1"></a>...         .when(_.symbol <span class="op">==</span> <span class="st">"+"</span>, _.left <span class="op">+</span> _.right)</span>
<span id="cb134-15"><a href="#cb134-15" aria-hidden="true" tabindex="-1"></a>...         .when(_.symbol <span class="op">==</span> <span class="st">"-"</span>, _.left <span class="op">-</span> _.right)</span>
<span id="cb134-16"><a href="#cb134-16" aria-hidden="true" tabindex="-1"></a>...         .when(_.symbol <span class="op">==</span> <span class="st">"*"</span>, _.left <span class="op">*</span> _.right)</span>
<span id="cb134-17"><a href="#cb134-17" aria-hidden="true" tabindex="-1"></a>...         .when(_.symbol <span class="op">==</span> <span class="st">"/"</span>, _.left <span class="op">/</span> _.right)</span>
<span id="cb134-18"><a href="#cb134-18" aria-hidden="true" tabindex="-1"></a>...         .end()</span>
<span id="cb134-19"><a href="#cb134-19" aria-hidden="true" tabindex="-1"></a>...     )</span>
<span id="cb134-20"><a href="#cb134-20" aria-hidden="true" tabindex="-1"></a>... )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="362">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━┳━━━━━━━━┳━━━━━━━┳━━━━━━━━━┓
┃<span style="font-weight: bold"> left  </span>┃<span style="font-weight: bold"> symbol </span>┃<span style="font-weight: bold"> right </span>┃<span style="font-weight: bold"> result  </span>┃
┡━━━━━━━╇━━━━━━━━╇━━━━━━━╇━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span> │
├───────┼────────┼───────┼─────────┤
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span> │ <span style="color: #008000; text-decoration-color: #008000">+     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">5</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">6.0</span> │
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> │ <span style="color: #008000; text-decoration-color: #008000">-     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">6</span> │    <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-4.0</span> │
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3</span> │ <span style="color: #008000; text-decoration-color: #008000">*     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">7</span> │    <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">21.0</span> │
│     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4</span> │ <span style="color: #008000; text-decoration-color: #008000">/     </span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">8</span> │     <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.5</span> │
└───────┴────────┴───────┴─────────┘
</pre>
</div>
</div>
</section>
</section>
<section id="ibis.asc" class="level1">
<h1>asc</h1>
<p><code>ibis.asc(expr, nulls_first=False)</code></p>
<p>Create a ascending sort key from <code>asc</code> or column name.</p>
<section id="parameters-45" class="level2">
<h2 class="anchored" data-anchor-id="parameters-45">Parameters</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>expr</code></td>
<td><code>ir</code>.<code>Column</code> | <a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></td>
<td>The expression or column name to use for sorting</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>nulls_first</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></td>
<td>Bool to indicate weather to put NULL values first or not.</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-10" class="level2">
<h2 class="anchored" data-anchor-id="see-also-10">See Also</h2>
<p><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.asc"><code>Value.asc()</code></a></p>
</section>
<section id="examples-51" class="level2">
<h2 class="anchored" data-anchor-id="examples-51">Examples</h2>
<div id="e2337b57" class="cell" data-execution_count="365">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t[[<span class="st">"species"</span>, <span class="st">"year"</span>]].order_by(ibis.asc(<span class="st">"year"</span>)).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="365">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━┳━━━━━━━┓
┃<span style="font-weight: bold"> species </span>┃<span style="font-weight: bold"> year  </span>┃
┡━━━━━━━━━╇━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>  │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │
├─────────┼───────┤
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
└─────────┴───────┘
</pre>
</div>
</div>
</section>
<section id="returns-47" class="level2">
<h2 class="anchored" data-anchor-id="returns-47">Returns</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 81%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ir</code>.<code>ValueExpr</code></td>
<td>An expression</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.desc" class="level1">
<h1>desc</h1>
<p><code>ibis.desc(expr, nulls_first=False)</code></p>
<p>Create a descending sort key from <code>expr</code> or column name.</p>
<section id="parameters-46" class="level2">
<h2 class="anchored" data-anchor-id="parameters-46">Parameters</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>expr</code></td>
<td><code>ir</code>.<code>Column</code> | <a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></td>
<td>The expression or column name to use for sorting</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>nulls_first</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></td>
<td>Bool to indicate weather to put NULL values first or not.</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
</section>
<section id="see-also-11" class="level2">
<h2 class="anchored" data-anchor-id="see-also-11">See Also</h2>
<p><a href="../reference/expression-generic.html#ibis.expr.types.generic.Value.desc"><code>Value.desc()</code></a></p>
</section>
<section id="examples-52" class="level2">
<h2 class="anchored" data-anchor-id="examples-52">Examples</h2>
<div id="e4b28fee" class="cell" data-execution_count="368">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> ibis</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ibis.options.interactive <span class="op">=</span> <span class="va">True</span></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t[[<span class="st">"species"</span>, <span class="st">"year"</span>]].order_by(ibis.desc(<span class="st">"year"</span>)).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="368">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━┳━━━━━━━┓
┃<span style="font-weight: bold"> species </span>┃<span style="font-weight: bold"> year  </span>┃
┡━━━━━━━━━╇━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>  │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │
├─────────┼───────┤
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2009</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2009</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2009</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2009</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2009</span> │
└─────────┴───────┘
</pre>
</div>
</div>
</section>
<section id="returns-48" class="level2">
<h2 class="anchored" data-anchor-id="returns-48">Returns</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 81%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ir</code>.<code>ValueExpr</code></td>
<td>An expression</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ibis.to_sql" class="level1">
<h1>to_sql</h1>
<p><code>ibis.to_sql(expr, dialect=None, pretty=True, **kwargs)</code></p>
<p>Return the formatted SQL string for an expression.</p>
<section id="parameters-47" class="level2">
<h2 class="anchored" data-anchor-id="parameters-47">Parameters</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>expr</code></td>
<td><code>ir</code>.<code>Expr</code></td>
<td>Ibis expression.</td>
<td><em>required</em></td>
</tr>
<tr class="even">
<td><code>dialect</code></td>
<td><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</td>
<td>SQL dialect to use for compilation.</td>
<td><code>None</code></td>
</tr>
<tr class="odd">
<td><code>pretty</code></td>
<td><a href="https://docs.python.org/3/library/functions.html#bool">bool</a></td>
<td>Whether to use pretty formatting.</td>
<td><code>True</code></td>
</tr>
<tr class="even">
<td><code>kwargs</code></td>
<td></td>
<td>Scalar parameters</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
</section>
<section id="returns-49" class="level2">
<h2 class="anchored" data-anchor-id="returns-49">Returns</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></td>
<td>Formatted SQL string</td>
</tr>
</tbody>
</table>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/ibis-project\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/ibis-project/ibis/edit/main/docs/reference/expression-generic.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ibis-project/ibis/issues/new/choose" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/ibis-project">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://ibis-project.zulipchat.com">
      <i class="bi bi-zulip" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://ibis-project.org/posts.xml">
      <i class="bi bi-rss" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>