{"version":3,"file":"6236.5f93bea.js","mappings":"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","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/ajv.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/codegen/code.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/codegen/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/codegen/scope.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/errors.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/names.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/ref_error.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/resolve.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/rules.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/util.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/validate/applicability.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/validate/boolSchema.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/validate/dataType.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/validate/defaults.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/validate/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/validate/keyword.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/compile/validate/subschema.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/core.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/runtime/equal.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/runtime/ucs2length.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/runtime/uri.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/runtime/validation_error.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/if.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/items.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/items2020.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/not.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/code.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/core/id.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/core/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/core/ref.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/discriminator/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/discriminator/types.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/draft7.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/format/format.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/format/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/metadata.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/validation/const.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/validation/enum.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/validation/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/validation/required.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/fast-deep-equal/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/json-schema-traverse/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/uri-js/dist/es5/uri.all.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = exports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nmodule.exports = exports = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nvar validation_error_1 = require(\"./runtime/validation_error\");\nObject.defineProperty(exports, \"ValidationError\", { enumerable: true, get: function () { return validation_error_1.default; } });\nvar ref_error_1 = require(\"./compile/ref_error\");\nObject.defineProperty(exports, \"MissingRefError\", { enumerable: true, get: function () { return ref_error_1.default; } });\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//Does best effort to format the name properly\nfunction getEsmExportName(key) {\n    if (typeof key == \"string\" && exports.IDENTIFIER.test(key)) {\n        return new _Code(`${key}`);\n    }\n    throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`);\n}\nexports.getEsmExportName = getEsmExportName;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                (0, code_1.addCodeArg)(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, (0, code_1._) `${arr}.length`, (i) => {\n                this.var(name, (0, code_1._) `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, (0, code_1._) `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : (0, code_1._) `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : (0, code_1._) `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : (0, code_1._) `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = (0, code_1._) `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = (0, code_1._) `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return (0, code_1._) `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = (0, code_1._) `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = (0, code_1._) `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => (0, codegen_1.str) `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? (0, codegen_1.str) `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : (0, codegen_1.str) `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, (0, codegen_1._) `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign((0, codegen_1._) `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, (0, codegen_1._) `${names_1.default.vErrors}[${i}]`);\n        gen.if((0, codegen_1._) `${err}.instancePath === undefined`, () => gen.assign((0, codegen_1._) `${err}.instancePath`, (0, codegen_1.strConcat)(names_1.default.instancePath, it.errorPath)));\n        gen.assign((0, codegen_1._) `${err}.schemaPath`, (0, codegen_1.str) `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign((0, codegen_1._) `${err}.schema`, schemaValue);\n            gen.assign((0, codegen_1._) `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, (0, codegen_1._) `[${err}]`), (0, codegen_1._) `${names_1.default.vErrors}.push(${err})`);\n    gen.code((0, codegen_1._) `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw((0, codegen_1._) `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return (0, codegen_1._) `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : (0, codegen_1.str) `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = (0, codegen_1.str) `${schPath}${(0, util_1.getErrorPath)(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || (0, codegen_1._) `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, (0, codegen_1._) `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : (0, resolve_1.normalizeId)(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = (0, resolve_1.getFullPath)(this.opts.uriResolver, sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: (0, codegen_1._) `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: (0, codegen_1.stringify)(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: (0, codegen_1._) `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        (0, validate_1.validateFunctionCode)(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = (0, codegen_1.stringify)(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if ((0, resolve_1.inlineRef)(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = this.opts.uriResolver.parse(ref);\n    const refPath = (0, resolve_1._getFullPath)(this.opts.uriResolver, p);\n    let baseId = (0, resolve_1.getFullPath)(this.opts.uriResolver, root.baseId, undefined);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = (0, resolve_1.normalizeId)(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === (0, resolve_1.normalizeId)(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema === \"boolean\")\n            return;\n        const partSchema = schema[(0, util_1.unescapeFragment)(part)];\n        if (partSchema === undefined)\n            return;\n        schema = partSchema;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema === \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !(0, util_1.schemaHasRulesButRef)(schema, this.RULES)) {\n        const $ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(resolver, baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = (0, resolve_1.resolveUrl)(resolver, baseId, ref);\n        this.missingSchema = (0, resolve_1.normalizeId)((0, resolve_1.getFullPath)(resolver, this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            (0, util_1.eachItem)(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(resolver, id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = resolver.parse(id);\n    return _getFullPath(resolver, p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(resolver, p) {\n    const serialized = resolver.serialize(p);\n    return serialized.split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(resolver, baseId, id) {\n    id = normalizeId(id);\n    return resolver.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema, baseId) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId, uriResolver } = this.opts;\n    const schId = normalizeId(schema[schemaId] || baseId);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(uriResolver, schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            baseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            const _resolve = this.opts.uriResolver.resolve;\n            ref = normalizeId(baseId ? _resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return (0, codegen_1._) `${schema}`;\n    }\n    return (0, codegen_1._) `${topSchemaRef}${schemaPath}${(0, codegen_1.getProperty)(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => {\n            gen.if((0, codegen_1._) `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, (0, codegen_1._) `${to} || {}`).code((0, codegen_1._) `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, (0, codegen_1._) `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => gen.assign(to, (0, codegen_1._) `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => gen.assign(to, from === true ? true : (0, codegen_1._) `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", (0, codegen_1._) `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign((0, codegen_1._) `${props}${(0, codegen_1.getProperty)(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? (0, codegen_1._) `\"[\" + ${dataProp} + \"]\"`\n                : (0, codegen_1._) `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? (0, codegen_1._) `\"/\" + ${dataProp}`\n                : (0, codegen_1._) `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", (0, codegen_1._) `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", (0, codegen_1._) `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if((0, codegen_1._) `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, (0, codegen_1._) `${data}[0]`)\n            .assign(dataType, (0, codegen_1._) `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if((0, codegen_1._) `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if((0, codegen_1._) `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, (0, codegen_1._) `\"\" + ${data}`)\n                    .elseIf((0, codegen_1._) `${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf((0, codegen_1._) `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf((0, codegen_1._) `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf((0, codegen_1._) `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if((0, codegen_1._) `${parentData} !== undefined`, () => gen.assign((0, codegen_1._) `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return (0, codegen_1._) `${data} ${EQ} null`;\n        case \"array\":\n            cond = (0, codegen_1._) `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = (0, codegen_1._) `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond((0, codegen_1._) `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return (0, codegen_1._) `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return (0, codegen_1.and)((0, codegen_1._) `typeof ${data} == \"number\"`, _cond, strictNums ? (0, codegen_1._) `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = (0, util_1.toHash)(dataTypes);\n    if (types.array && types.object) {\n        const notObj = (0, codegen_1._) `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : (0, codegen_1._) `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? (0, codegen_1._) `{type: ${schema}}` : (0, codegen_1._) `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    (0, errors_1.reportError)(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = (0, util_1.schemaRefOrVal)(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => (0, boolSchema_1.topBoolOrEmptySchema)(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code((0, codegen_1._) `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return (0, codegen_1._) `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? (0, codegen_1._) `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `\"\"`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", (0, codegen_1._) `${validateName}.evaluated`);\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicProps`, () => gen.assign((0, codegen_1._) `${it.evaluated}.props`, (0, codegen_1._) `undefined`));\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicItems`, () => gen.assign((0, codegen_1._) `${it.evaluated}.items`, (0, codegen_1._) `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? (0, codegen_1._) `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    (0, boolSchema_1.boolOrEmptySchema)(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, (0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    (0, util_1.checkUnknownRules)(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = (0, dataType_1.getSchemaTypes)(it.schema);\n    const checkedTypes = (0, dataType_1.coerceAndCheckDataType)(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && (0, util_1.schemaHasRulesButRef)(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        (0, util_1.checkStrictMode)(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = (0, resolve_1.resolveUrl)(it.opts.uriResolver, it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code((0, codegen_1._) `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = (0, codegen_1.str) `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code((0, codegen_1._) `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if((0, codegen_1._) `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw((0, codegen_1._) `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return((0, codegen_1._) `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !(0, util_1.schemaHasRulesButRef)(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!(0, applicability_1.shouldUseGroup)(schema, group))\n            return;\n        if (group.type) {\n            gen.if((0, dataType_2.checkDataType)(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                (0, dataType_2.reportTypeError)(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if((0, codegen_1._) `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        (0, defaults_1.assignDefaults)(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if ((0, applicability_1.shouldUseRule)(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    narrowSchemaTypes(it, types);\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && (0, applicability_1.shouldUseRule)(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction narrowSchemaTypes(it, withTypes) {\n    const ts = [];\n    for (const t of it.dataTypes) {\n        if (includesType(withTypes, t))\n            ts.push(t);\n        else if (withTypes.includes(\"integer\") && t === \"number\")\n            ts.push(\"integer\");\n    }\n    it.dataTypes = ts;\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    (0, util_1.checkStrictMode)(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        (0, keyword_1.validateKeywordUsage)(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = (0, util_1.schemaRefOrVal)(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!(0, keyword_1.validSchemaType)(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult((0, codegen_1.not)(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult((0, codegen_1.not)(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail((0, codegen_1._) `${schemaCode} !== undefined && (${(0, codegen_1.or)(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        (0, errors_1.reportError)(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        (0, errors_1.resetErrorsCount)(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if((0, codegen_1.or)((0, codegen_1._) `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return (0, codegen_1.or)(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return (0, codegen_1._) `${(0, dataType_2.checkDataTypes)(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return (0, codegen_1._) `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = (0, subschema_1.getSubschema)(this.it, appl);\n        (0, subschema_1.extendSubschemaData)(subschema, this.it, appl);\n        (0, subschema_1.extendSubschemaMode)(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        (0, keyword_1.macroKeywordCode)(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)((0, util_1.unescapeJsonPointer)(segment))}`;\n            expr = (0, codegen_1._) `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid((0, codegen_1._) `await `), (e) => gen.assign(valid, false).if((0, codegen_1._) `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, (0, codegen_1._) `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = (0, codegen_1._) `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? (0, codegen_1._) `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, (0, codegen_1._) `${_await}${(0, code_1.callValidateCode)(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if((0, codegen_1.not)((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, (0, codegen_1._) `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if((0, codegen_1._) `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n        (0, errors_1.extendErrors)(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: (0, codegen_1.stringify)(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}${(0, codegen_1.getProperty)(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${(0, util_1.escapeFragment)(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", (0, codegen_1._) `${it.data}${(0, codegen_1.getProperty)(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = (0, codegen_1._) `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst uri_1 = require(\"./runtime/uri\");\nconst defaultRegExp = (str, flags) => new RegExp(str, flags);\ndefaultRegExp.code = \"new RegExp\";\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    const regExp = (_c = (_b = o.code) === null || _b === void 0 ? void 0 : _b.regExp) !== null && _c !== void 0 ? _c : defaultRegExp;\n    const uriResolver = (_d = o.uriResolver) !== null && _d !== void 0 ? _d : uri_1.default;\n    return {\n        strictSchema: (_f = (_e = o.strictSchema) !== null && _e !== void 0 ? _e : s) !== null && _f !== void 0 ? _f : true,\n        strictNumbers: (_h = (_g = o.strictNumbers) !== null && _g !== void 0 ? _g : s) !== null && _h !== void 0 ? _h : true,\n        strictTypes: (_k = (_j = o.strictTypes) !== null && _j !== void 0 ? _j : s) !== null && _k !== void 0 ? _k : \"log\",\n        strictTuples: (_m = (_l = o.strictTuples) !== null && _l !== void 0 ? _l : s) !== null && _m !== void 0 ? _m : \"log\",\n        strictRequired: (_p = (_o = o.strictRequired) !== null && _o !== void 0 ? _o : s) !== null && _p !== void 0 ? _p : false,\n        code: o.code ? { ...o.code, optimize, regExp } : { optimize, regExp },\n        loopRequired: (_q = o.loopRequired) !== null && _q !== void 0 ? _q : MAX_EXPRESSION,\n        loopEnum: (_r = o.loopEnum) !== null && _r !== void 0 ? _r : MAX_EXPRESSION,\n        meta: (_s = o.meta) !== null && _s !== void 0 ? _s : true,\n        messages: (_t = o.messages) !== null && _t !== void 0 ? _t : true,\n        inlineRefs: (_u = o.inlineRefs) !== null && _u !== void 0 ? _u : true,\n        schemaId: (_v = o.schemaId) !== null && _v !== void 0 ? _v : \"$id\",\n        addUsedSchema: (_w = o.addUsedSchema) !== null && _w !== void 0 ? _w : true,\n        validateSchema: (_x = o.validateSchema) !== null && _x !== void 0 ? _x : true,\n        validateFormats: (_y = o.validateFormats) !== null && _y !== void 0 ? _y : true,\n        unicodeRegExp: (_z = o.unicodeRegExp) !== null && _z !== void 0 ? _z : true,\n        int32range: (_0 = o.int32range) !== null && _0 !== void 0 ? _0 : true,\n        uriResolver: uriResolver,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = (0, rules_1.getRules)();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = (0, resolve_1.normalizeId)(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = (0, resolve_1.normalizeId)(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            (0, util_1.eachItem)(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: (0, dataType_1.getJSONTypes)(def.type),\n            schemaType: (0, dataType_1.getJSONTypes)(def.schemaType),\n        };\n        (0, util_1.eachItem)(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        baseId = (0, resolve_1.normalizeId)(id || baseId);\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema, baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = (0, resolve_1.normalizeId)(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    (0, util_1.eachItem)(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: (0, dataType_1.getJSONTypes)(definition.type),\n            schemaType: (0, dataType_1.getJSONTypes)(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uri = require(\"uri-js\");\nuri.code = 'require(\"ajv/dist/runtime/uri\").default';\nexports.default = uri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            (0, util_1.checkStrictMode)(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass((0, codegen_1._) `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n        const valid = gen.var(\"valid\", (0, codegen_1._) `${len} <= ${items.length}`); // TODO var\n        gen.if((0, codegen_1.not)(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if((0, codegen_1.not)(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => (0, codegen_1._) `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && (0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const props = (0, code_1.allSchemaProperties)(parentSchema.properties);\n        const patProps = (0, code_1.allSchemaProperties)(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok((0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = (0, util_1.schemaRefOrVal)(it, parentSchema.properties, \"properties\");\n                definedProp = (0, code_1.isOwnProperty)(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = (0, codegen_1.or)(...props.map((p) => (0, codegen_1._) `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = (0, codegen_1.or)(definedProp, ...patProps.map((p) => (0, codegen_1._) `${(0, code_1.usePattern)(cxt, p)}.test(${key})`));\n            }\n            return (0, codegen_1.not)(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code((0, codegen_1._) `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if((0, codegen_1.not)(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if ((0, util_1.alwaysValidSchema)(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? (0, codegen_1.str) `must contain at least ${min} valid item(s)`\n        : (0, codegen_1.str) `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? (0, codegen_1._) `{minContains: ${min}}` : (0, codegen_1._) `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            let cond = (0, codegen_1._) `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = (0, codegen_1._) `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else if (min === 0) {\n            gen.let(valid, true);\n            if (max !== undefined)\n                gen.if((0, codegen_1._) `${data}.length > 0`, validateItemsWithCount);\n        }\n        else {\n            gen.let(valid, false);\n            validateItemsWithCount();\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItemsWithCount() {\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code((0, codegen_1._) `${count}++`);\n            if (max === undefined) {\n                gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if((0, codegen_1._) `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return (0, codegen_1.str) `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => (0, codegen_1._) `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    (0, code_1.checkReportMissingProp)(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if((0, codegen_1._) `${hasProperty} && (${(0, code_1.checkMissingProp)(cxt, deps, missing)})`);\n            (0, code_1.reportMissingProp)(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop]))\n            continue;\n        gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => (0, codegen_1.str) `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => (0, codegen_1._) `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            (0, util_1.checkStrictMode)(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if((0, codegen_1.not)(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, (0, codegen_1._) `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !(0, util_1.alwaysValidSchema)(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if ((0, util_1.alwaysValidSchema)(it, sch))\n            return;\n        gen.if((0, codegen_1._) `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            (0, util_1.checkStrictMode)(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        if (prefixItems)\n            (0, additionalItems_1.validateAdditionalItems)(cxt, prefixItems);\n        else\n            cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => (0, codegen_1._) `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if ((0, util_1.alwaysValidSchema)(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if((0, codegen_1._) `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, (0, codegen_1._) `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = (0, code_1.allSchemaProperties)(schema);\n        const alwaysValidPatterns = patterns.filter((p) => (0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = (0, util_2.evaluatedPropsToName)(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    (0, util_1.checkStrictMode)(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if((0, codegen_1._) `${(0, code_1.usePattern)(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign((0, codegen_1._) `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => (0, items_1.validateTuple)(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = (0, code_1.allSchemaProperties)(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, (0, util_1.toHash)(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !(0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => (0, codegen_1._) `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            (0, util_1.checkStrictMode)(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nconst util_2 = require(\"../compile/util\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: (0, codegen_1._) `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return (0, codegen_1.or)(...properties.map((prop) => (0, codegen_1.and)(noPropertyInData(gen, data, prop, opts.ownProperties), (0, codegen_1._) `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: (0, codegen_1._) `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return (0, codegen_1._) `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} !== undefined`;\n    return ownProperties ? (0, codegen_1._) `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} === undefined`;\n    return ownProperties ? (0, codegen_1.or)(cond, (0, codegen_1.not)(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !(0, util_1.alwaysValidSchema)(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? (0, codegen_1._) `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = (0, codegen_1._) `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? (0, codegen_1._) `${func}.call(${context}, ${args})` : (0, codegen_1._) `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nconst newRegExp = (0, codegen_1._) `new RegExp`;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    const { regExp } = opts.code;\n    const rx = regExp(pattern, u);\n    return gen.scopeValue(\"pattern\", {\n        key: rx.toString(),\n        ref: rx,\n        code: (0, codegen_1._) `${regExp.code === \"new RegExp\" ? newRegExp : (0, util_2.useFunc)(gen, regExp)}(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => (0, util_1.alwaysValidSchema)(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, (0, codegen_1._) `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if((0, codegen_1.not)(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(it.opts.uriResolver, baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, (0, codegen_1._) `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: (0, codegen_1.stringify)(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : (0, codegen_1._) `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code((0, codegen_1._) `await ${(0, code_1.callValidateCode)(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if((0, codegen_1._) `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result((0, code_1.callValidateCode)(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = (0, codegen_1._) `${source}.errors`;\n        gen.assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", (0, codegen_1._) `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", (0, codegen_1._) `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => (0, codegen_1._) `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(tagName)}`);\n        gen.if((0, codegen_1._) `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf((0, codegen_1._) `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                let sch = oneOf[i];\n                if ((sch === null || sch === void 0 ? void 0 : sch.$ref) && !(0, util_1.schemaHasRulesButRef)(sch, it.self.RULES)) {\n                    sch = compile_1.resolveRef.call(it.self, it.schemaEnv.root, it.baseId, sch === null || sch === void 0 ? void 0 : sch.$ref);\n                    if (sch instanceof compile_1.SchemaEnv)\n                        sch = sch.schema;\n                }\n                const propSch = (_a = sch === null || sch === void 0 ? void 0 : sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError = exports.DiscrError || (exports.DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    (0, applicator_1.default)(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", (0, codegen_1._) `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if((0, codegen_1._) `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, (0, codegen_1._) `${fDef}.type || \"string\"`).assign(format, (0, codegen_1._) `${fDef}.validate`), () => gen.assign(fType, (0, codegen_1._) `\"string\"`).assign(format, fDef));\n            cxt.fail$data((0, codegen_1.or)(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return (0, codegen_1._) `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? (0, codegen_1._) `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : (0, codegen_1._) `${format}(${data})`;\n                const validData = (0, codegen_1._) `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return (0, codegen_1._) `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? (0, codegen_1.regexpCode)(fmtDef)\n                    : opts.code.formats\n                        ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, (0, codegen_1._) `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return (0, codegen_1._) `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? (0, codegen_1._) `${fmtRef}(${data})` : (0, codegen_1._) `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data((0, codegen_1._) `!${(0, util_1.useFunc)(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail((0, codegen_1._) `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        let eql;\n        const getEql = () => (eql !== null && eql !== void 0 ? eql : (eql = (0, util_1.useFunc)(gen, equal_1.default)));\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = (0, codegen_1.or)(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if((0, codegen_1._) `${getEql()}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? (0, codegen_1._) `${getEql()}(${data}, ${vSchema}[${i}])`\n                : (0, codegen_1._) `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? (0, codegen_1._) `${data}.length` : (0, codegen_1._) `${(0, util_1.useFunc)(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data((0, codegen_1._) `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data((0, codegen_1._) `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} properties`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? (0, codegen_1._) `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : (0, codegen_1._) `${res} !== parseInt(${res})`;\n        cxt.fail$data((0, codegen_1._) `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? (0, codegen_1._) `(new RegExp(${schemaCode}, ${u}))` : (0, code_1.usePattern)(cxt, schema);\n        cxt.fail$data((0, codegen_1._) `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => (0, codegen_1.str) `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => (0, codegen_1._) `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    (0, code_1.checkReportMissingProp)(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n                (0, code_1.reportMissingProp)(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n                gen.if((0, codegen_1.not)(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => (0, codegen_1.str) `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => (0, codegen_1._) `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? (0, dataType_1.getSchemaTypes)(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, (0, codegen_1._) `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", (0, codegen_1._) `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if((0, codegen_1._) `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = (0, dataType_1.checkDataTypes)(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", (0, codegen_1._) `{}`);\n            gen.for((0, codegen_1._) `;${i}--;`, () => {\n                gen.let(item, (0, codegen_1._) `${data}[${i}]`);\n                gen.if(wrongType, (0, codegen_1._) `continue`);\n                if (itemTypes.length > 1)\n                    gen.if((0, codegen_1._) `typeof ${item} == \"string\"`, (0, codegen_1._) `${item} += \"_\"`);\n                gen\n                    .if((0, codegen_1._) `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, (0, codegen_1._) `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code((0, codegen_1._) `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = (0, util_1.useFunc)(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for((0, codegen_1._) `;${i}--;`, () => gen.for((0, codegen_1._) `${j} = ${i}; ${j}--;`, () => gen.if((0, codegen_1._) `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\" || typeof components.port === \"string\") {\n        uriTokens.push(\":\");\n        uriTokens.push(String(components.port));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        var secure = String(components.scheme).toLowerCase() === \"https\";\n        //normalize the default port\n        if (components.port === (secure ? 443 : 80) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nfunction isSecure(wsComponents) {\n    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n//RFC 6455\nvar handler$2 = {\n    scheme: \"ws\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        var wsComponents = components;\n        //indicate if the secure flag is set\n        wsComponents.secure = isSecure(wsComponents);\n        //construct resouce name\n        wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n        wsComponents.path = undefined;\n        wsComponents.query = undefined;\n        return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n        //normalize the default port\n        if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n            wsComponents.port = undefined;\n        }\n        //ensure scheme matches secure flag\n        if (typeof wsComponents.secure === 'boolean') {\n            wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';\n            wsComponents.secure = undefined;\n        }\n        //reconstruct path from resource name\n        if (wsComponents.resourceName) {\n            var _wsComponents$resourc = wsComponents.resourceName.split('?'),\n                _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n                path = _wsComponents$resourc2[0],\n                query = _wsComponents$resourc2[1];\n\n            wsComponents.path = path && path !== '/' ? path : undefined;\n            wsComponents.query = query;\n            wsComponents.resourceName = undefined;\n        }\n        //forbid fragment component\n        wsComponents.fragment = undefined;\n        return wsComponents;\n    }\n};\n\nvar handler$3 = {\n    scheme: \"wss\",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$4 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$5 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$6 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\nSCHEMES[handler$5.scheme] = handler$5;\nSCHEMES[handler$6.scheme] = handler$6;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n"],"names":["Object","defineProperty","exports","value","MissingRefError","ValidationError","CodeGen","Name","nil","stringify","str","_","KeywordCxt","core_1","draft7_1","discriminator_1","draft7MetaSchema","META_SUPPORT_DATA","META_SCHEMA_ID","Ajv","default","_addVocabularies","super","forEach","v","this","addVocabulary","opts","discriminator","addKeyword","_addDefaultMetaSchema","meta","metaSchema","$data","$dataMetaSchema","addMetaSchema","refs","defaultMeta","getSchema","undefined","module","validate_1","enumerable","get","codegen_1","validation_error_1","ref_error_1","regexpCode","getEsmExportName","getProperty","safeStringify","strConcat","addCodeArg","_Code","IDENTIFIER","_CodeOrName","constructor","s","test","Error","toString","emptyStr","names","code","_items","length","item","_a","_str","reduce","c","_names","strs","args","i","push","plus","expr","res","mergeExprItems","splice","optimize","arg","x","Array","isArray","join","a","b","slice","JSON","replace","c1","c2","key","rx","or","and","not","operators","varKinds","ValueScopeName","ValueScope","Scope","code_1","scope_1","code_2","scope_2","GT","GTE","LT","LTE","EQ","NEQ","NOT","OR","AND","ADD","Node","optimizeNodes","optimizeNames","_constants","Def","varKind","name","rhs","render","es5","_n","var","constants","optimizeExpr","Assign","lhs","sideEffects","addExprNames","AssignOp","op","Label","label","Break","Throw","error","AnyCode","ParentNode","nodes","n","subtractNames","addNames","BlockNode","Root","Else","kind","If","condition","else","cond","e","ns","For","ForLoop","iteration","ForRange","from","to","ForIter","loop","iterable","Func","async","Return","Try","catch","finally","_b","Catch","Finally","replaceName","some","items","par","extScope","_values","_blockStarts","lines","_extScope","_scope","parent","_nodes","_root","prefix","scopeName","scopeValue","prefixOrName","Set","add","getScopeValue","keyOrRef","getValue","scopeRefs","scopeCode","_def","nameOrPrefix","constant","toName","_leafNode","_constant","const","let","assign","object","keyValues","thenBody","elseBody","_blockNode","endIf","elseIf","_elseNode","_endBlockNode","_for","node","forBody","endFor","forRange","forOf","arr","forIn","obj","ownProperties","tryBody","catchCode","finallyCode","_currNode","block","body","nodeCount","endBlock","len","pop","toClose","func","funcBody","endFunc","N1","N2","andCode","mappend","orCode","y","UsedValueState","ValueError","prefixes","_prefixes","_parent","_newName","_nameGroup","index","has","nameStr","setValue","property","itemIndex","scopePath","line","scope","ref","valueKey","vs","_name","Map","set","values","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","def","Completed","extendErrors","resetErrorsCount","reportExtraError","reportError","keyword$DataError","keywordError","util_1","names_1","addError","gen","errObj","err","if","vErrors","errors","returnErrors","it","errs","validateName","schemaEnv","$async","throw","return","message","keyword","schemaType","cxt","errorPaths","overrideAllErrors","compositeRule","allErrors","errorObjectCode","errsCount","schemaValue","data","instancePath","errorPath","errSchemaPath","verbose","E","schemaPath","params","propertyName","schema","parentSchema","createErrors","errorInstancePath","errorSchemaPath","topSchemaRef","messages","extraErrorProps","errorObject","instPath","getErrorPath","Type","Str","schPath","resolveSchema","getCompilingSchema","resolveRef","compileSchema","SchemaEnv","resolve_1","env","dynamicAnchors","schemaId","root","baseId","normalizeId","localRefs","sch","_sch","call","rootId","getFullPath","uriResolver","_ValidationError","schemaCxt","parentData","parentDataProperty","dataNames","dataPathArr","dataLevel","dataTypes","definedProperties","source","jtd","self","sourceCode","_compilations","validateFunctionCode","validateCode","process","validate","Function","makeValidate","scopeValues","unevaluated","props","evaluated","dynamicProps","dynamicItems","logger","delete","inlineOrCompile","inlineRef","inlineRefs","schEnv","s2","s1","resolve","schemas","p","parse","refPath","_getFullPath","keys","getJsonPointer","id","schOrRef","schId","resolveUrl","schOrFunc","PREVENT_SCOPE_CHANGE","parsedRef","fragment","part","split","partSchema","unescapeFragment","$ref","schemaHasRulesButRef","RULES","valCxt","rootData","json","jsonPos","jsonLen","jsonPart","resolver","msg","missingRef","missingSchema","getSchemaRefs","equal","traverse","SIMPLE_INLINED","limit","hasRef","countKeys","REF_KEYWORDS","count","Infinity","eachItem","normalize","serialize","TRAILING_SLASH_HASH","ANCHOR","baseIds","pathPrefix","schemaRefs","allKeys","jsonPtr","parentJsonPtr","fullPath","addRef","_resolve","ambiguos","checkAmbiguosRef","addAnchor","anchor","$anchor","$dynamicAnchor","sch1","sch2","getRules","isJSONType","jsonTypes","groups","number","type","rules","string","array","types","integer","boolean","null","post","all","keywords","checkStrictMode","useFunc","setEvaluated","evaluatedPropsToName","mergeEvaluated","unescapeJsonPointer","escapeJsonPointer","escapeFragment","schemaRefOrVal","schemaHasRules","checkUnknownRules","alwaysValidSchema","toHash","strictSchema","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","ps","hash","decodeURIComponent","encodeURIComponent","xs","f","Math","max","snippets","mode","warn","dataProp","dataPropType","jsPropertySyntax","isNumber","Num","shouldUseGroup","group","rule","shouldUseRule","definition","implements","kwd","schemaHasRulesForType","boolOrEmptySchema","topBoolOrEmptySchema","errors_1","boolError","falseSchemaError","schemaCode","valid","reportTypeError","checkDataTypes","checkDataType","coerceAndCheckDataType","getJSONTypes","getSchemaTypes","DataType","rules_1","applicability_1","ts","every","includes","nullable","coerceTo","coerceTypes","filter","t","COERCIBLE","coerceToTypes","checkTypes","wrongType","strictNumbers","Wrong","dataType","coerced","coerceSpecificType","assignParentData","coerceData","strictNums","correct","Correct","numCond","_cond","notObj","typeError","getTypeErrorContext","assignDefaults","assignDefault","prop","defaultValue","childData","useDefaults","ty","properties","getData","boolSchema_1","dataType_1","dataType_2","defaults_1","keyword_1","subschema_1","validateFunction","funcSourceUrl","dynamicRef","destructureValCxtES5","destructureValCxt","schemaCxtHasRules","isSchemaObj","checkKeywords","ignoreKeywordsWithRef","checkRefsAndKeywords","typeAndKeywords","schemaKeywords","commentKeyword","$comment","rootName","typeErrors","groupKeywords","iterateKeywords","strictTypes","includesType","strictTypesError","withTypes","narrowSchemaTypes","checkContextTypes","allowUnionTypes","checkMultipleTypes","hasApplicableType","kwdT","schTs","checkKeywordTypes","checkStrictTypes","keywordCode","checkNoDefault","resetEvaluated","assignEvaluated","returnResults","topSchemaObjCode","validateKeywordUsage","validSchemaType","allowUndefined","trackErrors","result","successAction","failAction","failResult","pass","fail","fail$data","invalid$data","append","errorParams","setParams","_error","$dataError","reset","ok","block$data","codeBlock","$dataValid","check$data","validateSchema","st","wrong$DataType","validateSchemaRef","invalid$DataSchema","subschema","appl","getSubschema","extendSubschemaData","extendSubschemaMode","nextContext","updateContext","checkAsyncSchema","subSchemaObjCode","subschemaCode","mergeValidEvaluated","ruleType","funcKeywordCode","macroKeywordCode","compile","JSON_POINTER","RELATIVE_JSON_POINTER","jsonPointer","matches","exec","up","errorMsg","segments","segment","pointerType","modifyData","useKeyword","macroSchema","macro","schemaRef","checkAsyncKeyword","validateRef","assignValid","_await","passCxt","passContext","passSchema","callValidateCode","modifying","reportErrs","ruleErrs","try","validateAsync","validateErrs","validateSync","addErrs","deps","dependencies","prototype","hasOwnProperty","errorsText","schemaProp","dpType","dataContextProps","_nextData","jtdDiscriminator","jtdMetadata","compile_1","codegen_2","$dataRefSchema","uri_1","defaultRegExp","flags","RegExp","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","errorDataPath","format","jsonPointers","extendRefs","missingRefs","processCode","strictDefaults","strictKeywords","uniqueItems","unknownFormats","cache","ajvErrors","deprecatedOptions","unicode","requiredOptions","o","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","strict","_optz","regExp","strictTuples","strictRequired","loopRequired","loopEnum","addUsedSchema","validateFormats","unicodeRegExp","int32range","formats","_loading","_cache","noLogs","console","log","getLogger","formatOpt","checkOptions","_metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addInitialSchemas","_dataRefSchema","$id","schemaKeyRef","_meta","_addSchema","_compileSchemaEnv","compileAsync","loadSchema","runCompileAsync","_schema","loadMetaSchema","$schema","_compileAsync","checkLoaded","loadMissingSchema","_loadSchema","addSchema","_validateSchema","_checkUnique","throwOrLogError","keyRef","getSchEnv","removeSchema","_removeAllSchemas","clear","cacheKey","definitions","kwdOrDef","checkKeyword","addRule","keywordMetaschema","k","getKeyword","removeKeyword","findIndex","addFormat","separator","dataVar","map","text","keywordsJsonPointers","seg","schemaOrData","regex","startsWith","_compileMetaSchema","currentOpts","checkOpts","options","opt","optsSchemas","defs","metaOpts","KEYWORD_NAME","ruleGroup","find","before","addBeforeRule","_rule","$dataRef","anyOf","ucs2length","pos","charCodeAt","uri","ajv","validation","validateAdditionalItems","break","validateItems","additionalProperty","removeAdditional","allSchemaProperties","patProps","patternProperties","deleteAdditional","additionalPropertyCode","applyAdditionalSchema","definedProp","propsSchema","isOwnProperty","usePattern","isAdditional","schCxt","validateUnion","min","minContains","maxContains","next","validateItemsWithCount","schValid","checkLimits","_valid","validateSchemaDeps","validatePropertyDeps","depsCount","property_ies","missingProperty","propDeps","schDeps","propertyDeps","schemaDeps","splitDependencies","missing","hasProperty","propertyInData","depProp","checkReportMissingProp","checkMissingProp","reportMissingProp","ifClause","then","hasThen","hasSchema","hasElse","validateIf","validateClause","additionalItems_1","prefixItems_1","items_1","items2020_1","contains_1","dependencies_1","propertyNames_1","additionalProperties_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","draft2020","applicator","validateTuple","validateArray","extraItems","schArr","l","fullTuple","minItems","maxItems","checkStrictTuple","prefixItems","passing","util_2","patterns","alwaysValidPatterns","checkProperties","allowMatchingProperties","checkMatchingProperties","pat","validateProperties","alwaysValid","validatePatternProperties","additionalProperties","allProps","hasDefault","applyPropertySchema","schemaProperties","noPropertyInData","hasPropFunc","schemaMap","context","dataAndSchema","newRegExp","pattern","u","validArr","notValid","id_1","ref_1","core","callRef","getValidate","callRootRef","schOrEnv","callValidate","schName","inlineRefSchema","addErrorsFrom","addEvaluatedFrom","schEvaluated","callAsyncRef","types_1","discrError","tagName","DiscrError","Tag","tag","oneOf","mapping","applyTagSchema","oneOfMapping","topRequired","hasRequired","tagRequired","propSch","addMappings","required","addMapping","enum","tagValue","getMapping","Mapping","validateMapping","validation_1","applicator_1","format_1","metadata_1","draft7Vocabularies","metadataVocabulary","contentVocabulary","fmts","fDef","fType","callFormat","validData","invalidFmt","validate$DataFormat","formatDef","unknownMsg","unknownFormat","fmtType","fmtRef","fmtDef","fmt","getFormat","validCondition","validateFormat","equal_1","useLoop","eql","getEql","vSchema","equalCode","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","comp","ucs2length_1","ops","KWDs","maximum","okStr","minimum","exclusiveMaximum","exclusiveMinimum","prec","multipleOfPrecision","invalid","loopAllRequired","allErrorsMode","loopUntilMissing","exitOnErrorMode","requiredKey","j","itemTypes","loopN","indices","for","loopN2","outer","valueOf","cb","_traverse","pre","rootSchema","parentKeyword","keyIndex","arrayKeywords","propsKeywords","skipKeywords","additionalItems","contains","propertyNames","allOf","$defs","multipleOf","maxLength","minLength","maxProperties","minProperties","merge","_len","arguments","sets","_key","xl","subexp","typeOf","shift","toLowerCase","toUpperCase","buildExps","isIRI","ALPHA$$","DIGIT$$","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","Symbol","iterator","_arr","_i","done","sliceIterator","TypeError","maxInt","base","regexPunycode","regexNonASCII","regexSeparators","floor","stringFromCharCode","String","fromCharCode","error$1","RangeError","mapDomain","fn","parts","ucs2decode","output","counter","extra","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","baseMinusTMin","decode","input","codePoint","inputLength","bias","basic","lastIndexOf","oldi","w","baseMinusT","out","fromCodePoint","apply","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_currentValue2","basicLength","handledCPCount","m","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_currentValue","q","qMinusT","punycode","arr2","toConsumableArray","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","parseInt","substr","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","match","scheme","userinfo","host","path","query","_stripLeadingZeros","_normalizeIPv4","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","reverse","_address$toLowerCase$2","last","first","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","longestZeroFields","acc","field","lastLongest","sort","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","port","isNaN","indexOf","schemeHandler","unicodeSupport","domainHost","toASCII","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","uriTokens","toUnicode","authority","$1","$2","_recomposeAuthority","charAt","absolutePath","resolveComponents","relative","target","tolerant","unescapeComponent","handler","secure","handler$1","isSecure","wsComponents","handler$2","resourceName","_wsComponents$resourc","_wsComponents$resourc2","handler$3","O","VCHAR$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$4","mailtoComponents","unknownHeaders","headers","hfields","hfield","toAddrs","_xl","subject","_x2","_xl2","addr","setInterval","toAddr","atIdx","localPart","domain","URN_PARSE","handler$5","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$6","uuidComponents","uuid","baseURI","relativeURI","schemelessOptions","uriA","uriB","escapeComponent","factory"],"sourceRoot":""}