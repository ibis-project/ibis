{"version":3,"file":"5115.c11e8fa.js","mappings":"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","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/components/version.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/core/HandlerList.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/Configuration.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/MapHandler.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/NodeUtil.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/ParseUtil.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/Stack.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/Symbol.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/SymbolMap.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/Tags.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/TexError.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/TexParser.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/mathjax.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/util/AsyncLoad.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/util/Entities.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/util/FunctionList.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/util/PrioritizedList.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/util/Retries.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VERSION = void 0;\nexports.VERSION = '3.2.2';\n//# sourceMappingURL=version.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HandlerList = void 0;\nvar PrioritizedList_js_1 = require(\"../util/PrioritizedList.js\");\nvar HandlerList = (function (_super) {\n    __extends(HandlerList, _super);\n    function HandlerList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HandlerList.prototype.register = function (handler) {\n        return this.add(handler, handler.priority);\n    };\n    HandlerList.prototype.unregister = function (handler) {\n        this.remove(handler);\n    };\n    HandlerList.prototype.handlesDocument = function (document) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var item = _c.value;\n                var handler = item.item;\n                if (handler.handlesDocument(document)) {\n                    return handler;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        throw new Error(\"Can't find handler for document\");\n    };\n    HandlerList.prototype.document = function (document, options) {\n        if (options === void 0) { options = null; }\n        return this.handlesDocument(document).create(document, options);\n    };\n    return HandlerList;\n}(PrioritizedList_js_1.PrioritizedList));\nexports.HandlerList = HandlerList;\n//# sourceMappingURL=HandlerList.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ParserConfiguration = exports.ConfigurationHandler = exports.Configuration = void 0;\nvar Options_js_1 = require(\"../../util/Options.js\");\nvar MapHandler_js_1 = require(\"./MapHandler.js\");\nvar FunctionList_js_1 = require(\"../../util/FunctionList.js\");\nvar PrioritizedList_js_1 = require(\"../../util/PrioritizedList.js\");\nvar Tags_js_1 = require(\"./Tags.js\");\nvar Configuration = (function () {\n    function Configuration(name, handler, fallback, items, tags, options, nodes, preprocessors, postprocessors, initMethod, configMethod, priority, parser) {\n        if (handler === void 0) { handler = {}; }\n        if (fallback === void 0) { fallback = {}; }\n        if (items === void 0) { items = {}; }\n        if (tags === void 0) { tags = {}; }\n        if (options === void 0) { options = {}; }\n        if (nodes === void 0) { nodes = {}; }\n        if (preprocessors === void 0) { preprocessors = []; }\n        if (postprocessors === void 0) { postprocessors = []; }\n        if (initMethod === void 0) { initMethod = null; }\n        if (configMethod === void 0) { configMethod = null; }\n        this.name = name;\n        this.handler = handler;\n        this.fallback = fallback;\n        this.items = items;\n        this.tags = tags;\n        this.options = options;\n        this.nodes = nodes;\n        this.preprocessors = preprocessors;\n        this.postprocessors = postprocessors;\n        this.initMethod = initMethod;\n        this.configMethod = configMethod;\n        this.priority = priority;\n        this.parser = parser;\n        this.handler = Object.assign({ character: [], delimiter: [], macro: [], environment: [] }, handler);\n    }\n    Configuration.makeProcessor = function (func, priority) {\n        return Array.isArray(func) ? func : [func, priority];\n    };\n    Configuration._create = function (name, config) {\n        var _this = this;\n        if (config === void 0) { config = {}; }\n        var priority = config.priority || PrioritizedList_js_1.PrioritizedList.DEFAULTPRIORITY;\n        var init = config.init ? this.makeProcessor(config.init, priority) : null;\n        var conf = config.config ? this.makeProcessor(config.config, priority) : null;\n        var preprocessors = (config.preprocessors || []).map(function (pre) { return _this.makeProcessor(pre, priority); });\n        var postprocessors = (config.postprocessors || []).map(function (post) { return _this.makeProcessor(post, priority); });\n        var parser = config.parser || 'tex';\n        return new Configuration(name, config.handler || {}, config.fallback || {}, config.items || {}, config.tags || {}, config.options || {}, config.nodes || {}, preprocessors, postprocessors, init, conf, priority, parser);\n    };\n    Configuration.create = function (name, config) {\n        if (config === void 0) { config = {}; }\n        var configuration = Configuration._create(name, config);\n        ConfigurationHandler.set(name, configuration);\n        return configuration;\n    };\n    Configuration.local = function (config) {\n        if (config === void 0) { config = {}; }\n        return Configuration._create('', config);\n    };\n    Object.defineProperty(Configuration.prototype, \"init\", {\n        get: function () {\n            return this.initMethod ? this.initMethod[0] : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Configuration.prototype, \"config\", {\n        get: function () {\n            return this.configMethod ? this.configMethod[0] : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Configuration;\n}());\nexports.Configuration = Configuration;\nvar ConfigurationHandler;\n(function (ConfigurationHandler) {\n    var maps = new Map();\n    ConfigurationHandler.set = function (name, map) {\n        maps.set(name, map);\n    };\n    ConfigurationHandler.get = function (name) {\n        return maps.get(name);\n    };\n    ConfigurationHandler.keys = function () {\n        return maps.keys();\n    };\n})(ConfigurationHandler = exports.ConfigurationHandler || (exports.ConfigurationHandler = {}));\nvar ParserConfiguration = (function () {\n    function ParserConfiguration(packages, parsers) {\n        var e_1, _a, e_2, _b;\n        if (parsers === void 0) { parsers = ['tex']; }\n        this.initMethod = new FunctionList_js_1.FunctionList();\n        this.configMethod = new FunctionList_js_1.FunctionList();\n        this.configurations = new PrioritizedList_js_1.PrioritizedList();\n        this.parsers = [];\n        this.handlers = new MapHandler_js_1.SubHandlers();\n        this.items = {};\n        this.tags = {};\n        this.options = {};\n        this.nodes = {};\n        this.parsers = parsers;\n        try {\n            for (var _c = __values(packages.slice().reverse()), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var pkg = _d.value;\n                this.addPackage(pkg);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        try {\n            for (var _e = __values(this.configurations), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var _g = _f.value, config = _g.item, priority = _g.priority;\n                this.append(config, priority);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    }\n    ParserConfiguration.prototype.init = function () {\n        this.initMethod.execute(this);\n    };\n    ParserConfiguration.prototype.config = function (jax) {\n        var e_3, _a;\n        this.configMethod.execute(this, jax);\n        try {\n            for (var _b = __values(this.configurations), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var config = _c.value;\n                this.addFilters(jax, config.item);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    ParserConfiguration.prototype.addPackage = function (pkg) {\n        var name = typeof pkg === 'string' ? pkg : pkg[0];\n        var conf = this.getPackage(name);\n        conf && this.configurations.add(conf, typeof pkg === 'string' ? conf.priority : pkg[1]);\n    };\n    ParserConfiguration.prototype.add = function (name, jax, options) {\n        var e_4, _a;\n        if (options === void 0) { options = {}; }\n        var config = this.getPackage(name);\n        this.append(config);\n        this.configurations.add(config, config.priority);\n        this.init();\n        var parser = jax.parseOptions;\n        parser.nodeFactory.setCreators(config.nodes);\n        try {\n            for (var _b = __values(Object.keys(config.items)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var kind = _c.value;\n                parser.itemFactory.setNodeClass(kind, config.items[kind]);\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        Tags_js_1.TagsFactory.addTags(config.tags);\n        (0, Options_js_1.defaultOptions)(parser.options, config.options);\n        (0, Options_js_1.userOptions)(parser.options, options);\n        this.addFilters(jax, config);\n        if (config.config) {\n            config.config(this, jax);\n        }\n    };\n    ParserConfiguration.prototype.getPackage = function (name) {\n        var config = ConfigurationHandler.get(name);\n        if (config && this.parsers.indexOf(config.parser) < 0) {\n            throw Error(\"Package \".concat(name, \" doesn't target the proper parser\"));\n        }\n        return config;\n    };\n    ParserConfiguration.prototype.append = function (config, priority) {\n        priority = priority || config.priority;\n        if (config.initMethod) {\n            this.initMethod.add(config.initMethod[0], config.initMethod[1]);\n        }\n        if (config.configMethod) {\n            this.configMethod.add(config.configMethod[0], config.configMethod[1]);\n        }\n        this.handlers.add(config.handler, config.fallback, priority);\n        Object.assign(this.items, config.items);\n        Object.assign(this.tags, config.tags);\n        (0, Options_js_1.defaultOptions)(this.options, config.options);\n        Object.assign(this.nodes, config.nodes);\n    };\n    ParserConfiguration.prototype.addFilters = function (jax, config) {\n        var e_5, _a, e_6, _b;\n        try {\n            for (var _c = __values(config.preprocessors), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var _e = __read(_d.value, 2), pre = _e[0], priority = _e[1];\n                jax.preFilters.add(pre, priority);\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        try {\n            for (var _f = __values(config.postprocessors), _g = _f.next(); !_g.done; _g = _f.next()) {\n                var _h = __read(_g.value, 2), post = _h[0], priority = _h[1];\n                jax.postFilters.add(post, priority);\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n    };\n    return ParserConfiguration;\n}());\nexports.ParserConfiguration = ParserConfiguration;\n//# sourceMappingURL=Configuration.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubHandlers = exports.SubHandler = exports.MapHandler = void 0;\nvar PrioritizedList_js_1 = require(\"../../util/PrioritizedList.js\");\nvar FunctionList_js_1 = require(\"../../util/FunctionList.js\");\nvar MapHandler;\n(function (MapHandler) {\n    var maps = new Map();\n    MapHandler.register = function (map) {\n        maps.set(map.name, map);\n    };\n    MapHandler.getMap = function (name) {\n        return maps.get(name);\n    };\n})(MapHandler = exports.MapHandler || (exports.MapHandler = {}));\nvar SubHandler = (function () {\n    function SubHandler() {\n        this._configuration = new PrioritizedList_js_1.PrioritizedList();\n        this._fallback = new FunctionList_js_1.FunctionList();\n    }\n    SubHandler.prototype.add = function (maps, fallback, priority) {\n        var e_1, _a;\n        if (priority === void 0) { priority = PrioritizedList_js_1.PrioritizedList.DEFAULTPRIORITY; }\n        try {\n            for (var _b = __values(maps.slice().reverse()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var name_1 = _c.value;\n                var map = MapHandler.getMap(name_1);\n                if (!map) {\n                    this.warn('Configuration ' + name_1 + ' not found! Omitted.');\n                    return;\n                }\n                this._configuration.add(map, priority);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (fallback) {\n            this._fallback.add(fallback, priority);\n        }\n    };\n    SubHandler.prototype.parse = function (input) {\n        var e_2, _a;\n        try {\n            for (var _b = __values(this._configuration), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var map = _c.value.item;\n                var result = map.parse(input);\n                if (result) {\n                    return result;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        var _d = __read(input, 2), env = _d[0], symbol = _d[1];\n        Array.from(this._fallback)[0].item(env, symbol);\n    };\n    SubHandler.prototype.lookup = function (symbol) {\n        var map = this.applicable(symbol);\n        return map ? map.lookup(symbol) : null;\n    };\n    SubHandler.prototype.contains = function (symbol) {\n        return this.applicable(symbol) ? true : false;\n    };\n    SubHandler.prototype.toString = function () {\n        var e_3, _a;\n        var names = [];\n        try {\n            for (var _b = __values(this._configuration), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var map = _c.value.item;\n                names.push(map.name);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return names.join(', ');\n    };\n    SubHandler.prototype.applicable = function (symbol) {\n        var e_4, _a;\n        try {\n            for (var _b = __values(this._configuration), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var map = _c.value.item;\n                if (map.contains(symbol)) {\n                    return map;\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        return null;\n    };\n    SubHandler.prototype.retrieve = function (name) {\n        var e_5, _a;\n        try {\n            for (var _b = __values(this._configuration), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var map = _c.value.item;\n                if (map.name === name) {\n                    return map;\n                }\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        return null;\n    };\n    SubHandler.prototype.warn = function (message) {\n        console.log('TexParser Warning: ' + message);\n    };\n    return SubHandler;\n}());\nexports.SubHandler = SubHandler;\nvar SubHandlers = (function () {\n    function SubHandlers() {\n        this.map = new Map();\n    }\n    SubHandlers.prototype.add = function (handlers, fallbacks, priority) {\n        var e_6, _a;\n        if (priority === void 0) { priority = PrioritizedList_js_1.PrioritizedList.DEFAULTPRIORITY; }\n        try {\n            for (var _b = __values(Object.keys(handlers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                var name_2 = key;\n                var subHandler = this.get(name_2);\n                if (!subHandler) {\n                    subHandler = new SubHandler();\n                    this.set(name_2, subHandler);\n                }\n                subHandler.add(handlers[name_2], fallbacks[name_2], priority);\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n    };\n    SubHandlers.prototype.set = function (name, subHandler) {\n        this.map.set(name, subHandler);\n    };\n    SubHandlers.prototype.get = function (name) {\n        return this.map.get(name);\n    };\n    SubHandlers.prototype.retrieve = function (name) {\n        var e_7, _a;\n        try {\n            for (var _b = __values(this.map.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var handler = _c.value;\n                var map = handler.retrieve(name);\n                if (map) {\n                    return map;\n                }\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n        return null;\n    };\n    SubHandlers.prototype.keys = function () {\n        return this.map.keys();\n    };\n    return SubHandlers;\n}());\nexports.SubHandlers = SubHandlers;\n//# sourceMappingURL=MapHandler.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MmlNode_js_1 = require(\"../../core/MmlTree/MmlNode.js\");\nvar mo_js_1 = require(\"../../core/MmlTree/MmlNodes/mo.js\");\nvar NodeUtil;\n(function (NodeUtil) {\n    var attrs = new Map([\n        ['autoOP', true],\n        ['fnOP', true],\n        ['movesupsub', true],\n        ['subsupOK', true],\n        ['texprimestyle', true],\n        ['useHeight', true],\n        ['variantForm', true],\n        ['withDelims', true],\n        ['mathaccent', true],\n        ['open', true],\n        ['close', true]\n    ]);\n    function createEntity(code) {\n        return String.fromCodePoint(parseInt(code, 16));\n    }\n    NodeUtil.createEntity = createEntity;\n    function getChildren(node) {\n        return node.childNodes;\n    }\n    NodeUtil.getChildren = getChildren;\n    function getText(node) {\n        return node.getText();\n    }\n    NodeUtil.getText = getText;\n    function appendChildren(node, children) {\n        var e_1, _a;\n        try {\n            for (var children_1 = __values(children), children_1_1 = children_1.next(); !children_1_1.done; children_1_1 = children_1.next()) {\n                var child = children_1_1.value;\n                node.appendChild(child);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (children_1_1 && !children_1_1.done && (_a = children_1.return)) _a.call(children_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    NodeUtil.appendChildren = appendChildren;\n    function setAttribute(node, attribute, value) {\n        node.attributes.set(attribute, value);\n    }\n    NodeUtil.setAttribute = setAttribute;\n    function setProperty(node, property, value) {\n        node.setProperty(property, value);\n    }\n    NodeUtil.setProperty = setProperty;\n    function setProperties(node, properties) {\n        var e_2, _a;\n        try {\n            for (var _b = __values(Object.keys(properties)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var name_1 = _c.value;\n                var value = properties[name_1];\n                if (name_1 === 'texClass') {\n                    node.texClass = value;\n                    node.setProperty(name_1, value);\n                }\n                else if (name_1 === 'movablelimits') {\n                    node.setProperty('movablelimits', value);\n                    if (node.isKind('mo') || node.isKind('mstyle')) {\n                        node.attributes.set('movablelimits', value);\n                    }\n                }\n                else if (name_1 === 'inferred') {\n                }\n                else if (attrs.has(name_1)) {\n                    node.setProperty(name_1, value);\n                }\n                else {\n                    node.attributes.set(name_1, value);\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    }\n    NodeUtil.setProperties = setProperties;\n    function getProperty(node, property) {\n        return node.getProperty(property);\n    }\n    NodeUtil.getProperty = getProperty;\n    function getAttribute(node, attr) {\n        return node.attributes.get(attr);\n    }\n    NodeUtil.getAttribute = getAttribute;\n    function removeProperties(node) {\n        var properties = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            properties[_i - 1] = arguments[_i];\n        }\n        node.removeProperty.apply(node, __spreadArray([], __read(properties), false));\n    }\n    NodeUtil.removeProperties = removeProperties;\n    function getChildAt(node, position) {\n        return node.childNodes[position];\n    }\n    NodeUtil.getChildAt = getChildAt;\n    function setChild(node, position, child) {\n        var children = node.childNodes;\n        children[position] = child;\n        if (child) {\n            child.parent = node;\n        }\n    }\n    NodeUtil.setChild = setChild;\n    function copyChildren(oldNode, newNode) {\n        var children = oldNode.childNodes;\n        for (var i = 0; i < children.length; i++) {\n            setChild(newNode, i, children[i]);\n        }\n    }\n    NodeUtil.copyChildren = copyChildren;\n    function copyAttributes(oldNode, newNode) {\n        newNode.attributes = oldNode.attributes;\n        setProperties(newNode, oldNode.getAllProperties());\n    }\n    NodeUtil.copyAttributes = copyAttributes;\n    function isType(node, kind) {\n        return node.isKind(kind);\n    }\n    NodeUtil.isType = isType;\n    function isEmbellished(node) {\n        return node.isEmbellished;\n    }\n    NodeUtil.isEmbellished = isEmbellished;\n    function getTexClass(node) {\n        return node.texClass;\n    }\n    NodeUtil.getTexClass = getTexClass;\n    function getCoreMO(node) {\n        return node.coreMO();\n    }\n    NodeUtil.getCoreMO = getCoreMO;\n    function isNode(item) {\n        return item instanceof MmlNode_js_1.AbstractMmlNode || item instanceof MmlNode_js_1.AbstractMmlEmptyNode;\n    }\n    NodeUtil.isNode = isNode;\n    function isInferred(node) {\n        return node.isInferred;\n    }\n    NodeUtil.isInferred = isInferred;\n    function getForm(node) {\n        var e_3, _a;\n        if (!isType(node, 'mo')) {\n            return null;\n        }\n        var mo = node;\n        var forms = mo.getForms();\n        try {\n            for (var forms_1 = __values(forms), forms_1_1 = forms_1.next(); !forms_1_1.done; forms_1_1 = forms_1.next()) {\n                var form = forms_1_1.value;\n                var symbol = mo_js_1.MmlMo.OPTABLE[form][mo.getText()];\n                if (symbol) {\n                    return symbol;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (forms_1_1 && !forms_1_1.done && (_a = forms_1.return)) _a.call(forms_1);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return null;\n    }\n    NodeUtil.getForm = getForm;\n})(NodeUtil || (NodeUtil = {}));\nexports.default = NodeUtil;\n//# sourceMappingURL=NodeUtil.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MmlNode_js_1 = require(\"../../core/MmlTree/MmlNode.js\");\nvar NodeUtil_js_1 = __importDefault(require(\"./NodeUtil.js\"));\nvar TexParser_js_1 = __importDefault(require(\"./TexParser.js\"));\nvar TexError_js_1 = __importDefault(require(\"./TexError.js\"));\nvar Entities_js_1 = require(\"../../util/Entities.js\");\nvar ParseUtil;\n(function (ParseUtil) {\n    var emPerInch = 7.2;\n    var pxPerInch = 72;\n    var UNIT_CASES = {\n        'em': function (m) { return m; },\n        'ex': function (m) { return m * .43; },\n        'pt': function (m) { return m / 10; },\n        'pc': function (m) { return m * 1.2; },\n        'px': function (m) { return m * emPerInch / pxPerInch; },\n        'in': function (m) { return m * emPerInch; },\n        'cm': function (m) { return m * emPerInch / 2.54; },\n        'mm': function (m) { return m * emPerInch / 25.4; },\n        'mu': function (m) { return m / 18; },\n    };\n    var num = '([-+]?([.,]\\\\d+|\\\\d+([.,]\\\\d*)?))';\n    var unit = '(pt|em|ex|mu|px|mm|cm|in|pc)';\n    var dimenEnd = RegExp('^\\\\s*' + num + '\\\\s*' + unit + '\\\\s*$');\n    var dimenRest = RegExp('^\\\\s*' + num + '\\\\s*' + unit + ' ?');\n    function matchDimen(dim, rest) {\n        if (rest === void 0) { rest = false; }\n        var match = dim.match(rest ? dimenRest : dimenEnd);\n        return match ?\n            muReplace([match[1].replace(/,/, '.'), match[4], match[0].length]) :\n            [null, null, 0];\n    }\n    ParseUtil.matchDimen = matchDimen;\n    function muReplace(_a) {\n        var _b = __read(_a, 3), value = _b[0], unit = _b[1], length = _b[2];\n        if (unit !== 'mu') {\n            return [value, unit, length];\n        }\n        var em = Em(UNIT_CASES[unit](parseFloat(value || '1')));\n        return [em.slice(0, -2), 'em', length];\n    }\n    function dimen2em(dim) {\n        var _a = __read(matchDimen(dim), 2), value = _a[0], unit = _a[1];\n        var m = parseFloat(value || '1');\n        var func = UNIT_CASES[unit];\n        return func ? func(m) : 0;\n    }\n    ParseUtil.dimen2em = dimen2em;\n    function Em(m) {\n        if (Math.abs(m) < .0006) {\n            return '0em';\n        }\n        return m.toFixed(3).replace(/\\.?0+$/, '') + 'em';\n    }\n    ParseUtil.Em = Em;\n    function cols() {\n        var W = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            W[_i] = arguments[_i];\n        }\n        return W.map(function (n) { return Em(n); }).join(' ');\n    }\n    ParseUtil.cols = cols;\n    function fenced(configuration, open, mml, close, big, color) {\n        if (big === void 0) { big = ''; }\n        if (color === void 0) { color = ''; }\n        var nf = configuration.nodeFactory;\n        var mrow = nf.create('node', 'mrow', [], { open: open, close: close, texClass: MmlNode_js_1.TEXCLASS.INNER });\n        var mo;\n        if (big) {\n            mo = new TexParser_js_1.default('\\\\' + big + 'l' + open, configuration.parser.stack.env, configuration).mml();\n        }\n        else {\n            var openNode = nf.create('text', open);\n            mo = nf.create('node', 'mo', [], { fence: true, stretchy: true, symmetric: true, texClass: MmlNode_js_1.TEXCLASS.OPEN }, openNode);\n        }\n        NodeUtil_js_1.default.appendChildren(mrow, [mo, mml]);\n        if (big) {\n            mo = new TexParser_js_1.default('\\\\' + big + 'r' + close, configuration.parser.stack.env, configuration).mml();\n        }\n        else {\n            var closeNode = nf.create('text', close);\n            mo = nf.create('node', 'mo', [], { fence: true, stretchy: true, symmetric: true, texClass: MmlNode_js_1.TEXCLASS.CLOSE }, closeNode);\n        }\n        color && mo.attributes.set('mathcolor', color);\n        NodeUtil_js_1.default.appendChildren(mrow, [mo]);\n        return mrow;\n    }\n    ParseUtil.fenced = fenced;\n    function fixedFence(configuration, open, mml, close) {\n        var mrow = configuration.nodeFactory.create('node', 'mrow', [], { open: open, close: close, texClass: MmlNode_js_1.TEXCLASS.ORD });\n        if (open) {\n            NodeUtil_js_1.default.appendChildren(mrow, [mathPalette(configuration, open, 'l')]);\n        }\n        if (NodeUtil_js_1.default.isType(mml, 'mrow')) {\n            NodeUtil_js_1.default.appendChildren(mrow, NodeUtil_js_1.default.getChildren(mml));\n        }\n        else {\n            NodeUtil_js_1.default.appendChildren(mrow, [mml]);\n        }\n        if (close) {\n            NodeUtil_js_1.default.appendChildren(mrow, [mathPalette(configuration, close, 'r')]);\n        }\n        return mrow;\n    }\n    ParseUtil.fixedFence = fixedFence;\n    function mathPalette(configuration, fence, side) {\n        if (fence === '{' || fence === '}') {\n            fence = '\\\\' + fence;\n        }\n        var D = '{\\\\bigg' + side + ' ' + fence + '}';\n        var T = '{\\\\big' + side + ' ' + fence + '}';\n        return new TexParser_js_1.default('\\\\mathchoice' + D + T + T + T, {}, configuration).mml();\n    }\n    ParseUtil.mathPalette = mathPalette;\n    function fixInitialMO(configuration, nodes) {\n        for (var i = 0, m = nodes.length; i < m; i++) {\n            var child = nodes[i];\n            if (child && (!NodeUtil_js_1.default.isType(child, 'mspace') &&\n                (!NodeUtil_js_1.default.isType(child, 'TeXAtom') ||\n                    (NodeUtil_js_1.default.getChildren(child)[0] &&\n                        NodeUtil_js_1.default.getChildren(NodeUtil_js_1.default.getChildren(child)[0]).length)))) {\n                if (NodeUtil_js_1.default.isEmbellished(child) ||\n                    (NodeUtil_js_1.default.isType(child, 'TeXAtom') && NodeUtil_js_1.default.getTexClass(child) === MmlNode_js_1.TEXCLASS.REL)) {\n                    var mi = configuration.nodeFactory.create('node', 'mi');\n                    nodes.unshift(mi);\n                }\n                break;\n            }\n        }\n    }\n    ParseUtil.fixInitialMO = fixInitialMO;\n    function internalMath(parser, text, level, font) {\n        if (parser.configuration.options.internalMath) {\n            return parser.configuration.options.internalMath(parser, text, level, font);\n        }\n        var mathvariant = font || parser.stack.env.font;\n        var def = (mathvariant ? { mathvariant: mathvariant } : {});\n        var mml = [], i = 0, k = 0, c, node, match = '', braces = 0;\n        if (text.match(/\\\\?[${}\\\\]|\\\\\\(|\\\\(eq)?ref\\s*\\{/)) {\n            while (i < text.length) {\n                c = text.charAt(i++);\n                if (c === '$') {\n                    if (match === '$' && braces === 0) {\n                        node = parser.create('node', 'TeXAtom', [(new TexParser_js_1.default(text.slice(k, i - 1), {}, parser.configuration)).mml()]);\n                        mml.push(node);\n                        match = '';\n                        k = i;\n                    }\n                    else if (match === '') {\n                        if (k < i - 1) {\n                            mml.push(internalText(parser, text.slice(k, i - 1), def));\n                        }\n                        match = '$';\n                        k = i;\n                    }\n                }\n                else if (c === '{' && match !== '') {\n                    braces++;\n                }\n                else if (c === '}') {\n                    if (match === '}' && braces === 0) {\n                        var atom = (new TexParser_js_1.default(text.slice(k, i), {}, parser.configuration)).mml();\n                        node = parser.create('node', 'TeXAtom', [atom], def);\n                        mml.push(node);\n                        match = '';\n                        k = i;\n                    }\n                    else if (match !== '') {\n                        if (braces) {\n                            braces--;\n                        }\n                    }\n                }\n                else if (c === '\\\\') {\n                    if (match === '' && text.substr(i).match(/^(eq)?ref\\s*\\{/)) {\n                        var len = RegExp['$&'].length;\n                        if (k < i - 1) {\n                            mml.push(internalText(parser, text.slice(k, i - 1), def));\n                        }\n                        match = '}';\n                        k = i - 1;\n                        i += len;\n                    }\n                    else {\n                        c = text.charAt(i++);\n                        if (c === '(' && match === '') {\n                            if (k < i - 2) {\n                                mml.push(internalText(parser, text.slice(k, i - 2), def));\n                            }\n                            match = ')';\n                            k = i;\n                        }\n                        else if (c === ')' && match === ')' && braces === 0) {\n                            node = parser.create('node', 'TeXAtom', [(new TexParser_js_1.default(text.slice(k, i - 2), {}, parser.configuration)).mml()]);\n                            mml.push(node);\n                            match = '';\n                            k = i;\n                        }\n                        else if (c.match(/[${}\\\\]/) && match === '') {\n                            i--;\n                            text = text.substr(0, i - 1) + text.substr(i);\n                        }\n                    }\n                }\n            }\n            if (match !== '') {\n                throw new TexError_js_1.default('MathNotTerminated', 'Math not terminated in text box');\n            }\n        }\n        if (k < text.length) {\n            mml.push(internalText(parser, text.slice(k), def));\n        }\n        if (level != null) {\n            mml = [parser.create('node', 'mstyle', mml, { displaystyle: false, scriptlevel: level })];\n        }\n        else if (mml.length > 1) {\n            mml = [parser.create('node', 'mrow', mml)];\n        }\n        return mml;\n    }\n    ParseUtil.internalMath = internalMath;\n    function internalText(parser, text, def) {\n        text = text.replace(/^\\s+/, Entities_js_1.entities.nbsp).replace(/\\s+$/, Entities_js_1.entities.nbsp);\n        var textNode = parser.create('text', text);\n        return parser.create('node', 'mtext', [], def, textNode);\n    }\n    ParseUtil.internalText = internalText;\n    function underOver(parser, base, script, pos, stack) {\n        ParseUtil.checkMovableLimits(base);\n        if (NodeUtil_js_1.default.isType(base, 'munderover') && NodeUtil_js_1.default.isEmbellished(base)) {\n            NodeUtil_js_1.default.setProperties(NodeUtil_js_1.default.getCoreMO(base), { lspace: 0, rspace: 0 });\n            var mo = parser.create('node', 'mo', [], { rspace: 0 });\n            base = parser.create('node', 'mrow', [mo, base]);\n        }\n        var mml = parser.create('node', 'munderover', [base]);\n        NodeUtil_js_1.default.setChild(mml, pos === 'over' ? mml.over : mml.under, script);\n        var node = mml;\n        if (stack) {\n            node = parser.create('node', 'TeXAtom', [mml], { texClass: MmlNode_js_1.TEXCLASS.OP, movesupsub: true });\n        }\n        NodeUtil_js_1.default.setProperty(node, 'subsupOK', true);\n        return node;\n    }\n    ParseUtil.underOver = underOver;\n    function checkMovableLimits(base) {\n        var symbol = (NodeUtil_js_1.default.isType(base, 'mo') ? NodeUtil_js_1.default.getForm(base) : null);\n        if (NodeUtil_js_1.default.getProperty(base, 'movablelimits') || (symbol && symbol[3] && symbol[3].movablelimits)) {\n            NodeUtil_js_1.default.setProperties(base, { movablelimits: false });\n        }\n    }\n    ParseUtil.checkMovableLimits = checkMovableLimits;\n    function trimSpaces(text) {\n        if (typeof (text) !== 'string') {\n            return text;\n        }\n        var TEXT = text.trim();\n        if (TEXT.match(/\\\\$/) && text.match(/ $/)) {\n            TEXT += ' ';\n        }\n        return TEXT;\n    }\n    ParseUtil.trimSpaces = trimSpaces;\n    function setArrayAlign(array, align) {\n        align = ParseUtil.trimSpaces(align || '');\n        if (align === 't') {\n            array.arraydef.align = 'baseline 1';\n        }\n        else if (align === 'b') {\n            array.arraydef.align = 'baseline -1';\n        }\n        else if (align === 'c') {\n            array.arraydef.align = 'axis';\n        }\n        else if (align) {\n            array.arraydef.align = align;\n        }\n        return array;\n    }\n    ParseUtil.setArrayAlign = setArrayAlign;\n    function substituteArgs(parser, args, str) {\n        var text = '';\n        var newstring = '';\n        var i = 0;\n        while (i < str.length) {\n            var c = str.charAt(i++);\n            if (c === '\\\\') {\n                text += c + str.charAt(i++);\n            }\n            else if (c === '#') {\n                c = str.charAt(i++);\n                if (c === '#') {\n                    text += c;\n                }\n                else {\n                    if (!c.match(/[1-9]/) || parseInt(c, 10) > args.length) {\n                        throw new TexError_js_1.default('IllegalMacroParam', 'Illegal macro parameter reference');\n                    }\n                    newstring = addArgs(parser, addArgs(parser, newstring, text), args[parseInt(c, 10) - 1]);\n                    text = '';\n                }\n            }\n            else {\n                text += c;\n            }\n        }\n        return addArgs(parser, newstring, text);\n    }\n    ParseUtil.substituteArgs = substituteArgs;\n    function addArgs(parser, s1, s2) {\n        if (s2.match(/^[a-z]/i) && s1.match(/(^|[^\\\\])(\\\\\\\\)*\\\\[a-z]+$/i)) {\n            s1 += ' ';\n        }\n        if (s1.length + s2.length > parser.configuration.options['maxBuffer']) {\n            throw new TexError_js_1.default('MaxBufferSize', 'MathJax internal buffer size exceeded; is there a' +\n                ' recursive macro call?');\n        }\n        return s1 + s2;\n    }\n    ParseUtil.addArgs = addArgs;\n    function checkMaxMacros(parser, isMacro) {\n        if (isMacro === void 0) { isMacro = true; }\n        if (++parser.macroCount <= parser.configuration.options['maxMacros']) {\n            return;\n        }\n        if (isMacro) {\n            throw new TexError_js_1.default('MaxMacroSub1', 'MathJax maximum macro substitution count exceeded; ' +\n                'is here a recursive macro call?');\n        }\n        else {\n            throw new TexError_js_1.default('MaxMacroSub2', 'MathJax maximum substitution count exceeded; ' +\n                'is there a recursive latex environment?');\n        }\n    }\n    ParseUtil.checkMaxMacros = checkMaxMacros;\n    function checkEqnEnv(parser) {\n        if (parser.stack.global.eqnenv) {\n            throw new TexError_js_1.default('ErroneousNestingEq', 'Erroneous nesting of equation structures');\n        }\n        parser.stack.global.eqnenv = true;\n    }\n    ParseUtil.checkEqnEnv = checkEqnEnv;\n    function copyNode(node, parser) {\n        var tree = node.copy();\n        var options = parser.configuration;\n        tree.walkTree(function (n) {\n            var e_1, _a;\n            options.addNode(n.kind, n);\n            var lists = (n.getProperty('in-lists') || '').split(/,/);\n            try {\n                for (var lists_1 = __values(lists), lists_1_1 = lists_1.next(); !lists_1_1.done; lists_1_1 = lists_1.next()) {\n                    var list = lists_1_1.value;\n                    list && options.addNode(list, n);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (lists_1_1 && !lists_1_1.done && (_a = lists_1.return)) _a.call(lists_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        });\n        return tree;\n    }\n    ParseUtil.copyNode = copyNode;\n    function MmlFilterAttribute(_parser, _name, value) {\n        return value;\n    }\n    ParseUtil.MmlFilterAttribute = MmlFilterAttribute;\n    function getFontDef(parser) {\n        var font = parser.stack.env['font'];\n        return (font ? { mathvariant: font } : {});\n    }\n    ParseUtil.getFontDef = getFontDef;\n    function keyvalOptions(attrib, allowed, error) {\n        var e_2, _a;\n        if (allowed === void 0) { allowed = null; }\n        if (error === void 0) { error = false; }\n        var def = readKeyval(attrib);\n        if (allowed) {\n            try {\n                for (var _b = __values(Object.keys(def)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var key = _c.value;\n                    if (!allowed.hasOwnProperty(key)) {\n                        if (error) {\n                            throw new TexError_js_1.default('InvalidOption', 'Invalid option: %1', key);\n                        }\n                        delete def[key];\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n        }\n        return def;\n    }\n    ParseUtil.keyvalOptions = keyvalOptions;\n    function readKeyval(text) {\n        var _a, _b;\n        var options = {};\n        var rest = text;\n        var end, key, val;\n        while (rest) {\n            _a = __read(readValue(rest, ['=', ',']), 3), key = _a[0], end = _a[1], rest = _a[2];\n            if (end === '=') {\n                _b = __read(readValue(rest, [',']), 3), val = _b[0], end = _b[1], rest = _b[2];\n                val = (val === 'false' || val === 'true') ?\n                    JSON.parse(val) : val;\n                options[key] = val;\n            }\n            else if (key) {\n                options[key] = true;\n            }\n        }\n        return options;\n    }\n    function removeBraces(text, count) {\n        while (count > 0) {\n            text = text.trim().slice(1, -1);\n            count--;\n        }\n        return text.trim();\n    }\n    function readValue(text, end) {\n        var length = text.length;\n        var braces = 0;\n        var value = '';\n        var index = 0;\n        var start = 0;\n        var startCount = true;\n        var stopCount = false;\n        while (index < length) {\n            var c = text[index++];\n            switch (c) {\n                case ' ':\n                    break;\n                case '{':\n                    if (startCount) {\n                        start++;\n                    }\n                    else {\n                        stopCount = false;\n                        if (start > braces) {\n                            start = braces;\n                        }\n                    }\n                    braces++;\n                    break;\n                case '}':\n                    if (braces) {\n                        braces--;\n                    }\n                    if (startCount || stopCount) {\n                        start--;\n                        stopCount = true;\n                    }\n                    startCount = false;\n                    break;\n                default:\n                    if (!braces && end.indexOf(c) !== -1) {\n                        return [stopCount ? 'true' :\n                                removeBraces(value, start), c, text.slice(index)];\n                    }\n                    startCount = false;\n                    stopCount = false;\n            }\n            value += c;\n        }\n        if (braces) {\n            throw new TexError_js_1.default('ExtraOpenMissingClose', 'Extra open brace or missing close brace');\n        }\n        return [stopCount ? 'true' : removeBraces(value, start), '', text.slice(index)];\n    }\n})(ParseUtil || (ParseUtil = {}));\nexports.default = ParseUtil;\n//# sourceMappingURL=ParseUtil.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NodeUtil_js_1 = __importDefault(require(\"./NodeUtil.js\"));\nvar Stack = (function () {\n    function Stack(_factory, _env, inner) {\n        this._factory = _factory;\n        this._env = _env;\n        this.global = {};\n        this.stack = [];\n        this.global = { isInner: inner };\n        this.stack = [this._factory.create('start', this.global)];\n        if (_env) {\n            this.stack[0].env = _env;\n        }\n        this.env = this.stack[0].env;\n    }\n    Object.defineProperty(Stack.prototype, \"env\", {\n        get: function () {\n            return this._env;\n        },\n        set: function (env) {\n            this._env = env;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Stack.prototype.Push = function () {\n        var e_1, _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        try {\n            for (var args_1 = __values(args), args_1_1 = args_1.next(); !args_1_1.done; args_1_1 = args_1.next()) {\n                var node = args_1_1.value;\n                if (!node) {\n                    continue;\n                }\n                var item = NodeUtil_js_1.default.isNode(node) ?\n                    this._factory.create('mml', node) : node;\n                item.global = this.global;\n                var _b = __read(this.stack.length ? this.Top().checkItem(item) : [null, true], 2), top_1 = _b[0], success = _b[1];\n                if (!success) {\n                    continue;\n                }\n                if (top_1) {\n                    this.Pop();\n                    this.Push.apply(this, __spreadArray([], __read(top_1), false));\n                    continue;\n                }\n                this.stack.push(item);\n                if (item.env) {\n                    if (item.copyEnv) {\n                        Object.assign(item.env, this.env);\n                    }\n                    this.env = item.env;\n                }\n                else {\n                    item.env = this.env;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (args_1_1 && !args_1_1.done && (_a = args_1.return)) _a.call(args_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    Stack.prototype.Pop = function () {\n        var item = this.stack.pop();\n        if (!item.isOpen) {\n            delete item.env;\n        }\n        this.env = (this.stack.length ? this.Top().env : {});\n        return item;\n    };\n    Stack.prototype.Top = function (n) {\n        if (n === void 0) { n = 1; }\n        return this.stack.length < n ? null : this.stack[this.stack.length - n];\n    };\n    Stack.prototype.Prev = function (noPop) {\n        var top = this.Top();\n        return noPop ? top.First : top.Pop();\n    };\n    Stack.prototype.toString = function () {\n        return 'stack[\\n  ' + this.stack.join('\\n  ') + '\\n]';\n    };\n    return Stack;\n}());\nexports.default = Stack;\n//# sourceMappingURL=Stack.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Macro = exports.Symbol = void 0;\nvar Symbol = (function () {\n    function Symbol(_symbol, _char, _attributes) {\n        this._symbol = _symbol;\n        this._char = _char;\n        this._attributes = _attributes;\n    }\n    Object.defineProperty(Symbol.prototype, \"symbol\", {\n        get: function () {\n            return this._symbol;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Symbol.prototype, \"char\", {\n        get: function () {\n            return this._char;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Symbol.prototype, \"attributes\", {\n        get: function () {\n            return this._attributes;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Symbol;\n}());\nexports.Symbol = Symbol;\nvar Macro = (function () {\n    function Macro(_symbol, _func, _args) {\n        if (_args === void 0) { _args = []; }\n        this._symbol = _symbol;\n        this._func = _func;\n        this._args = _args;\n    }\n    Object.defineProperty(Macro.prototype, \"symbol\", {\n        get: function () {\n            return this._symbol;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Macro.prototype, \"func\", {\n        get: function () {\n            return this._func;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Macro.prototype, \"args\", {\n        get: function () {\n            return this._args;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Macro;\n}());\nexports.Macro = Macro;\n//# sourceMappingURL=Symbol.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EnvironmentMap = exports.CommandMap = exports.MacroMap = exports.DelimiterMap = exports.CharacterMap = exports.AbstractParseMap = exports.RegExpMap = exports.AbstractSymbolMap = exports.parseResult = void 0;\nvar Symbol_js_1 = require(\"./Symbol.js\");\nvar MapHandler_js_1 = require(\"./MapHandler.js\");\nfunction parseResult(result) {\n    return result === void 0 ? true : result;\n}\nexports.parseResult = parseResult;\nvar AbstractSymbolMap = (function () {\n    function AbstractSymbolMap(_name, _parser) {\n        this._name = _name;\n        this._parser = _parser;\n        MapHandler_js_1.MapHandler.register(this);\n    }\n    Object.defineProperty(AbstractSymbolMap.prototype, \"name\", {\n        get: function () {\n            return this._name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AbstractSymbolMap.prototype.parserFor = function (symbol) {\n        return this.contains(symbol) ? this.parser : null;\n    };\n    AbstractSymbolMap.prototype.parse = function (_a) {\n        var _b = __read(_a, 2), env = _b[0], symbol = _b[1];\n        var parser = this.parserFor(symbol);\n        var mapped = this.lookup(symbol);\n        return (parser && mapped) ? parseResult(parser(env, mapped)) : null;\n    };\n    Object.defineProperty(AbstractSymbolMap.prototype, \"parser\", {\n        get: function () {\n            return this._parser;\n        },\n        set: function (parser) {\n            this._parser = parser;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return AbstractSymbolMap;\n}());\nexports.AbstractSymbolMap = AbstractSymbolMap;\nvar RegExpMap = (function (_super) {\n    __extends(RegExpMap, _super);\n    function RegExpMap(name, parser, _regExp) {\n        var _this = _super.call(this, name, parser) || this;\n        _this._regExp = _regExp;\n        return _this;\n    }\n    RegExpMap.prototype.contains = function (symbol) {\n        return this._regExp.test(symbol);\n    };\n    RegExpMap.prototype.lookup = function (symbol) {\n        return this.contains(symbol) ? symbol : null;\n    };\n    return RegExpMap;\n}(AbstractSymbolMap));\nexports.RegExpMap = RegExpMap;\nvar AbstractParseMap = (function (_super) {\n    __extends(AbstractParseMap, _super);\n    function AbstractParseMap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.map = new Map();\n        return _this;\n    }\n    AbstractParseMap.prototype.lookup = function (symbol) {\n        return this.map.get(symbol);\n    };\n    AbstractParseMap.prototype.contains = function (symbol) {\n        return this.map.has(symbol);\n    };\n    AbstractParseMap.prototype.add = function (symbol, object) {\n        this.map.set(symbol, object);\n    };\n    AbstractParseMap.prototype.remove = function (symbol) {\n        this.map.delete(symbol);\n    };\n    return AbstractParseMap;\n}(AbstractSymbolMap));\nexports.AbstractParseMap = AbstractParseMap;\nvar CharacterMap = (function (_super) {\n    __extends(CharacterMap, _super);\n    function CharacterMap(name, parser, json) {\n        var e_1, _a;\n        var _this = _super.call(this, name, parser) || this;\n        try {\n            for (var _b = __values(Object.keys(json)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                var value = json[key];\n                var _d = __read((typeof (value) === 'string') ? [value, null] : value, 2), char = _d[0], attrs = _d[1];\n                var character = new Symbol_js_1.Symbol(key, char, attrs);\n                _this.add(key, character);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return _this;\n    }\n    return CharacterMap;\n}(AbstractParseMap));\nexports.CharacterMap = CharacterMap;\nvar DelimiterMap = (function (_super) {\n    __extends(DelimiterMap, _super);\n    function DelimiterMap() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DelimiterMap.prototype.parse = function (_a) {\n        var _b = __read(_a, 2), env = _b[0], symbol = _b[1];\n        return _super.prototype.parse.call(this, [env, '\\\\' + symbol]);\n    };\n    return DelimiterMap;\n}(CharacterMap));\nexports.DelimiterMap = DelimiterMap;\nvar MacroMap = (function (_super) {\n    __extends(MacroMap, _super);\n    function MacroMap(name, json, functionMap) {\n        var e_2, _a;\n        var _this = _super.call(this, name, null) || this;\n        try {\n            for (var _b = __values(Object.keys(json)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                var value = json[key];\n                var _d = __read((typeof (value) === 'string') ? [value] : value), func = _d[0], attrs = _d.slice(1);\n                var character = new Symbol_js_1.Macro(key, functionMap[func], attrs);\n                _this.add(key, character);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return _this;\n    }\n    MacroMap.prototype.parserFor = function (symbol) {\n        var macro = this.lookup(symbol);\n        return macro ? macro.func : null;\n    };\n    MacroMap.prototype.parse = function (_a) {\n        var _b = __read(_a, 2), env = _b[0], symbol = _b[1];\n        var macro = this.lookup(symbol);\n        var parser = this.parserFor(symbol);\n        if (!macro || !parser) {\n            return null;\n        }\n        return parseResult(parser.apply(void 0, __spreadArray([env, macro.symbol], __read(macro.args), false)));\n    };\n    return MacroMap;\n}(AbstractParseMap));\nexports.MacroMap = MacroMap;\nvar CommandMap = (function (_super) {\n    __extends(CommandMap, _super);\n    function CommandMap() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CommandMap.prototype.parse = function (_a) {\n        var _b = __read(_a, 2), env = _b[0], symbol = _b[1];\n        var macro = this.lookup(symbol);\n        var parser = this.parserFor(symbol);\n        if (!macro || !parser) {\n            return null;\n        }\n        var saveCommand = env.currentCS;\n        env.currentCS = '\\\\' + symbol;\n        var result = parser.apply(void 0, __spreadArray([env, '\\\\' + macro.symbol], __read(macro.args), false));\n        env.currentCS = saveCommand;\n        return parseResult(result);\n    };\n    return CommandMap;\n}(MacroMap));\nexports.CommandMap = CommandMap;\nvar EnvironmentMap = (function (_super) {\n    __extends(EnvironmentMap, _super);\n    function EnvironmentMap(name, parser, json, functionMap) {\n        var _this = _super.call(this, name, json, functionMap) || this;\n        _this.parser = parser;\n        return _this;\n    }\n    EnvironmentMap.prototype.parse = function (_a) {\n        var _b = __read(_a, 2), env = _b[0], symbol = _b[1];\n        var macro = this.lookup(symbol);\n        var envParser = this.parserFor(symbol);\n        if (!macro || !envParser) {\n            return null;\n        }\n        return parseResult(this.parser(env, macro.symbol, envParser, macro.args));\n    };\n    return EnvironmentMap;\n}(MacroMap));\nexports.EnvironmentMap = EnvironmentMap;\n//# sourceMappingURL=SymbolMap.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TagsFactory = exports.AllTags = exports.NoTags = exports.AbstractTags = exports.TagInfo = exports.Label = void 0;\nvar TexParser_js_1 = __importDefault(require(\"./TexParser.js\"));\nvar Label = (function () {\n    function Label(tag, id) {\n        if (tag === void 0) { tag = '???'; }\n        if (id === void 0) { id = ''; }\n        this.tag = tag;\n        this.id = id;\n    }\n    return Label;\n}());\nexports.Label = Label;\nvar TagInfo = (function () {\n    function TagInfo(env, taggable, defaultTags, tag, tagId, tagFormat, noTag, labelId) {\n        if (env === void 0) { env = ''; }\n        if (taggable === void 0) { taggable = false; }\n        if (defaultTags === void 0) { defaultTags = false; }\n        if (tag === void 0) { tag = null; }\n        if (tagId === void 0) { tagId = ''; }\n        if (tagFormat === void 0) { tagFormat = ''; }\n        if (noTag === void 0) { noTag = false; }\n        if (labelId === void 0) { labelId = ''; }\n        this.env = env;\n        this.taggable = taggable;\n        this.defaultTags = defaultTags;\n        this.tag = tag;\n        this.tagId = tagId;\n        this.tagFormat = tagFormat;\n        this.noTag = noTag;\n        this.labelId = labelId;\n    }\n    return TagInfo;\n}());\nexports.TagInfo = TagInfo;\nvar AbstractTags = (function () {\n    function AbstractTags() {\n        this.counter = 0;\n        this.allCounter = 0;\n        this.configuration = null;\n        this.ids = {};\n        this.allIds = {};\n        this.labels = {};\n        this.allLabels = {};\n        this.redo = false;\n        this.refUpdate = false;\n        this.currentTag = new TagInfo();\n        this.history = [];\n        this.stack = [];\n        this.enTag = function (node, tag) {\n            var nf = this.configuration.nodeFactory;\n            var cell = nf.create('node', 'mtd', [node]);\n            var row = nf.create('node', 'mlabeledtr', [tag, cell]);\n            var table = nf.create('node', 'mtable', [row], {\n                side: this.configuration.options['tagSide'],\n                minlabelspacing: this.configuration.options['tagIndent'],\n                displaystyle: true\n            });\n            return table;\n        };\n    }\n    AbstractTags.prototype.start = function (env, taggable, defaultTags) {\n        if (this.currentTag) {\n            this.stack.push(this.currentTag);\n        }\n        this.currentTag = new TagInfo(env, taggable, defaultTags);\n    };\n    Object.defineProperty(AbstractTags.prototype, \"env\", {\n        get: function () {\n            return this.currentTag.env;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AbstractTags.prototype.end = function () {\n        this.history.push(this.currentTag);\n        this.currentTag = this.stack.pop();\n    };\n    AbstractTags.prototype.tag = function (tag, noFormat) {\n        this.currentTag.tag = tag;\n        this.currentTag.tagFormat = noFormat ? tag : this.formatTag(tag);\n        this.currentTag.noTag = false;\n    };\n    AbstractTags.prototype.notag = function () {\n        this.tag('', true);\n        this.currentTag.noTag = true;\n    };\n    Object.defineProperty(AbstractTags.prototype, \"noTag\", {\n        get: function () {\n            return this.currentTag.noTag;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AbstractTags.prototype, \"label\", {\n        get: function () {\n            return this.currentTag.labelId;\n        },\n        set: function (label) {\n            this.currentTag.labelId = label;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AbstractTags.prototype.formatUrl = function (id, base) {\n        return base + '#' + encodeURIComponent(id);\n    };\n    AbstractTags.prototype.formatTag = function (tag) {\n        return '(' + tag + ')';\n    };\n    AbstractTags.prototype.formatId = function (id) {\n        return 'mjx-eqn:' + id.replace(/\\s/g, '_');\n    };\n    AbstractTags.prototype.formatNumber = function (n) {\n        return n.toString();\n    };\n    AbstractTags.prototype.autoTag = function () {\n        if (this.currentTag.tag == null) {\n            this.counter++;\n            this.tag(this.formatNumber(this.counter), false);\n        }\n    };\n    AbstractTags.prototype.clearTag = function () {\n        this.label = '';\n        this.tag(null, true);\n        this.currentTag.tagId = '';\n    };\n    AbstractTags.prototype.getTag = function (force) {\n        if (force === void 0) { force = false; }\n        if (force) {\n            this.autoTag();\n            return this.makeTag();\n        }\n        var ct = this.currentTag;\n        if (ct.taggable && !ct.noTag) {\n            if (ct.defaultTags) {\n                this.autoTag();\n            }\n            if (ct.tag) {\n                return this.makeTag();\n            }\n        }\n        return null;\n    };\n    AbstractTags.prototype.resetTag = function () {\n        this.history = [];\n        this.redo = false;\n        this.refUpdate = false;\n        this.clearTag();\n    };\n    AbstractTags.prototype.reset = function (offset) {\n        if (offset === void 0) { offset = 0; }\n        this.resetTag();\n        this.counter = this.allCounter = offset;\n        this.allLabels = {};\n        this.allIds = {};\n    };\n    AbstractTags.prototype.startEquation = function (math) {\n        this.history = [];\n        this.stack = [];\n        this.clearTag();\n        this.currentTag = new TagInfo('', undefined, undefined);\n        this.labels = {};\n        this.ids = {};\n        this.counter = this.allCounter;\n        this.redo = false;\n        var recompile = math.inputData.recompile;\n        if (recompile) {\n            this.refUpdate = true;\n            this.counter = recompile.counter;\n        }\n    };\n    AbstractTags.prototype.finishEquation = function (math) {\n        if (this.redo) {\n            math.inputData.recompile = {\n                state: math.state(),\n                counter: this.allCounter\n            };\n        }\n        if (!this.refUpdate) {\n            this.allCounter = this.counter;\n        }\n        Object.assign(this.allIds, this.ids);\n        Object.assign(this.allLabels, this.labels);\n    };\n    AbstractTags.prototype.finalize = function (node, env) {\n        if (!env.display || this.currentTag.env ||\n            this.currentTag.tag == null) {\n            return node;\n        }\n        var tag = this.makeTag();\n        var table = this.enTag(node, tag);\n        return table;\n    };\n    AbstractTags.prototype.makeId = function () {\n        this.currentTag.tagId = this.formatId(this.configuration.options['useLabelIds'] ?\n            (this.label || this.currentTag.tag) : this.currentTag.tag);\n    };\n    AbstractTags.prototype.makeTag = function () {\n        this.makeId();\n        if (this.label) {\n            this.labels[this.label] = new Label(this.currentTag.tag, this.currentTag.tagId);\n        }\n        var mml = new TexParser_js_1.default('\\\\text{' + this.currentTag.tagFormat + '}', {}, this.configuration).mml();\n        return this.configuration.nodeFactory.create('node', 'mtd', [mml], { id: this.currentTag.tagId });\n    };\n    return AbstractTags;\n}());\nexports.AbstractTags = AbstractTags;\nvar NoTags = (function (_super) {\n    __extends(NoTags, _super);\n    function NoTags() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoTags.prototype.autoTag = function () { };\n    NoTags.prototype.getTag = function () {\n        return !this.currentTag.tag ? null : _super.prototype.getTag.call(this);\n    };\n    return NoTags;\n}(AbstractTags));\nexports.NoTags = NoTags;\nvar AllTags = (function (_super) {\n    __extends(AllTags, _super);\n    function AllTags() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllTags.prototype.finalize = function (node, env) {\n        if (!env.display || this.history.find(function (x) { return x.taggable; })) {\n            return node;\n        }\n        var tag = this.getTag(true);\n        return this.enTag(node, tag);\n    };\n    return AllTags;\n}(AbstractTags));\nexports.AllTags = AllTags;\nvar TagsFactory;\n(function (TagsFactory) {\n    var tagsMapping = new Map([\n        ['none', NoTags],\n        ['all', AllTags]\n    ]);\n    var defaultTags = 'none';\n    TagsFactory.OPTIONS = {\n        tags: defaultTags,\n        tagSide: 'right',\n        tagIndent: '0.8em',\n        useLabelIds: true,\n        ignoreDuplicateLabels: false\n    };\n    TagsFactory.add = function (name, constr) {\n        tagsMapping.set(name, constr);\n    };\n    TagsFactory.addTags = function (tags) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(Object.keys(tags)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                TagsFactory.add(key, tags[key]);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    TagsFactory.create = function (name) {\n        var constr = tagsMapping.get(name) || tagsMapping.get(defaultTags);\n        if (!constr) {\n            throw Error('Unknown tags class');\n        }\n        return new constr();\n    };\n    TagsFactory.setDefault = function (name) {\n        defaultTags = name;\n    };\n    TagsFactory.getDefault = function () {\n        return TagsFactory.create(defaultTags);\n    };\n})(TagsFactory = exports.TagsFactory || (exports.TagsFactory = {}));\n//# sourceMappingURL=Tags.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError = (function () {\n    function TexError(id, message) {\n        var rest = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            rest[_i - 2] = arguments[_i];\n        }\n        this.id = id;\n        this.message = TexError.processString(message, rest);\n    }\n    TexError.processString = function (str, args) {\n        var parts = str.split(TexError.pattern);\n        for (var i = 1, m = parts.length; i < m; i += 2) {\n            var c = parts[i].charAt(0);\n            if (c >= '0' && c <= '9') {\n                parts[i] = args[parseInt(parts[i], 10) - 1];\n                if (typeof parts[i] === 'number') {\n                    parts[i] = parts[i].toString();\n                }\n            }\n            else if (c === '{') {\n                c = parts[i].substr(1);\n                if (c >= '0' && c <= '9') {\n                    parts[i] = args[parseInt(parts[i].substr(1, parts[i].length - 2), 10) - 1];\n                    if (typeof parts[i] === 'number') {\n                        parts[i] = parts[i].toString();\n                    }\n                }\n                else {\n                    var match = parts[i].match(/^\\{([a-z]+):%(\\d+)\\|(.*)\\}$/);\n                    if (match) {\n                        parts[i] = '%' + parts[i];\n                    }\n                }\n            }\n            if (parts[i] == null) {\n                parts[i] = '???';\n            }\n        }\n        return parts.join('');\n    };\n    TexError.pattern = /%(\\d+|\\{\\d+\\}|\\{[a-z]+:\\%\\d+(?:\\|(?:%\\{\\d+\\}|%.|[^\\}])*)+\\}|.)/g;\n    return TexError;\n}());\nexports.default = TexError;\n//# sourceMappingURL=TexError.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParseUtil_js_1 = __importDefault(require(\"./ParseUtil.js\"));\nvar Stack_js_1 = __importDefault(require(\"./Stack.js\"));\nvar TexError_js_1 = __importDefault(require(\"./TexError.js\"));\nvar MmlNode_js_1 = require(\"../../core/MmlTree/MmlNode.js\");\nvar TexParser = (function () {\n    function TexParser(_string, env, configuration) {\n        var e_1, _a;\n        this._string = _string;\n        this.configuration = configuration;\n        this.macroCount = 0;\n        this.i = 0;\n        this.currentCS = '';\n        var inner = env.hasOwnProperty('isInner');\n        var isInner = env['isInner'];\n        delete env['isInner'];\n        var ENV;\n        if (env) {\n            ENV = {};\n            try {\n                for (var _b = __values(Object.keys(env)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var id = _c.value;\n                    ENV[id] = env[id];\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n        this.configuration.pushParser(this);\n        this.stack = new Stack_js_1.default(this.itemFactory, ENV, inner ? isInner : true);\n        this.Parse();\n        this.Push(this.itemFactory.create('stop'));\n    }\n    Object.defineProperty(TexParser.prototype, \"options\", {\n        get: function () {\n            return this.configuration.options;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TexParser.prototype, \"itemFactory\", {\n        get: function () {\n            return this.configuration.itemFactory;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TexParser.prototype, \"tags\", {\n        get: function () {\n            return this.configuration.tags;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TexParser.prototype, \"string\", {\n        get: function () {\n            return this._string;\n        },\n        set: function (str) {\n            this._string = str;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TexParser.prototype.parse = function (kind, input) {\n        return this.configuration.handlers.get(kind).parse(input);\n    };\n    TexParser.prototype.lookup = function (kind, symbol) {\n        return this.configuration.handlers.get(kind).lookup(symbol);\n    };\n    TexParser.prototype.contains = function (kind, symbol) {\n        return this.configuration.handlers.get(kind).contains(symbol);\n    };\n    TexParser.prototype.toString = function () {\n        var e_2, _a;\n        var str = '';\n        try {\n            for (var _b = __values(Array.from(this.configuration.handlers.keys())), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var config = _c.value;\n                str += config + ': ' +\n                    this.configuration.handlers.get(config) + '\\n';\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return str;\n    };\n    TexParser.prototype.Parse = function () {\n        var c;\n        while (this.i < this.string.length) {\n            c = this.getCodePoint();\n            this.i += c.length;\n            this.parse('character', [this, c]);\n        }\n    };\n    TexParser.prototype.Push = function (arg) {\n        if (arg instanceof MmlNode_js_1.AbstractMmlNode && arg.isInferred) {\n            this.PushAll(arg.childNodes);\n        }\n        else {\n            this.stack.Push(arg);\n        }\n    };\n    TexParser.prototype.PushAll = function (args) {\n        var e_3, _a;\n        try {\n            for (var args_1 = __values(args), args_1_1 = args_1.next(); !args_1_1.done; args_1_1 = args_1.next()) {\n                var arg = args_1_1.value;\n                this.stack.Push(arg);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (args_1_1 && !args_1_1.done && (_a = args_1.return)) _a.call(args_1);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    TexParser.prototype.mml = function () {\n        if (!this.stack.Top().isKind('mml')) {\n            return null;\n        }\n        var node = this.stack.Top().First;\n        this.configuration.popParser();\n        return node;\n    };\n    TexParser.prototype.convertDelimiter = function (c) {\n        var symbol = this.lookup('delimiter', c);\n        return symbol ? symbol.char : null;\n    };\n    TexParser.prototype.getCodePoint = function () {\n        var code = this.string.codePointAt(this.i);\n        return code === undefined ? '' : String.fromCodePoint(code);\n    };\n    TexParser.prototype.nextIsSpace = function () {\n        return !!this.string.charAt(this.i).match(/\\s/);\n    };\n    TexParser.prototype.GetNext = function () {\n        while (this.nextIsSpace()) {\n            this.i++;\n        }\n        return this.getCodePoint();\n    };\n    TexParser.prototype.GetCS = function () {\n        var CS = this.string.slice(this.i).match(/^(([a-z]+) ?|[\\uD800-\\uDBFF].|.)/i);\n        if (CS) {\n            this.i += CS[0].length;\n            return CS[2] || CS[1];\n        }\n        else {\n            this.i++;\n            return ' ';\n        }\n    };\n    TexParser.prototype.GetArgument = function (_name, noneOK) {\n        switch (this.GetNext()) {\n            case '':\n                if (!noneOK) {\n                    throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', this.currentCS);\n                }\n                return null;\n            case '}':\n                if (!noneOK) {\n                    throw new TexError_js_1.default('ExtraCloseMissingOpen', 'Extra close brace or missing open brace');\n                }\n                return null;\n            case '\\\\':\n                this.i++;\n                return '\\\\' + this.GetCS();\n            case '{':\n                var j = ++this.i, parens = 1;\n                while (this.i < this.string.length) {\n                    switch (this.string.charAt(this.i++)) {\n                        case '\\\\':\n                            this.i++;\n                            break;\n                        case '{':\n                            parens++;\n                            break;\n                        case '}':\n                            if (--parens === 0) {\n                                return this.string.slice(j, this.i - 1);\n                            }\n                            break;\n                    }\n                }\n                throw new TexError_js_1.default('MissingCloseBrace', 'Missing close brace');\n        }\n        var c = this.getCodePoint();\n        this.i += c.length;\n        return c;\n    };\n    TexParser.prototype.GetBrackets = function (_name, def) {\n        if (this.GetNext() !== '[') {\n            return def;\n        }\n        var j = ++this.i, parens = 0;\n        while (this.i < this.string.length) {\n            switch (this.string.charAt(this.i++)) {\n                case '{':\n                    parens++;\n                    break;\n                case '\\\\':\n                    this.i++;\n                    break;\n                case '}':\n                    if (parens-- <= 0) {\n                        throw new TexError_js_1.default('ExtraCloseLooking', 'Extra close brace while looking for %1', '\\']\\'');\n                    }\n                    break;\n                case ']':\n                    if (parens === 0) {\n                        return this.string.slice(j, this.i - 1);\n                    }\n                    break;\n            }\n        }\n        throw new TexError_js_1.default('MissingCloseBracket', 'Could not find closing \\']\\' for argument to %1', this.currentCS);\n    };\n    TexParser.prototype.GetDelimiter = function (name, braceOK) {\n        var c = this.GetNext();\n        this.i += c.length;\n        if (this.i <= this.string.length) {\n            if (c === '\\\\') {\n                c += this.GetCS();\n            }\n            else if (c === '{' && braceOK) {\n                this.i--;\n                c = this.GetArgument(name).trim();\n            }\n            if (this.contains('delimiter', c)) {\n                return this.convertDelimiter(c);\n            }\n        }\n        throw new TexError_js_1.default('MissingOrUnrecognizedDelim', 'Missing or unrecognized delimiter for %1', this.currentCS);\n    };\n    TexParser.prototype.GetDimen = function (name) {\n        if (this.GetNext() === '{') {\n            var dimen = this.GetArgument(name);\n            var _a = __read(ParseUtil_js_1.default.matchDimen(dimen), 2), value = _a[0], unit = _a[1];\n            if (value) {\n                return value + unit;\n            }\n        }\n        else {\n            var dimen = this.string.slice(this.i);\n            var _b = __read(ParseUtil_js_1.default.matchDimen(dimen, true), 3), value = _b[0], unit = _b[1], length_1 = _b[2];\n            if (value) {\n                this.i += length_1;\n                return value + unit;\n            }\n        }\n        throw new TexError_js_1.default('MissingDimOrUnits', 'Missing dimension or its units for %1', this.currentCS);\n    };\n    TexParser.prototype.GetUpTo = function (_name, token) {\n        while (this.nextIsSpace()) {\n            this.i++;\n        }\n        var j = this.i;\n        var parens = 0;\n        while (this.i < this.string.length) {\n            var k = this.i;\n            var c = this.GetNext();\n            this.i += c.length;\n            switch (c) {\n                case '\\\\':\n                    c += this.GetCS();\n                    break;\n                case '{':\n                    parens++;\n                    break;\n                case '}':\n                    if (parens === 0) {\n                        throw new TexError_js_1.default('ExtraCloseLooking', 'Extra close brace while looking for %1', token);\n                    }\n                    parens--;\n                    break;\n            }\n            if (parens === 0 && c === token) {\n                return this.string.slice(j, k);\n            }\n        }\n        throw new TexError_js_1.default('TokenNotFoundForCommand', 'Could not find %1 for %2', token, this.currentCS);\n    };\n    TexParser.prototype.ParseArg = function (name) {\n        return new TexParser(this.GetArgument(name), this.stack.env, this.configuration).mml();\n    };\n    TexParser.prototype.ParseUpTo = function (name, token) {\n        return new TexParser(this.GetUpTo(name, token), this.stack.env, this.configuration).mml();\n    };\n    TexParser.prototype.GetDelimiterArg = function (name) {\n        var c = ParseUtil_js_1.default.trimSpaces(this.GetArgument(name));\n        if (c === '') {\n            return null;\n        }\n        if (this.contains('delimiter', c)) {\n            return c;\n        }\n        throw new TexError_js_1.default('MissingOrUnrecognizedDelim', 'Missing or unrecognized delimiter for %1', this.currentCS);\n    };\n    TexParser.prototype.GetStar = function () {\n        var star = (this.GetNext() === '*');\n        if (star) {\n            this.i++;\n        }\n        return star;\n    };\n    TexParser.prototype.create = function (kind) {\n        var _a;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        return (_a = this.configuration.nodeFactory).create.apply(_a, __spreadArray([kind], __read(rest), false));\n    };\n    return TexParser;\n}());\nexports.default = TexParser;\n//# sourceMappingURL=TexParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mathjax = void 0;\nvar version_js_1 = require(\"./components/version.js\");\nvar HandlerList_js_1 = require(\"./core/HandlerList.js\");\nvar Retries_js_1 = require(\"./util/Retries.js\");\nexports.mathjax = {\n    version: version_js_1.VERSION,\n    handlers: new HandlerList_js_1.HandlerList(),\n    document: function (document, options) {\n        return exports.mathjax.handlers.document(document, options);\n    },\n    handleRetriesFor: Retries_js_1.handleRetriesFor,\n    retryAfter: Retries_js_1.retryAfter,\n    asyncLoad: null,\n};\n//# sourceMappingURL=mathjax.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asyncLoad = void 0;\nvar mathjax_js_1 = require(\"../mathjax.js\");\nfunction asyncLoad(name) {\n    if (!mathjax_js_1.mathjax.asyncLoad) {\n        return Promise.reject(\"Can't load '\".concat(name, \"': No asyncLoad method specified\"));\n    }\n    return new Promise(function (ok, fail) {\n        var result = mathjax_js_1.mathjax.asyncLoad(name);\n        if (result instanceof Promise) {\n            result.then(function (value) { return ok(value); }).catch(function (err) { return fail(err); });\n        }\n        else {\n            ok(result);\n        }\n    });\n}\nexports.asyncLoad = asyncLoad;\n//# sourceMappingURL=AsyncLoad.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.numeric = exports.translate = exports.remove = exports.add = exports.entities = exports.options = void 0;\nvar Retries_js_1 = require(\"./Retries.js\");\nvar AsyncLoad_js_1 = require(\"./AsyncLoad.js\");\nexports.options = {\n    loadMissingEntities: true\n};\nexports.entities = {\n    ApplyFunction: '\\u2061',\n    Backslash: '\\u2216',\n    Because: '\\u2235',\n    Breve: '\\u02D8',\n    Cap: '\\u22D2',\n    CenterDot: '\\u00B7',\n    CircleDot: '\\u2299',\n    CircleMinus: '\\u2296',\n    CirclePlus: '\\u2295',\n    CircleTimes: '\\u2297',\n    Congruent: '\\u2261',\n    ContourIntegral: '\\u222E',\n    Coproduct: '\\u2210',\n    Cross: '\\u2A2F',\n    Cup: '\\u22D3',\n    CupCap: '\\u224D',\n    Dagger: '\\u2021',\n    Del: '\\u2207',\n    Delta: '\\u0394',\n    Diamond: '\\u22C4',\n    DifferentialD: '\\u2146',\n    DotEqual: '\\u2250',\n    DoubleDot: '\\u00A8',\n    DoubleRightTee: '\\u22A8',\n    DoubleVerticalBar: '\\u2225',\n    DownArrow: '\\u2193',\n    DownLeftVector: '\\u21BD',\n    DownRightVector: '\\u21C1',\n    DownTee: '\\u22A4',\n    Downarrow: '\\u21D3',\n    Element: '\\u2208',\n    EqualTilde: '\\u2242',\n    Equilibrium: '\\u21CC',\n    Exists: '\\u2203',\n    ExponentialE: '\\u2147',\n    FilledVerySmallSquare: '\\u25AA',\n    ForAll: '\\u2200',\n    Gamma: '\\u0393',\n    Gg: '\\u22D9',\n    GreaterEqual: '\\u2265',\n    GreaterEqualLess: '\\u22DB',\n    GreaterFullEqual: '\\u2267',\n    GreaterLess: '\\u2277',\n    GreaterSlantEqual: '\\u2A7E',\n    GreaterTilde: '\\u2273',\n    Hacek: '\\u02C7',\n    Hat: '\\u005E',\n    HumpDownHump: '\\u224E',\n    HumpEqual: '\\u224F',\n    Im: '\\u2111',\n    ImaginaryI: '\\u2148',\n    Integral: '\\u222B',\n    Intersection: '\\u22C2',\n    InvisibleComma: '\\u2063',\n    InvisibleTimes: '\\u2062',\n    Lambda: '\\u039B',\n    Larr: '\\u219E',\n    LeftAngleBracket: '\\u27E8',\n    LeftArrow: '\\u2190',\n    LeftArrowRightArrow: '\\u21C6',\n    LeftCeiling: '\\u2308',\n    LeftDownVector: '\\u21C3',\n    LeftFloor: '\\u230A',\n    LeftRightArrow: '\\u2194',\n    LeftTee: '\\u22A3',\n    LeftTriangle: '\\u22B2',\n    LeftTriangleEqual: '\\u22B4',\n    LeftUpVector: '\\u21BF',\n    LeftVector: '\\u21BC',\n    Leftarrow: '\\u21D0',\n    Leftrightarrow: '\\u21D4',\n    LessEqualGreater: '\\u22DA',\n    LessFullEqual: '\\u2266',\n    LessGreater: '\\u2276',\n    LessSlantEqual: '\\u2A7D',\n    LessTilde: '\\u2272',\n    Ll: '\\u22D8',\n    Lleftarrow: '\\u21DA',\n    LongLeftArrow: '\\u27F5',\n    LongLeftRightArrow: '\\u27F7',\n    LongRightArrow: '\\u27F6',\n    Longleftarrow: '\\u27F8',\n    Longleftrightarrow: '\\u27FA',\n    Longrightarrow: '\\u27F9',\n    Lsh: '\\u21B0',\n    MinusPlus: '\\u2213',\n    NestedGreaterGreater: '\\u226B',\n    NestedLessLess: '\\u226A',\n    NotDoubleVerticalBar: '\\u2226',\n    NotElement: '\\u2209',\n    NotEqual: '\\u2260',\n    NotExists: '\\u2204',\n    NotGreater: '\\u226F',\n    NotGreaterEqual: '\\u2271',\n    NotLeftTriangle: '\\u22EA',\n    NotLeftTriangleEqual: '\\u22EC',\n    NotLess: '\\u226E',\n    NotLessEqual: '\\u2270',\n    NotPrecedes: '\\u2280',\n    NotPrecedesSlantEqual: '\\u22E0',\n    NotRightTriangle: '\\u22EB',\n    NotRightTriangleEqual: '\\u22ED',\n    NotSubsetEqual: '\\u2288',\n    NotSucceeds: '\\u2281',\n    NotSucceedsSlantEqual: '\\u22E1',\n    NotSupersetEqual: '\\u2289',\n    NotTilde: '\\u2241',\n    NotVerticalBar: '\\u2224',\n    Omega: '\\u03A9',\n    OverBar: '\\u203E',\n    OverBrace: '\\u23DE',\n    PartialD: '\\u2202',\n    Phi: '\\u03A6',\n    Pi: '\\u03A0',\n    PlusMinus: '\\u00B1',\n    Precedes: '\\u227A',\n    PrecedesEqual: '\\u2AAF',\n    PrecedesSlantEqual: '\\u227C',\n    PrecedesTilde: '\\u227E',\n    Product: '\\u220F',\n    Proportional: '\\u221D',\n    Psi: '\\u03A8',\n    Rarr: '\\u21A0',\n    Re: '\\u211C',\n    ReverseEquilibrium: '\\u21CB',\n    RightAngleBracket: '\\u27E9',\n    RightArrow: '\\u2192',\n    RightArrowLeftArrow: '\\u21C4',\n    RightCeiling: '\\u2309',\n    RightDownVector: '\\u21C2',\n    RightFloor: '\\u230B',\n    RightTee: '\\u22A2',\n    RightTeeArrow: '\\u21A6',\n    RightTriangle: '\\u22B3',\n    RightTriangleEqual: '\\u22B5',\n    RightUpVector: '\\u21BE',\n    RightVector: '\\u21C0',\n    Rightarrow: '\\u21D2',\n    Rrightarrow: '\\u21DB',\n    Rsh: '\\u21B1',\n    Sigma: '\\u03A3',\n    SmallCircle: '\\u2218',\n    Sqrt: '\\u221A',\n    Square: '\\u25A1',\n    SquareIntersection: '\\u2293',\n    SquareSubset: '\\u228F',\n    SquareSubsetEqual: '\\u2291',\n    SquareSuperset: '\\u2290',\n    SquareSupersetEqual: '\\u2292',\n    SquareUnion: '\\u2294',\n    Star: '\\u22C6',\n    Subset: '\\u22D0',\n    SubsetEqual: '\\u2286',\n    Succeeds: '\\u227B',\n    SucceedsEqual: '\\u2AB0',\n    SucceedsSlantEqual: '\\u227D',\n    SucceedsTilde: '\\u227F',\n    SuchThat: '\\u220B',\n    Sum: '\\u2211',\n    Superset: '\\u2283',\n    SupersetEqual: '\\u2287',\n    Supset: '\\u22D1',\n    Therefore: '\\u2234',\n    Theta: '\\u0398',\n    Tilde: '\\u223C',\n    TildeEqual: '\\u2243',\n    TildeFullEqual: '\\u2245',\n    TildeTilde: '\\u2248',\n    UnderBar: '\\u005F',\n    UnderBrace: '\\u23DF',\n    Union: '\\u22C3',\n    UnionPlus: '\\u228E',\n    UpArrow: '\\u2191',\n    UpDownArrow: '\\u2195',\n    UpTee: '\\u22A5',\n    Uparrow: '\\u21D1',\n    Updownarrow: '\\u21D5',\n    Upsilon: '\\u03A5',\n    Vdash: '\\u22A9',\n    Vee: '\\u22C1',\n    VerticalBar: '\\u2223',\n    VerticalTilde: '\\u2240',\n    Vvdash: '\\u22AA',\n    Wedge: '\\u22C0',\n    Xi: '\\u039E',\n    amp: '\\u0026',\n    acute: '\\u00B4',\n    aleph: '\\u2135',\n    alpha: '\\u03B1',\n    amalg: '\\u2A3F',\n    and: '\\u2227',\n    ang: '\\u2220',\n    angmsd: '\\u2221',\n    angsph: '\\u2222',\n    ape: '\\u224A',\n    backprime: '\\u2035',\n    backsim: '\\u223D',\n    backsimeq: '\\u22CD',\n    beta: '\\u03B2',\n    beth: '\\u2136',\n    between: '\\u226C',\n    bigcirc: '\\u25EF',\n    bigodot: '\\u2A00',\n    bigoplus: '\\u2A01',\n    bigotimes: '\\u2A02',\n    bigsqcup: '\\u2A06',\n    bigstar: '\\u2605',\n    bigtriangledown: '\\u25BD',\n    bigtriangleup: '\\u25B3',\n    biguplus: '\\u2A04',\n    blacklozenge: '\\u29EB',\n    blacktriangle: '\\u25B4',\n    blacktriangledown: '\\u25BE',\n    blacktriangleleft: '\\u25C2',\n    bowtie: '\\u22C8',\n    boxdl: '\\u2510',\n    boxdr: '\\u250C',\n    boxminus: '\\u229F',\n    boxplus: '\\u229E',\n    boxtimes: '\\u22A0',\n    boxul: '\\u2518',\n    boxur: '\\u2514',\n    bsol: '\\u005C',\n    bull: '\\u2022',\n    cap: '\\u2229',\n    check: '\\u2713',\n    chi: '\\u03C7',\n    circ: '\\u02C6',\n    circeq: '\\u2257',\n    circlearrowleft: '\\u21BA',\n    circlearrowright: '\\u21BB',\n    circledR: '\\u00AE',\n    circledS: '\\u24C8',\n    circledast: '\\u229B',\n    circledcirc: '\\u229A',\n    circleddash: '\\u229D',\n    clubs: '\\u2663',\n    colon: '\\u003A',\n    comp: '\\u2201',\n    ctdot: '\\u22EF',\n    cuepr: '\\u22DE',\n    cuesc: '\\u22DF',\n    cularr: '\\u21B6',\n    cup: '\\u222A',\n    curarr: '\\u21B7',\n    curlyvee: '\\u22CE',\n    curlywedge: '\\u22CF',\n    dagger: '\\u2020',\n    daleth: '\\u2138',\n    ddarr: '\\u21CA',\n    deg: '\\u00B0',\n    delta: '\\u03B4',\n    digamma: '\\u03DD',\n    div: '\\u00F7',\n    divideontimes: '\\u22C7',\n    dot: '\\u02D9',\n    doteqdot: '\\u2251',\n    dotplus: '\\u2214',\n    dotsquare: '\\u22A1',\n    dtdot: '\\u22F1',\n    ecir: '\\u2256',\n    efDot: '\\u2252',\n    egs: '\\u2A96',\n    ell: '\\u2113',\n    els: '\\u2A95',\n    empty: '\\u2205',\n    epsi: '\\u03B5',\n    epsiv: '\\u03F5',\n    erDot: '\\u2253',\n    eta: '\\u03B7',\n    eth: '\\u00F0',\n    flat: '\\u266D',\n    fork: '\\u22D4',\n    frown: '\\u2322',\n    gEl: '\\u2A8C',\n    gamma: '\\u03B3',\n    gap: '\\u2A86',\n    gimel: '\\u2137',\n    gnE: '\\u2269',\n    gnap: '\\u2A8A',\n    gne: '\\u2A88',\n    gnsim: '\\u22E7',\n    gt: '\\u003E',\n    gtdot: '\\u22D7',\n    harrw: '\\u21AD',\n    hbar: '\\u210F',\n    hellip: '\\u2026',\n    hookleftarrow: '\\u21A9',\n    hookrightarrow: '\\u21AA',\n    imath: '\\u0131',\n    infin: '\\u221E',\n    intcal: '\\u22BA',\n    iota: '\\u03B9',\n    jmath: '\\u0237',\n    kappa: '\\u03BA',\n    kappav: '\\u03F0',\n    lEg: '\\u2A8B',\n    lambda: '\\u03BB',\n    lap: '\\u2A85',\n    larrlp: '\\u21AB',\n    larrtl: '\\u21A2',\n    lbrace: '\\u007B',\n    lbrack: '\\u005B',\n    le: '\\u2264',\n    leftleftarrows: '\\u21C7',\n    leftthreetimes: '\\u22CB',\n    lessdot: '\\u22D6',\n    lmoust: '\\u23B0',\n    lnE: '\\u2268',\n    lnap: '\\u2A89',\n    lne: '\\u2A87',\n    lnsim: '\\u22E6',\n    longmapsto: '\\u27FC',\n    looparrowright: '\\u21AC',\n    lowast: '\\u2217',\n    loz: '\\u25CA',\n    lt: '\\u003C',\n    ltimes: '\\u22C9',\n    ltri: '\\u25C3',\n    macr: '\\u00AF',\n    malt: '\\u2720',\n    mho: '\\u2127',\n    mu: '\\u03BC',\n    multimap: '\\u22B8',\n    nLeftarrow: '\\u21CD',\n    nLeftrightarrow: '\\u21CE',\n    nRightarrow: '\\u21CF',\n    nVDash: '\\u22AF',\n    nVdash: '\\u22AE',\n    natur: '\\u266E',\n    nearr: '\\u2197',\n    nharr: '\\u21AE',\n    nlarr: '\\u219A',\n    not: '\\u00AC',\n    nrarr: '\\u219B',\n    nu: '\\u03BD',\n    nvDash: '\\u22AD',\n    nvdash: '\\u22AC',\n    nwarr: '\\u2196',\n    omega: '\\u03C9',\n    omicron: '\\u03BF',\n    or: '\\u2228',\n    osol: '\\u2298',\n    period: '\\u002E',\n    phi: '\\u03C6',\n    phiv: '\\u03D5',\n    pi: '\\u03C0',\n    piv: '\\u03D6',\n    prap: '\\u2AB7',\n    precnapprox: '\\u2AB9',\n    precneqq: '\\u2AB5',\n    precnsim: '\\u22E8',\n    prime: '\\u2032',\n    psi: '\\u03C8',\n    quot: '\\u0022',\n    rarrtl: '\\u21A3',\n    rbrace: '\\u007D',\n    rbrack: '\\u005D',\n    rho: '\\u03C1',\n    rhov: '\\u03F1',\n    rightrightarrows: '\\u21C9',\n    rightthreetimes: '\\u22CC',\n    ring: '\\u02DA',\n    rmoust: '\\u23B1',\n    rtimes: '\\u22CA',\n    rtri: '\\u25B9',\n    scap: '\\u2AB8',\n    scnE: '\\u2AB6',\n    scnap: '\\u2ABA',\n    scnsim: '\\u22E9',\n    sdot: '\\u22C5',\n    searr: '\\u2198',\n    sect: '\\u00A7',\n    sharp: '\\u266F',\n    sigma: '\\u03C3',\n    sigmav: '\\u03C2',\n    simne: '\\u2246',\n    smile: '\\u2323',\n    spades: '\\u2660',\n    sub: '\\u2282',\n    subE: '\\u2AC5',\n    subnE: '\\u2ACB',\n    subne: '\\u228A',\n    supE: '\\u2AC6',\n    supnE: '\\u2ACC',\n    supne: '\\u228B',\n    swarr: '\\u2199',\n    tau: '\\u03C4',\n    theta: '\\u03B8',\n    thetav: '\\u03D1',\n    tilde: '\\u02DC',\n    times: '\\u00D7',\n    triangle: '\\u25B5',\n    triangleq: '\\u225C',\n    upsi: '\\u03C5',\n    upuparrows: '\\u21C8',\n    veebar: '\\u22BB',\n    vellip: '\\u22EE',\n    weierp: '\\u2118',\n    xi: '\\u03BE',\n    yen: '\\u00A5',\n    zeta: '\\u03B6',\n    zigrarr: '\\u21DD',\n    nbsp: '\\u00A0',\n    rsquo: '\\u2019',\n    lsquo: '\\u2018'\n};\nvar loaded = {};\nfunction add(additions, file) {\n    Object.assign(exports.entities, additions);\n    loaded[file] = true;\n}\nexports.add = add;\nfunction remove(entity) {\n    delete exports.entities[entity];\n}\nexports.remove = remove;\nfunction translate(text) {\n    return text.replace(/&([a-z][a-z0-9]*|#(?:[0-9]+|x[0-9a-f]+));/ig, replace);\n}\nexports.translate = translate;\nfunction replace(match, entity) {\n    if (entity.charAt(0) === '#') {\n        return numeric(entity.slice(1));\n    }\n    if (exports.entities[entity]) {\n        return exports.entities[entity];\n    }\n    if (exports.options['loadMissingEntities']) {\n        var file = (entity.match(/^[a-zA-Z](fr|scr|opf)$/) ? RegExp.$1 : entity.charAt(0).toLowerCase());\n        if (!loaded[file]) {\n            loaded[file] = true;\n            (0, Retries_js_1.retryAfter)((0, AsyncLoad_js_1.asyncLoad)('./util/entities/' + file + '.js'));\n        }\n    }\n    return match;\n}\nfunction numeric(entity) {\n    var n = (entity.charAt(0) === 'x' ?\n        parseInt(entity.slice(1), 16) :\n        parseInt(entity));\n    return String.fromCodePoint(n);\n}\nexports.numeric = numeric;\n//# sourceMappingURL=Entities.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FunctionList = void 0;\nvar PrioritizedList_js_1 = require(\"./PrioritizedList.js\");\nvar FunctionList = (function (_super) {\n    __extends(FunctionList, _super);\n    function FunctionList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FunctionList.prototype.execute = function () {\n        var e_1, _a;\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        try {\n            for (var _b = __values(this), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var item = _c.value;\n                var result = item.item.apply(item, __spreadArray([], __read(data), false));\n                if (result === false) {\n                    return false;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return true;\n    };\n    FunctionList.prototype.asyncExecute = function () {\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        var i = -1;\n        var items = this.items;\n        return new Promise(function (ok, fail) {\n            (function execute() {\n                var _a;\n                while (++i < items.length) {\n                    var result = (_a = items[i]).item.apply(_a, __spreadArray([], __read(data), false));\n                    if (result instanceof Promise) {\n                        result.then(execute).catch(function (err) { return fail(err); });\n                        return;\n                    }\n                    if (result === false) {\n                        ok(false);\n                        return;\n                    }\n                }\n                ok(true);\n            })();\n        });\n    };\n    return FunctionList;\n}(PrioritizedList_js_1.PrioritizedList));\nexports.FunctionList = FunctionList;\n//# sourceMappingURL=FunctionList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PrioritizedList = void 0;\nvar PrioritizedList = (function () {\n    function PrioritizedList() {\n        this.items = [];\n        this.items = [];\n    }\n    PrioritizedList.prototype[Symbol.iterator] = function () {\n        var i = 0;\n        var items = this.items;\n        return {\n            next: function () {\n                return { value: items[i++], done: (i > items.length) };\n            }\n        };\n    };\n    PrioritizedList.prototype.add = function (item, priority) {\n        if (priority === void 0) { priority = PrioritizedList.DEFAULTPRIORITY; }\n        var i = this.items.length;\n        do {\n            i--;\n        } while (i >= 0 && priority < this.items[i].priority);\n        this.items.splice(i + 1, 0, { item: item, priority: priority });\n        return item;\n    };\n    PrioritizedList.prototype.remove = function (item) {\n        var i = this.items.length;\n        do {\n            i--;\n        } while (i >= 0 && this.items[i].item !== item);\n        if (i >= 0) {\n            this.items.splice(i, 1);\n        }\n    };\n    PrioritizedList.DEFAULTPRIORITY = 5;\n    return PrioritizedList;\n}());\nexports.PrioritizedList = PrioritizedList;\n//# sourceMappingURL=PrioritizedList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.retryAfter = exports.handleRetriesFor = void 0;\nfunction handleRetriesFor(code) {\n    return new Promise(function run(ok, fail) {\n        try {\n            ok(code());\n        }\n        catch (err) {\n            if (err.retry && err.retry instanceof Promise) {\n                err.retry.then(function () { return run(ok, fail); })\n                    .catch(function (perr) { return fail(perr); });\n            }\n            else if (err.restart && err.restart.isCallback) {\n                MathJax.Callback.After(function () { return run(ok, fail); }, err.restart);\n            }\n            else {\n                fail(err);\n            }\n        }\n    });\n}\nexports.handleRetriesFor = handleRetriesFor;\nfunction retryAfter(promise) {\n    var err = new Error('MathJax retry');\n    err.retry = promise;\n    throw err;\n}\nexports.retryAfter = retryAfter;\n//# sourceMappingURL=Retries.js.map"],"names":["Object","defineProperty","exports","value","VERSION","extendStatics","__extends","this","d","b","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__values","o","s","Symbol","iterator","m","i","length","next","done","HandlerList","_super","apply","arguments","register","handler","add","priority","unregister","remove","handlesDocument","document","e_1","_a","_b","_c","item","e_1_1","error","return","Error","options","PrioritizedList","__read","n","r","e","ar","push","ParserConfiguration","ConfigurationHandler","Configuration","Options_js_1","MapHandler_js_1","FunctionList_js_1","PrioritizedList_js_1","Tags_js_1","name","fallback","items","tags","nodes","preprocessors","postprocessors","initMethod","configMethod","parser","assign","character","delimiter","macro","environment","makeProcessor","func","isArray","_create","config","_this","DEFAULTPRIORITY","init","conf","map","pre","post","configuration","set","local","get","enumerable","configurable","maps","Map","keys","packages","parsers","e_2","FunctionList","configurations","handlers","SubHandlers","slice","reverse","_d","pkg","addPackage","_e","_f","_g","append","e_2_1","execute","jax","e_3","addFilters","e_3_1","getPackage","e_4","parseOptions","nodeFactory","setCreators","kind","itemFactory","setNodeClass","e_4_1","TagsFactory","addTags","defaultOptions","userOptions","indexOf","concat","e_5","e_6","preFilters","e_5_1","_h","postFilters","e_6_1","SubHandler","MapHandler","getMap","_configuration","_fallback","name_1","warn","parse","input","result","env","symbol","from","lookup","applicable","contains","toString","names","join","retrieve","message","console","log","fallbacks","name_2","subHandler","e_7","values","e_7_1","__spreadArray","to","pack","l","NodeUtil","MmlNode_js_1","mo_js_1","attrs","setProperties","node","properties","texClass","setProperty","isKind","attributes","has","setChild","position","child","childNodes","parent","isType","createEntity","code","fromCodePoint","parseInt","getChildren","getText","appendChildren","children","children_1","children_1_1","appendChild","setAttribute","attribute","property","getProperty","getAttribute","attr","removeProperties","_i","removeProperty","getChildAt","copyChildren","oldNode","newNode","copyAttributes","getAllProperties","isEmbellished","getTexClass","getCoreMO","coreMO","isNode","AbstractMmlNode","AbstractMmlEmptyNode","isInferred","getForm","mo","forms","getForms","forms_1","forms_1_1","form","MmlMo","OPTABLE","__importDefault","mod","__esModule","ParseUtil","NodeUtil_js_1","TexParser_js_1","TexError_js_1","Entities_js_1","emPerInch","UNIT_CASES","num","unit","dimenEnd","RegExp","dimenRest","matchDimen","dim","rest","match","Em","parseFloat","muReplace","replace","Math","abs","toFixed","mathPalette","fence","side","D","T","default","mml","internalText","text","def","entities","nbsp","textNode","addArgs","s1","s2","removeBraces","count","trim","readValue","end","braces","index","start","startCount","stopCount","c","dimen2em","cols","W","fenced","open","close","big","color","nf","mrow","TEXCLASS","INNER","stack","openNode","stretchy","symmetric","OPEN","closeNode","CLOSE","fixedFence","ORD","fixInitialMO","REL","mi","unshift","internalMath","level","font","mathvariant","k","charAt","atom","substr","len","displaystyle","scriptlevel","underOver","base","script","pos","checkMovableLimits","lspace","rspace","over","under","OP","movesupsub","movablelimits","trimSpaces","TEXT","setArrayAlign","array","align","arraydef","substituteArgs","args","str","newstring","checkMaxMacros","isMacro","macroCount","checkEqnEnv","global","eqnenv","copyNode","tree","copy","walkTree","addNode","lists","split","lists_1","lists_1_1","list","MmlFilterAttribute","_parser","_name","getFontDef","keyvalOptions","attrib","allowed","key","val","JSON","readKeyval","Stack","_factory","_env","inner","isInner","Push","args_1","args_1_1","Top","checkItem","top_1","Pop","copyEnv","pop","isOpen","Prev","noPop","top","First","Macro","_symbol","_char","_attributes","_func","_args","EnvironmentMap","CommandMap","MacroMap","DelimiterMap","CharacterMap","AbstractParseMap","RegExpMap","AbstractSymbolMap","parseResult","Symbol_js_1","parserFor","mapped","_regExp","test","object","delete","json","char","functionMap","saveCommand","currentCS","envParser","AllTags","NoTags","AbstractTags","TagInfo","Label","tag","id","taggable","defaultTags","tagId","tagFormat","noTag","labelId","counter","allCounter","ids","allIds","labels","allLabels","redo","refUpdate","currentTag","history","enTag","cell","row","minlabelspacing","noFormat","formatTag","notag","label","formatUrl","encodeURIComponent","formatId","formatNumber","autoTag","clearTag","getTag","force","makeTag","ct","resetTag","reset","offset","startEquation","math","undefined","recompile","inputData","finishEquation","state","finalize","display","makeId","tagsMapping","find","x","OPTIONS","tagSide","tagIndent","useLabelIds","ignoreDuplicateLabels","constr","setDefault","getDefault","TexError","processString","parts","pattern","ParseUtil_js_1","Stack_js_1","TexParser","_string","ENV","pushParser","Parse","string","getCodePoint","arg","PushAll","popParser","convertDelimiter","codePointAt","nextIsSpace","GetNext","GetCS","CS","GetArgument","noneOK","j","parens","GetBrackets","GetDelimiter","braceOK","GetDimen","dimen","length_1","GetUpTo","token","ParseArg","ParseUpTo","GetDelimiterArg","GetStar","star","mathjax","version_js_1","HandlerList_js_1","Retries_js_1","version","handleRetriesFor","retryAfter","asyncLoad","mathjax_js_1","Promise","ok","fail","then","catch","err","reject","numeric","translate","AsyncLoad_js_1","loadMissingEntities","ApplyFunction","Backslash","Because","Breve","Cap","CenterDot","CircleDot","CircleMinus","CirclePlus","CircleTimes","Congruent","ContourIntegral","Coproduct","Cross","Cup","CupCap","Dagger","Del","Delta","Diamond","DifferentialD","DotEqual","DoubleDot","DoubleRightTee","DoubleVerticalBar","DownArrow","DownLeftVector","DownRightVector","DownTee","Downarrow","Element","EqualTilde","Equilibrium","Exists","ExponentialE","FilledVerySmallSquare","ForAll","Gamma","Gg","GreaterEqual","GreaterEqualLess","GreaterFullEqual","GreaterLess","GreaterSlantEqual","GreaterTilde","Hacek","Hat","HumpDownHump","HumpEqual","Im","ImaginaryI","Integral","Intersection","InvisibleComma","InvisibleTimes","Lambda","Larr","LeftAngleBracket","LeftArrow","LeftArrowRightArrow","LeftCeiling","LeftDownVector","LeftFloor","LeftRightArrow","LeftTee","LeftTriangle","LeftTriangleEqual","LeftUpVector","LeftVector","Leftarrow","Leftrightarrow","LessEqualGreater","LessFullEqual","LessGreater","LessSlantEqual","LessTilde","Ll","Lleftarrow","LongLeftArrow","LongLeftRightArrow","LongRightArrow","Longleftarrow","Longleftrightarrow","Longrightarrow","Lsh","MinusPlus","NestedGreaterGreater","NestedLessLess","NotDoubleVerticalBar","NotElement","NotEqual","NotExists","NotGreater","NotGreaterEqual","NotLeftTriangle","NotLeftTriangleEqual","NotLess","NotLessEqual","NotPrecedes","NotPrecedesSlantEqual","NotRightTriangle","NotRightTriangleEqual","NotSubsetEqual","NotSucceeds","NotSucceedsSlantEqual","NotSupersetEqual","NotTilde","NotVerticalBar","Omega","OverBar","OverBrace","PartialD","Phi","Pi","PlusMinus","Precedes","PrecedesEqual","PrecedesSlantEqual","PrecedesTilde","Product","Proportional","Psi","Rarr","Re","ReverseEquilibrium","RightAngleBracket","RightArrow","RightArrowLeftArrow","RightCeiling","RightDownVector","RightFloor","RightTee","RightTeeArrow","RightTriangle","RightTriangleEqual","RightUpVector","RightVector","Rightarrow","Rrightarrow","Rsh","Sigma","SmallCircle","Sqrt","Square","SquareIntersection","SquareSubset","SquareSubsetEqual","SquareSuperset","SquareSupersetEqual","SquareUnion","Star","Subset","SubsetEqual","Succeeds","SucceedsEqual","SucceedsSlantEqual","SucceedsTilde","SuchThat","Sum","Superset","SupersetEqual","Supset","Therefore","Theta","Tilde","TildeEqual","TildeFullEqual","TildeTilde","UnderBar","UnderBrace","Union","UnionPlus","UpArrow","UpDownArrow","UpTee","Uparrow","Updownarrow","Upsilon","Vdash","Vee","VerticalBar","VerticalTilde","Vvdash","Wedge","Xi","amp","acute","aleph","alpha","amalg","and","ang","angmsd","angsph","ape","backprime","backsim","backsimeq","beta","beth","between","bigcirc","bigodot","bigoplus","bigotimes","bigsqcup","bigstar","bigtriangledown","bigtriangleup","biguplus","blacklozenge","blacktriangle","blacktriangledown","blacktriangleleft","bowtie","boxdl","boxdr","boxminus","boxplus","boxtimes","boxul","boxur","bsol","bull","cap","check","chi","circ","circeq","circlearrowleft","circlearrowright","circledR","circledS","circledast","circledcirc","circleddash","clubs","colon","comp","ctdot","cuepr","cuesc","cularr","cup","curarr","curlyvee","curlywedge","dagger","daleth","ddarr","deg","delta","digamma","div","divideontimes","dot","doteqdot","dotplus","dotsquare","dtdot","ecir","efDot","egs","ell","els","empty","epsi","epsiv","erDot","eta","eth","flat","fork","frown","gEl","gamma","gap","gimel","gnE","gnap","gne","gnsim","gt","gtdot","harrw","hbar","hellip","hookleftarrow","hookrightarrow","imath","infin","intcal","iota","jmath","kappa","kappav","lEg","lambda","lap","larrlp","larrtl","lbrace","lbrack","le","leftleftarrows","leftthreetimes","lessdot","lmoust","lnE","lnap","lne","lnsim","longmapsto","looparrowright","lowast","loz","lt","ltimes","ltri","macr","malt","mho","mu","multimap","nLeftarrow","nLeftrightarrow","nRightarrow","nVDash","nVdash","natur","nearr","nharr","nlarr","not","nrarr","nu","nvDash","nvdash","nwarr","omega","omicron","or","osol","period","phi","phiv","pi","piv","prap","precnapprox","precneqq","precnsim","prime","psi","quot","rarrtl","rbrace","rbrack","rho","rhov","rightrightarrows","rightthreetimes","ring","rmoust","rtimes","rtri","scap","scnE","scnap","scnsim","sdot","searr","sect","sharp","sigma","sigmav","simne","smile","spades","sub","subE","subnE","subne","supE","supnE","supne","swarr","tau","theta","thetav","tilde","times","triangle","triangleq","upsi","upuparrows","veebar","vellip","weierp","xi","yen","zeta","zigrarr","rsquo","lsquo","loaded","entity","file","$1","toLowerCase","additions","data","asyncExecute","splice","run","retry","perr","restart","isCallback","MathJax","Callback","After","promise"],"sourceRoot":""}