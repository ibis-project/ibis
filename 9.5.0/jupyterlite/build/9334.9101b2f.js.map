{"version":3,"file":"9334.9101b2f.js","mappings":"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","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mock-socket/dist/mock-socket.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/process/browser.js"],"sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.Mock = global.Mock || {})));\n}(this, (function (exports) { 'use strict';\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nvar requiresPort = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) { return false; }\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n\nvar has = Object.prototype.hasOwnProperty;\nvar undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) { continue; }\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) { prefix = '?'; }\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) { continue; }\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nvar stringify = querystringify;\nvar parse = querystring;\n\nvar querystringify_1 = {\n\tstringify: stringify,\n\tparse: parse\n};\n\nvar CRHTLF = /[\\n\\r\\t]/g;\nvar slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//;\nvar protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i;\nvar windowsDriveLetter = /^[a-zA-Z]:/;\nvar whitespace = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/;\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(whitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d*)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') { globalVar = window; }\n  else if (typeof commonjsGlobal !== 'undefined') { globalVar = commonjsGlobal; }\n  else if (typeof self !== 'undefined') { globalVar = self; }\n  else { globalVar = {}; }\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) { delete finaldestination[key]; }\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) { continue; }\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4];\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') { return base; }\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) { unshift = true; }\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) { path.unshift(''); }\n  if (last === '.' || last === '..') { path.push(''); }\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) { parser = querystringify_1.parse; }\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) { url[key] = url[key].toLowerCase(); }\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) { url.query = parser(url.query); }\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!requiresPort(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password));\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || querystringify_1.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!requiresPort(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) { value += ':'+ url.port; }\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) { url[ins[1]] = url[ins[1]].toLowerCase(); }\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) { stringify = querystringify_1.stringify; }\n\n  var query\n    , url = this\n    , host = url.host\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') { protocol += ':'; }\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) { result += ':'+ url.password; }\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  //\n  // Trailing colon is removed from `url.host` when it is parsed. If it still\n  // ends with a colon, then add back the trailing colon that was removed. This\n  // prevents an invalid URL from being transformed into a valid one.\n  //\n  if (host[host.length - 1] === ':') { host += ':'; }\n  result += host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) { result += '?' !== query.charAt(0) ? '?'+ query : query; }\n\n  if (url.hash) { result += url.hash; }\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = querystringify_1;\n\nvar urlParse = Url;\n\n/*\n * This delay allows the thread to finish assigning its on* methods\n * before invoking the delay callback. This is purely a timing hack.\n * http://geekabyte.blogspot.com/2014/01/javascript-effect-of-setting-settimeout.html\n *\n * @param {callback: function} the callback which will be invoked after the timeout\n * @parma {context: object} the context in which to invoke the function\n */\nfunction delay(callback, context) {\n  setTimeout(function (timeoutContext) { return callback.call(timeoutContext); }, 4, context);\n}\n\nfunction log(method, message) {\n  /* eslint-disable no-console */\n  if (typeof process !== 'undefined' && process.env.NODE_ENV !== 'test') {\n    console[method].call(null, message);\n  }\n  /* eslint-enable no-console */\n}\n\nfunction reject(array, callback) {\n  if ( array === void 0 ) array = [];\n\n  var results = [];\n  array.forEach(function (itemInArray) {\n    if (!callback(itemInArray)) {\n      results.push(itemInArray);\n    }\n  });\n\n  return results;\n}\n\nfunction filter(array, callback) {\n  if ( array === void 0 ) array = [];\n\n  var results = [];\n  array.forEach(function (itemInArray) {\n    if (callback(itemInArray)) {\n      results.push(itemInArray);\n    }\n  });\n\n  return results;\n}\n\n/*\n * EventTarget is an interface implemented by objects that can\n * receive events and may have listeners for them.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n */\nvar EventTarget = function EventTarget() {\n  this.listeners = {};\n};\n\n/*\n * Ties a listener function to an event type which can later be invoked via the\n * dispatchEvent method.\n *\n * @param {string} type - the type of event (ie: 'open', 'message', etc.)\n * @param {function} listener - callback function to invoke when an event is dispatched matching the type\n * @param {boolean} useCapture - N/A TODO: implement useCapture functionality\n */\nEventTarget.prototype.addEventListener = function addEventListener (type, listener /* , useCapture */) {\n  if (typeof listener === 'function') {\n    if (!Array.isArray(this.listeners[type])) {\n      this.listeners[type] = [];\n    }\n\n    // Only add the same function once\n    if (filter(this.listeners[type], function (item) { return item === listener; }).length === 0) {\n      this.listeners[type].push(listener);\n    }\n  }\n};\n\n/*\n * Removes the listener so it will no longer be invoked via the dispatchEvent method.\n *\n * @param {string} type - the type of event (ie: 'open', 'message', etc.)\n * @param {function} listener - callback function to invoke when an event is dispatched matching the type\n * @param {boolean} useCapture - N/A TODO: implement useCapture functionality\n */\nEventTarget.prototype.removeEventListener = function removeEventListener (type, removingListener /* , useCapture */) {\n  var arrayOfListeners = this.listeners[type];\n  this.listeners[type] = reject(arrayOfListeners, function (listener) { return listener === removingListener; });\n};\n\n/*\n * Invokes all listener functions that are listening to the given event.type property. Each\n * listener will be passed the event as the first argument.\n *\n * @param {object} event - event object which will be passed to all listeners of the event.type property\n */\nEventTarget.prototype.dispatchEvent = function dispatchEvent (event) {\n    var this$1 = this;\n    var customArguments = [], len = arguments.length - 1;\n    while ( len-- > 0 ) customArguments[ len ] = arguments[ len + 1 ];\n\n  var eventName = event.type;\n  var listeners = this.listeners[eventName];\n\n  if (!Array.isArray(listeners)) {\n    return false;\n  }\n\n  listeners.forEach(function (listener) {\n    if (customArguments.length > 0) {\n      listener.apply(this$1, customArguments);\n    } else {\n      listener.call(this$1, event);\n    }\n  });\n\n  return true;\n};\n\nfunction trimQueryPartFromURL(url) {\n  var queryIndex = url.indexOf('?');\n  return queryIndex >= 0 ? url.slice(0, queryIndex) : url;\n}\n\n/*\n * The network bridge is a way for the mock websocket object to 'communicate' with\n * all available servers. This is a singleton object so it is important that you\n * clean up urlMap whenever you are finished.\n */\nvar NetworkBridge = function NetworkBridge() {\n  this.urlMap = {};\n};\n\n/*\n * Attaches a websocket object to the urlMap hash so that it can find the server\n * it is connected to and the server in turn can find it.\n *\n * @param {object} websocket - websocket object to add to the urlMap hash\n * @param {string} url\n */\nNetworkBridge.prototype.attachWebSocket = function attachWebSocket (websocket, url) {\n  var serverURL = trimQueryPartFromURL(url);\n  var connectionLookup = this.urlMap[serverURL];\n\n  if (connectionLookup && connectionLookup.server && connectionLookup.websockets.indexOf(websocket) === -1) {\n    connectionLookup.websockets.push(websocket);\n    return connectionLookup.server;\n  }\n};\n\n/*\n * Attaches a websocket to a room\n */\nNetworkBridge.prototype.addMembershipToRoom = function addMembershipToRoom (websocket, room) {\n  var connectionLookup = this.urlMap[trimQueryPartFromURL(websocket.url)];\n\n  if (connectionLookup && connectionLookup.server && connectionLookup.websockets.indexOf(websocket) !== -1) {\n    if (!connectionLookup.roomMemberships[room]) {\n      connectionLookup.roomMemberships[room] = [];\n    }\n\n    connectionLookup.roomMemberships[room].push(websocket);\n  }\n};\n\n/*\n * Attaches a server object to the urlMap hash so that it can find a websockets\n * which are connected to it and so that websockets can in turn can find it.\n *\n * @param {object} server - server object to add to the urlMap hash\n * @param {string} url\n */\nNetworkBridge.prototype.attachServer = function attachServer (server, url) {\n  var serverUrl = trimQueryPartFromURL(url);\n  var connectionLookup = this.urlMap[serverUrl];\n\n  if (!connectionLookup) {\n    this.urlMap[serverUrl] = {\n      server: server,\n      websockets: [],\n      roomMemberships: {}\n    };\n\n    return server;\n  }\n};\n\n/*\n * Finds the server which is 'running' on the given url.\n *\n * @param {string} url - the url to use to find which server is running on it\n */\nNetworkBridge.prototype.serverLookup = function serverLookup (url) {\n  var serverURL = trimQueryPartFromURL(url);\n  var connectionLookup = this.urlMap[serverURL];\n\n  if (connectionLookup) {\n    return connectionLookup.server;\n  }\n};\n\n/*\n * Finds all websockets which is 'listening' on the given url.\n *\n * @param {string} url - the url to use to find all websockets which are associated with it\n * @param {string} room - if a room is provided, will only return sockets in this room\n * @param {class} broadcaster - socket that is broadcasting and is to be excluded from the lookup\n */\nNetworkBridge.prototype.websocketsLookup = function websocketsLookup (url, room, broadcaster) {\n  var serverURL = trimQueryPartFromURL(url);\n  var websockets;\n  var connectionLookup = this.urlMap[serverURL];\n\n  websockets = connectionLookup ? connectionLookup.websockets : [];\n\n  if (room) {\n    var members = connectionLookup.roomMemberships[room];\n    websockets = members || [];\n  }\n\n  return broadcaster ? websockets.filter(function (websocket) { return websocket !== broadcaster; }) : websockets;\n};\n\n/*\n * Removes the entry associated with the url.\n *\n * @param {string} url\n */\nNetworkBridge.prototype.removeServer = function removeServer (url) {\n  delete this.urlMap[trimQueryPartFromURL(url)];\n};\n\n/*\n * Removes the individual websocket from the map of associated websockets.\n *\n * @param {object} websocket - websocket object to remove from the url map\n * @param {string} url\n */\nNetworkBridge.prototype.removeWebSocket = function removeWebSocket (websocket, url) {\n  var serverURL = trimQueryPartFromURL(url);\n  var connectionLookup = this.urlMap[serverURL];\n\n  if (connectionLookup) {\n    connectionLookup.websockets = reject(connectionLookup.websockets, function (socket) { return socket === websocket; });\n  }\n};\n\n/*\n * Removes a websocket from a room\n */\nNetworkBridge.prototype.removeMembershipFromRoom = function removeMembershipFromRoom (websocket, room) {\n  var connectionLookup = this.urlMap[trimQueryPartFromURL(websocket.url)];\n  var memberships = connectionLookup.roomMemberships[room];\n\n  if (connectionLookup && memberships !== null) {\n    connectionLookup.roomMemberships[room] = reject(memberships, function (socket) { return socket === websocket; });\n  }\n};\n\nvar networkBridge = new NetworkBridge(); // Note: this is a singleton\n\n/*\n * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n */\nvar CLOSE_CODES = {\n  CLOSE_NORMAL: 1000,\n  CLOSE_GOING_AWAY: 1001,\n  CLOSE_PROTOCOL_ERROR: 1002,\n  CLOSE_UNSUPPORTED: 1003,\n  CLOSE_NO_STATUS: 1005,\n  CLOSE_ABNORMAL: 1006,\n  UNSUPPORTED_DATA: 1007,\n  POLICY_VIOLATION: 1008,\n  CLOSE_TOO_LARGE: 1009,\n  MISSING_EXTENSION: 1010,\n  INTERNAL_ERROR: 1011,\n  SERVICE_RESTART: 1012,\n  TRY_AGAIN_LATER: 1013,\n  TLS_HANDSHAKE: 1015\n};\n\nvar ERROR_PREFIX = {\n  CONSTRUCTOR_ERROR: \"Failed to construct 'WebSocket':\",\n  CLOSE_ERROR: \"Failed to execute 'close' on 'WebSocket':\",\n  EVENT: {\n    CONSTRUCT: \"Failed to construct 'Event':\",\n    MESSAGE: \"Failed to construct 'MessageEvent':\",\n    CLOSE: \"Failed to construct 'CloseEvent':\"\n  }\n};\n\nvar EventPrototype = function EventPrototype () {};\n\nEventPrototype.prototype.stopPropagation = function stopPropagation () {};\nEventPrototype.prototype.stopImmediatePropagation = function stopImmediatePropagation () {};\n\n// if no arguments are passed then the type is set to \"undefined\" on\n// chrome and safari.\nEventPrototype.prototype.initEvent = function initEvent (type, bubbles, cancelable) {\n    if ( type === void 0 ) type = 'undefined';\n    if ( bubbles === void 0 ) bubbles = false;\n    if ( cancelable === void 0 ) cancelable = false;\n\n  this.type = \"\" + type;\n  this.bubbles = Boolean(bubbles);\n  this.cancelable = Boolean(cancelable);\n};\n\nvar Event = (function (EventPrototype$$1) {\n  function Event(type, eventInitConfig) {\n    if ( eventInitConfig === void 0 ) eventInitConfig = {};\n\n    EventPrototype$$1.call(this);\n\n    if (!type) {\n      throw new TypeError(((ERROR_PREFIX.EVENT_ERROR) + \" 1 argument required, but only 0 present.\"));\n    }\n\n    if (typeof eventInitConfig !== 'object') {\n      throw new TypeError(((ERROR_PREFIX.EVENT_ERROR) + \" parameter 2 ('eventInitDict') is not an object.\"));\n    }\n\n    var bubbles = eventInitConfig.bubbles;\n    var cancelable = eventInitConfig.cancelable;\n\n    this.type = \"\" + type;\n    this.timeStamp = Date.now();\n    this.target = null;\n    this.srcElement = null;\n    this.returnValue = true;\n    this.isTrusted = false;\n    this.eventPhase = 0;\n    this.defaultPrevented = false;\n    this.currentTarget = null;\n    this.cancelable = cancelable ? Boolean(cancelable) : false;\n    this.cancelBubble = false;\n    this.bubbles = bubbles ? Boolean(bubbles) : false;\n  }\n\n  if ( EventPrototype$$1 ) Event.__proto__ = EventPrototype$$1;\n  Event.prototype = Object.create( EventPrototype$$1 && EventPrototype$$1.prototype );\n  Event.prototype.constructor = Event;\n\n  return Event;\n}(EventPrototype));\n\nvar MessageEvent = (function (EventPrototype$$1) {\n  function MessageEvent(type, eventInitConfig) {\n    if ( eventInitConfig === void 0 ) eventInitConfig = {};\n\n    EventPrototype$$1.call(this);\n\n    if (!type) {\n      throw new TypeError(((ERROR_PREFIX.EVENT.MESSAGE) + \" 1 argument required, but only 0 present.\"));\n    }\n\n    if (typeof eventInitConfig !== 'object') {\n      throw new TypeError(((ERROR_PREFIX.EVENT.MESSAGE) + \" parameter 2 ('eventInitDict') is not an object\"));\n    }\n\n    var bubbles = eventInitConfig.bubbles;\n    var cancelable = eventInitConfig.cancelable;\n    var data = eventInitConfig.data;\n    var origin = eventInitConfig.origin;\n    var lastEventId = eventInitConfig.lastEventId;\n    var ports = eventInitConfig.ports;\n\n    this.type = \"\" + type;\n    this.timeStamp = Date.now();\n    this.target = null;\n    this.srcElement = null;\n    this.returnValue = true;\n    this.isTrusted = false;\n    this.eventPhase = 0;\n    this.defaultPrevented = false;\n    this.currentTarget = null;\n    this.cancelable = cancelable ? Boolean(cancelable) : false;\n    this.canncelBubble = false;\n    this.bubbles = bubbles ? Boolean(bubbles) : false;\n    this.origin = \"\" + origin;\n    this.ports = typeof ports === 'undefined' ? null : ports;\n    this.data = typeof data === 'undefined' ? null : data;\n    this.lastEventId = \"\" + (lastEventId || '');\n  }\n\n  if ( EventPrototype$$1 ) MessageEvent.__proto__ = EventPrototype$$1;\n  MessageEvent.prototype = Object.create( EventPrototype$$1 && EventPrototype$$1.prototype );\n  MessageEvent.prototype.constructor = MessageEvent;\n\n  return MessageEvent;\n}(EventPrototype));\n\nvar CloseEvent = (function (EventPrototype$$1) {\n  function CloseEvent(type, eventInitConfig) {\n    if ( eventInitConfig === void 0 ) eventInitConfig = {};\n\n    EventPrototype$$1.call(this);\n\n    if (!type) {\n      throw new TypeError(((ERROR_PREFIX.EVENT.CLOSE) + \" 1 argument required, but only 0 present.\"));\n    }\n\n    if (typeof eventInitConfig !== 'object') {\n      throw new TypeError(((ERROR_PREFIX.EVENT.CLOSE) + \" parameter 2 ('eventInitDict') is not an object\"));\n    }\n\n    var bubbles = eventInitConfig.bubbles;\n    var cancelable = eventInitConfig.cancelable;\n    var code = eventInitConfig.code;\n    var reason = eventInitConfig.reason;\n    var wasClean = eventInitConfig.wasClean;\n\n    this.type = \"\" + type;\n    this.timeStamp = Date.now();\n    this.target = null;\n    this.srcElement = null;\n    this.returnValue = true;\n    this.isTrusted = false;\n    this.eventPhase = 0;\n    this.defaultPrevented = false;\n    this.currentTarget = null;\n    this.cancelable = cancelable ? Boolean(cancelable) : false;\n    this.cancelBubble = false;\n    this.bubbles = bubbles ? Boolean(bubbles) : false;\n    this.code = typeof code === 'number' ? parseInt(code, 10) : 0;\n    this.reason = \"\" + (reason || '');\n    this.wasClean = wasClean ? Boolean(wasClean) : false;\n  }\n\n  if ( EventPrototype$$1 ) CloseEvent.__proto__ = EventPrototype$$1;\n  CloseEvent.prototype = Object.create( EventPrototype$$1 && EventPrototype$$1.prototype );\n  CloseEvent.prototype.constructor = CloseEvent;\n\n  return CloseEvent;\n}(EventPrototype));\n\n/*\n * Creates an Event object and extends it to allow full modification of\n * its properties.\n *\n * @param {object} config - within config you will need to pass type and optionally target\n */\nfunction createEvent(config) {\n  var type = config.type;\n  var target = config.target;\n  var eventObject = new Event(type);\n\n  if (target) {\n    eventObject.target = target;\n    eventObject.srcElement = target;\n    eventObject.currentTarget = target;\n  }\n\n  return eventObject;\n}\n\n/*\n * Creates a MessageEvent object and extends it to allow full modification of\n * its properties.\n *\n * @param {object} config - within config: type, origin, data and optionally target\n */\nfunction createMessageEvent(config) {\n  var type = config.type;\n  var origin = config.origin;\n  var data = config.data;\n  var target = config.target;\n  var messageEvent = new MessageEvent(type, {\n    data: data,\n    origin: origin\n  });\n\n  if (target) {\n    messageEvent.target = target;\n    messageEvent.srcElement = target;\n    messageEvent.currentTarget = target;\n  }\n\n  return messageEvent;\n}\n\n/*\n * Creates a CloseEvent object and extends it to allow full modification of\n * its properties.\n *\n * @param {object} config - within config: type and optionally target, code, and reason\n */\nfunction createCloseEvent(config) {\n  var code = config.code;\n  var reason = config.reason;\n  var type = config.type;\n  var target = config.target;\n  var wasClean = config.wasClean;\n\n  if (!wasClean) {\n    wasClean = code === CLOSE_CODES.CLOSE_NORMAL || code === CLOSE_CODES.CLOSE_NO_STATUS;\n  }\n\n  var closeEvent = new CloseEvent(type, {\n    code: code,\n    reason: reason,\n    wasClean: wasClean\n  });\n\n  if (target) {\n    closeEvent.target = target;\n    closeEvent.srcElement = target;\n    closeEvent.currentTarget = target;\n  }\n\n  return closeEvent;\n}\n\nfunction closeWebSocketConnection(context, code, reason) {\n  context.readyState = WebSocket$1.CLOSING;\n\n  var server = networkBridge.serverLookup(context.url);\n  var closeEvent = createCloseEvent({\n    type: 'close',\n    target: context.target,\n    code: code,\n    reason: reason\n  });\n\n  delay(function () {\n    networkBridge.removeWebSocket(context, context.url);\n\n    context.readyState = WebSocket$1.CLOSED;\n    context.dispatchEvent(closeEvent);\n\n    if (server) {\n      server.dispatchEvent(closeEvent, server);\n    }\n  }, context);\n}\n\nfunction failWebSocketConnection(context, code, reason) {\n  context.readyState = WebSocket$1.CLOSING;\n\n  var server = networkBridge.serverLookup(context.url);\n  var closeEvent = createCloseEvent({\n    type: 'close',\n    target: context.target,\n    code: code,\n    reason: reason,\n    wasClean: false\n  });\n\n  var errorEvent = createEvent({\n    type: 'error',\n    target: context.target\n  });\n\n  delay(function () {\n    networkBridge.removeWebSocket(context, context.url);\n\n    context.readyState = WebSocket$1.CLOSED;\n    context.dispatchEvent(errorEvent);\n    context.dispatchEvent(closeEvent);\n\n    if (server) {\n      server.dispatchEvent(closeEvent, server);\n    }\n  }, context);\n}\n\nfunction normalizeSendData(data) {\n  if (Object.prototype.toString.call(data) !== '[object Blob]' && !(data instanceof ArrayBuffer)) {\n    data = String(data);\n  }\n\n  return data;\n}\n\nvar proxies = new WeakMap();\n\nfunction proxyFactory(target) {\n  if (proxies.has(target)) {\n    return proxies.get(target);\n  }\n\n  var proxy = new Proxy(target, {\n    get: function get(obj, prop) {\n      if (prop === 'close') {\n        return function close(options) {\n          if ( options === void 0 ) options = {};\n\n          var code = options.code || CLOSE_CODES.CLOSE_NORMAL;\n          var reason = options.reason || '';\n\n          closeWebSocketConnection(proxy, code, reason);\n        };\n      }\n\n      if (prop === 'send') {\n        return function send(data) {\n          data = normalizeSendData(data);\n\n          target.dispatchEvent(\n            createMessageEvent({\n              type: 'message',\n              data: data,\n              origin: this.url,\n              target: target\n            })\n          );\n        };\n      }\n\n      var toSocketName = function (type) { return (type === 'message' ? (\"server::\" + type) : type); };\n      if (prop === 'on') {\n        return function onWrapper(type, cb) {\n          target.addEventListener(toSocketName(type), cb);\n        };\n      }\n      if (prop === 'off') {\n        return function offWrapper(type, cb) {\n          target.removeEventListener(toSocketName(type), cb);\n        };\n      }\n\n      if (prop === 'target') {\n        return target;\n      }\n\n      return obj[prop];\n    }\n  });\n  proxies.set(target, proxy);\n\n  return proxy;\n}\n\nfunction lengthInUtf8Bytes(str) {\n  // Matches only the 10.. bytes that are non-initial characters in a multi-byte sequence.\n  var m = encodeURIComponent(str).match(/%[89ABab]/g);\n  return str.length + (m ? m.length : 0);\n}\n\nfunction urlVerification(url) {\n  var urlRecord = new urlParse(url);\n  var pathname = urlRecord.pathname;\n  var protocol = urlRecord.protocol;\n  var hash = urlRecord.hash;\n\n  if (!url) {\n    throw new TypeError(((ERROR_PREFIX.CONSTRUCTOR_ERROR) + \" 1 argument required, but only 0 present.\"));\n  }\n\n  if (!pathname) {\n    urlRecord.pathname = '/';\n  }\n\n  if (protocol === '') {\n    throw new SyntaxError(((ERROR_PREFIX.CONSTRUCTOR_ERROR) + \" The URL '\" + (urlRecord.toString()) + \"' is invalid.\"));\n  }\n\n  if (protocol !== 'ws:' && protocol !== 'wss:') {\n    throw new SyntaxError(\n      ((ERROR_PREFIX.CONSTRUCTOR_ERROR) + \" The URL's scheme must be either 'ws' or 'wss'. '\" + protocol + \"' is not allowed.\")\n    );\n  }\n\n  if (hash !== '') {\n    /* eslint-disable max-len */\n    throw new SyntaxError(\n      ((ERROR_PREFIX.CONSTRUCTOR_ERROR) + \" The URL contains a fragment identifier ('\" + hash + \"'). Fragment identifiers are not allowed in WebSocket URLs.\")\n    );\n    /* eslint-enable max-len */\n  }\n\n  return urlRecord.toString();\n}\n\nfunction protocolVerification(protocols) {\n  if ( protocols === void 0 ) protocols = [];\n\n  if (!Array.isArray(protocols) && typeof protocols !== 'string') {\n    throw new SyntaxError(((ERROR_PREFIX.CONSTRUCTOR_ERROR) + \" The subprotocol '\" + (protocols.toString()) + \"' is invalid.\"));\n  }\n\n  if (typeof protocols === 'string') {\n    protocols = [protocols];\n  }\n\n  var uniq = protocols\n    .map(function (p) { return ({ count: 1, protocol: p }); })\n    .reduce(function (a, b) {\n      a[b.protocol] = (a[b.protocol] || 0) + b.count;\n      return a;\n    }, {});\n\n  var duplicates = Object.keys(uniq).filter(function (a) { return uniq[a] > 1; });\n\n  if (duplicates.length > 0) {\n    throw new SyntaxError(((ERROR_PREFIX.CONSTRUCTOR_ERROR) + \" The subprotocol '\" + (duplicates[0]) + \"' is duplicated.\"));\n  }\n\n  return protocols;\n}\n\n/*\n * The main websocket class which is designed to mimick the native WebSocket class as close\n * as possible.\n *\n * https://html.spec.whatwg.org/multipage/web-sockets.html\n */\nvar WebSocket$1 = (function (EventTarget$$1) {\n  function WebSocket(url, protocols) {\n    EventTarget$$1.call(this);\n\n    this._onopen = null;\n    this._onmessage = null;\n    this._onerror = null;\n    this._onclose = null;\n\n    this.url = urlVerification(url);\n    protocols = protocolVerification(protocols);\n    this.protocol = protocols[0] || '';\n\n    this.binaryType = 'blob';\n    this.readyState = WebSocket.CONNECTING;\n\n    var client = proxyFactory(this);\n    var server = networkBridge.attachWebSocket(client, this.url);\n\n    /*\n     * This delay is needed so that we dont trigger an event before the callbacks have been\n     * setup. For example:\n     *\n     * var socket = new WebSocket('ws://localhost');\n     *\n     * If we dont have the delay then the event would be triggered right here and this is\n     * before the onopen had a chance to register itself.\n     *\n     * socket.onopen = () => { // this would never be called };\n     *\n     * and with the delay the event gets triggered here after all of the callbacks have been\n     * registered :-)\n     */\n    delay(function delayCallback() {\n      if (server) {\n        if (\n          server.options.verifyClient &&\n          typeof server.options.verifyClient === 'function' &&\n          !server.options.verifyClient()\n        ) {\n          this.readyState = WebSocket.CLOSED;\n\n          log(\n            'error',\n            (\"WebSocket connection to '\" + (this.url) + \"' failed: HTTP Authentication failed; no valid credentials available\")\n          );\n\n          networkBridge.removeWebSocket(client, this.url);\n          this.dispatchEvent(createEvent({ type: 'error', target: this }));\n          this.dispatchEvent(createCloseEvent({ type: 'close', target: this, code: CLOSE_CODES.CLOSE_NORMAL }));\n        } else {\n          if (server.options.selectProtocol && typeof server.options.selectProtocol === 'function') {\n            var selectedProtocol = server.options.selectProtocol(protocols);\n            var isFilled = selectedProtocol !== '';\n            var isRequested = protocols.indexOf(selectedProtocol) !== -1;\n            if (isFilled && !isRequested) {\n              this.readyState = WebSocket.CLOSED;\n\n              log('error', (\"WebSocket connection to '\" + (this.url) + \"' failed: Invalid Sub-Protocol\"));\n\n              networkBridge.removeWebSocket(client, this.url);\n              this.dispatchEvent(createEvent({ type: 'error', target: this }));\n              this.dispatchEvent(createCloseEvent({ type: 'close', target: this, code: CLOSE_CODES.CLOSE_NORMAL }));\n              return;\n            }\n            this.protocol = selectedProtocol;\n          }\n          this.readyState = WebSocket.OPEN;\n          this.dispatchEvent(createEvent({ type: 'open', target: this }));\n          server.dispatchEvent(createEvent({ type: 'connection' }), client);\n        }\n      } else {\n        this.readyState = WebSocket.CLOSED;\n        this.dispatchEvent(createEvent({ type: 'error', target: this }));\n        this.dispatchEvent(createCloseEvent({ type: 'close', target: this, code: CLOSE_CODES.CLOSE_NORMAL }));\n\n        log('error', (\"WebSocket connection to '\" + (this.url) + \"' failed\"));\n      }\n    }, this);\n  }\n\n  if ( EventTarget$$1 ) WebSocket.__proto__ = EventTarget$$1;\n  WebSocket.prototype = Object.create( EventTarget$$1 && EventTarget$$1.prototype );\n  WebSocket.prototype.constructor = WebSocket;\n\n  var prototypeAccessors = { onopen: {},onmessage: {},onclose: {},onerror: {} };\n\n  prototypeAccessors.onopen.get = function () {\n    return this._onopen;\n  };\n\n  prototypeAccessors.onmessage.get = function () {\n    return this._onmessage;\n  };\n\n  prototypeAccessors.onclose.get = function () {\n    return this._onclose;\n  };\n\n  prototypeAccessors.onerror.get = function () {\n    return this._onerror;\n  };\n\n  prototypeAccessors.onopen.set = function (listener) {\n    this.removeEventListener('open', this._onopen);\n    this._onopen = listener;\n    this.addEventListener('open', listener);\n  };\n\n  prototypeAccessors.onmessage.set = function (listener) {\n    this.removeEventListener('message', this._onmessage);\n    this._onmessage = listener;\n    this.addEventListener('message', listener);\n  };\n\n  prototypeAccessors.onclose.set = function (listener) {\n    this.removeEventListener('close', this._onclose);\n    this._onclose = listener;\n    this.addEventListener('close', listener);\n  };\n\n  prototypeAccessors.onerror.set = function (listener) {\n    this.removeEventListener('error', this._onerror);\n    this._onerror = listener;\n    this.addEventListener('error', listener);\n  };\n\n  WebSocket.prototype.send = function send (data) {\n    var this$1 = this;\n\n    if (this.readyState === WebSocket.CLOSING || this.readyState === WebSocket.CLOSED) {\n      throw new Error('WebSocket is already in CLOSING or CLOSED state');\n    }\n\n    // TODO: handle bufferedAmount\n\n    var messageEvent = createMessageEvent({\n      type: 'server::message',\n      origin: this.url,\n      data: normalizeSendData(data)\n    });\n\n    var server = networkBridge.serverLookup(this.url);\n\n    if (server) {\n      delay(function () {\n        this$1.dispatchEvent(messageEvent, data);\n      }, server);\n    }\n  };\n\n  WebSocket.prototype.close = function close (code, reason) {\n    if (code !== undefined) {\n      if (typeof code !== 'number' || (code !== 1000 && (code < 3000 || code > 4999))) {\n        throw new TypeError(\n          ((ERROR_PREFIX.CLOSE_ERROR) + \" The code must be either 1000, or between 3000 and 4999. \" + code + \" is neither.\")\n        );\n      }\n    }\n\n    if (reason !== undefined) {\n      var length = lengthInUtf8Bytes(reason);\n\n      if (length > 123) {\n        throw new SyntaxError(((ERROR_PREFIX.CLOSE_ERROR) + \" The message must not be greater than 123 bytes.\"));\n      }\n    }\n\n    if (this.readyState === WebSocket.CLOSING || this.readyState === WebSocket.CLOSED) {\n      return;\n    }\n\n    var client = proxyFactory(this);\n    if (this.readyState === WebSocket.CONNECTING) {\n      failWebSocketConnection(client, code || CLOSE_CODES.CLOSE_ABNORMAL, reason);\n    } else {\n      closeWebSocketConnection(client, code || CLOSE_CODES.CLOSE_NO_STATUS, reason);\n    }\n  };\n\n  Object.defineProperties( WebSocket.prototype, prototypeAccessors );\n\n  return WebSocket;\n}(EventTarget));\n\nWebSocket$1.CONNECTING = 0;\nWebSocket$1.prototype.CONNECTING = WebSocket$1.CONNECTING;\nWebSocket$1.OPEN = 1;\nWebSocket$1.prototype.OPEN = WebSocket$1.OPEN;\nWebSocket$1.CLOSING = 2;\nWebSocket$1.prototype.CLOSING = WebSocket$1.CLOSING;\nWebSocket$1.CLOSED = 3;\nWebSocket$1.prototype.CLOSED = WebSocket$1.CLOSED;\n\n/*\n * The socket-io class is designed to mimick the real API as closely as possible.\n *\n * http://socket.io/docs/\n */\nvar SocketIO$1 = (function (EventTarget$$1) {\n  function SocketIO(url, protocol) {\n    var this$1 = this;\n    if ( url === void 0 ) url = 'socket.io';\n    if ( protocol === void 0 ) protocol = '';\n\n    EventTarget$$1.call(this);\n\n    this.binaryType = 'blob';\n    var urlRecord = new urlParse(url);\n\n    if (!urlRecord.pathname) {\n      urlRecord.pathname = '/';\n    }\n\n    this.url = urlRecord.toString();\n    this.readyState = SocketIO.CONNECTING;\n    this.protocol = '';\n    this.target = this;\n\n    if (typeof protocol === 'string' || (typeof protocol === 'object' && protocol !== null)) {\n      this.protocol = protocol;\n    } else if (Array.isArray(protocol) && protocol.length > 0) {\n      this.protocol = protocol[0];\n    }\n\n    var server = networkBridge.attachWebSocket(this, this.url);\n\n    /*\n     * Delay triggering the connection events so they can be defined in time.\n     */\n    delay(function delayCallback() {\n      if (server) {\n        this.readyState = SocketIO.OPEN;\n        server.dispatchEvent(createEvent({ type: 'connection' }), server, this);\n        server.dispatchEvent(createEvent({ type: 'connect' }), server, this); // alias\n        this.dispatchEvent(createEvent({ type: 'connect', target: this }));\n      } else {\n        this.readyState = SocketIO.CLOSED;\n        this.dispatchEvent(createEvent({ type: 'error', target: this }));\n        this.dispatchEvent(\n          createCloseEvent({\n            type: 'close',\n            target: this,\n            code: CLOSE_CODES.CLOSE_NORMAL\n          })\n        );\n\n        log('error', (\"Socket.io connection to '\" + (this.url) + \"' failed\"));\n      }\n    }, this);\n\n    /**\n      Add an aliased event listener for close / disconnect\n     */\n    this.addEventListener('close', function (event) {\n      this$1.dispatchEvent(\n        createCloseEvent({\n          type: 'disconnect',\n          target: event.target,\n          code: event.code\n        })\n      );\n    });\n  }\n\n  if ( EventTarget$$1 ) SocketIO.__proto__ = EventTarget$$1;\n  SocketIO.prototype = Object.create( EventTarget$$1 && EventTarget$$1.prototype );\n  SocketIO.prototype.constructor = SocketIO;\n\n  var prototypeAccessors = { broadcast: {} };\n\n  /*\n   * Closes the SocketIO connection or connection attempt, if any.\n   * If the connection is already CLOSED, this method does nothing.\n   */\n  SocketIO.prototype.close = function close () {\n    if (this.readyState !== SocketIO.OPEN) {\n      return undefined;\n    }\n\n    var server = networkBridge.serverLookup(this.url);\n    networkBridge.removeWebSocket(this, this.url);\n\n    this.readyState = SocketIO.CLOSED;\n    this.dispatchEvent(\n      createCloseEvent({\n        type: 'close',\n        target: this,\n        code: CLOSE_CODES.CLOSE_NORMAL\n      })\n    );\n\n    if (server) {\n      server.dispatchEvent(\n        createCloseEvent({\n          type: 'disconnect',\n          target: this,\n          code: CLOSE_CODES.CLOSE_NORMAL\n        }),\n        server\n      );\n    }\n\n    return this;\n  };\n\n  /*\n   * Alias for Socket#close\n   *\n   * https://github.com/socketio/socket.io-client/blob/master/lib/socket.js#L383\n   */\n  SocketIO.prototype.disconnect = function disconnect () {\n    return this.close();\n  };\n\n  /*\n   * Submits an event to the server with a payload\n   */\n  SocketIO.prototype.emit = function emit (event) {\n    var data = [], len = arguments.length - 1;\n    while ( len-- > 0 ) data[ len ] = arguments[ len + 1 ];\n\n    if (this.readyState !== SocketIO.OPEN) {\n      throw new Error('SocketIO is already in CLOSING or CLOSED state');\n    }\n\n    var messageEvent = createMessageEvent({\n      type: event,\n      origin: this.url,\n      data: data\n    });\n\n    var server = networkBridge.serverLookup(this.url);\n\n    if (server) {\n      server.dispatchEvent.apply(server, [ messageEvent ].concat( data ));\n    }\n\n    return this;\n  };\n\n  /*\n   * Submits a 'message' event to the server.\n   *\n   * Should behave exactly like WebSocket#send\n   *\n   * https://github.com/socketio/socket.io-client/blob/master/lib/socket.js#L113\n   */\n  SocketIO.prototype.send = function send (data) {\n    this.emit('message', data);\n    return this;\n  };\n\n  /*\n   * For broadcasting events to other connected sockets.\n   *\n   * e.g. socket.broadcast.emit('hi!');\n   * e.g. socket.broadcast.to('my-room').emit('hi!');\n   */\n  prototypeAccessors.broadcast.get = function () {\n    if (this.readyState !== SocketIO.OPEN) {\n      throw new Error('SocketIO is already in CLOSING or CLOSED state');\n    }\n\n    var self = this;\n    var server = networkBridge.serverLookup(this.url);\n    if (!server) {\n      throw new Error((\"SocketIO can not find a server at the specified URL (\" + (this.url) + \")\"));\n    }\n\n    return {\n      emit: function emit(event, data) {\n        server.emit(event, data, { websockets: networkBridge.websocketsLookup(self.url, null, self) });\n        return self;\n      },\n      to: function to(room) {\n        return server.to(room, self);\n      },\n      in: function in$1(room) {\n        return server.in(room, self);\n      }\n    };\n  };\n\n  /*\n   * For registering events to be received from the server\n   */\n  SocketIO.prototype.on = function on (type, callback) {\n    this.addEventListener(type, callback);\n    return this;\n  };\n\n  /*\n   * Remove event listener\n   *\n   * https://github.com/component/emitter#emitteroffevent-fn\n   */\n  SocketIO.prototype.off = function off (type, callback) {\n    this.removeEventListener(type, callback);\n  };\n\n  /*\n   * Check if listeners have already been added for an event\n   *\n   * https://github.com/component/emitter#emitterhaslistenersevent\n   */\n  SocketIO.prototype.hasListeners = function hasListeners (type) {\n    var listeners = this.listeners[type];\n    if (!Array.isArray(listeners)) {\n      return false;\n    }\n    return !!listeners.length;\n  };\n\n  /*\n   * Join a room on a server\n   *\n   * http://socket.io/docs/rooms-and-namespaces/#joining-and-leaving\n   */\n  SocketIO.prototype.join = function join (room) {\n    networkBridge.addMembershipToRoom(this, room);\n  };\n\n  /*\n   * Get the websocket to leave the room\n   *\n   * http://socket.io/docs/rooms-and-namespaces/#joining-and-leaving\n   */\n  SocketIO.prototype.leave = function leave (room) {\n    networkBridge.removeMembershipFromRoom(this, room);\n  };\n\n  SocketIO.prototype.to = function to (room) {\n    return this.broadcast.to(room);\n  };\n\n  SocketIO.prototype.in = function in$1 () {\n    return this.to.apply(null, arguments);\n  };\n\n  /*\n   * Invokes all listener functions that are listening to the given event.type property. Each\n   * listener will be passed the event as the first argument.\n   *\n   * @param {object} event - event object which will be passed to all listeners of the event.type property\n   */\n  SocketIO.prototype.dispatchEvent = function dispatchEvent (event) {\n    var this$1 = this;\n    var customArguments = [], len = arguments.length - 1;\n    while ( len-- > 0 ) customArguments[ len ] = arguments[ len + 1 ];\n\n    var eventName = event.type;\n    var listeners = this.listeners[eventName];\n\n    if (!Array.isArray(listeners)) {\n      return false;\n    }\n\n    listeners.forEach(function (listener) {\n      if (customArguments.length > 0) {\n        listener.apply(this$1, customArguments);\n      } else {\n        // Regular WebSockets expect a MessageEvent but Socketio.io just wants raw data\n        //  payload instanceof MessageEvent works, but you can't isntance of NodeEvent\n        //  for now we detect if the output has data defined on it\n        listener.call(this$1, event.data ? event.data : event);\n      }\n    });\n  };\n\n  Object.defineProperties( SocketIO.prototype, prototypeAccessors );\n\n  return SocketIO;\n}(EventTarget));\n\nSocketIO$1.CONNECTING = 0;\nSocketIO$1.OPEN = 1;\nSocketIO$1.CLOSING = 2;\nSocketIO$1.CLOSED = 3;\n\n/*\n * Static constructor methods for the IO Socket\n */\nvar IO = function ioConstructor(url, protocol) {\n  return new SocketIO$1(url, protocol);\n};\n\n/*\n * Alias the raw IO() constructor\n */\nIO.connect = function ioConnect(url, protocol) {\n  /* eslint-disable new-cap */\n  return IO(url, protocol);\n  /* eslint-enable new-cap */\n};\n\nvar dedupe = function (arr) { return arr.reduce(function (deduped, b) {\n    if (deduped.indexOf(b) > -1) { return deduped; }\n    return deduped.concat(b);\n  }, []); };\n\nfunction retrieveGlobalObject() {\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  return typeof process === 'object' && typeof require === 'function' && typeof global === 'object' ? global : this;\n}\n\nvar defaultOptions = {\n  mock: true,\n  verifyClient: null,\n  selectProtocol: null\n};\n\nvar Server$1 = (function (EventTarget$$1) {\n  function Server(url, options) {\n    if ( options === void 0 ) options = defaultOptions;\n\n    EventTarget$$1.call(this);\n    var urlRecord = new urlParse(url);\n\n    if (!urlRecord.pathname) {\n      urlRecord.pathname = '/';\n    }\n\n    this.url = urlRecord.toString();\n\n    this.originalWebSocket = null;\n    var server = networkBridge.attachServer(this, this.url);\n\n    if (!server) {\n      this.dispatchEvent(createEvent({ type: 'error' }));\n      throw new Error('A mock server is already listening on this url');\n    }\n\n    this.options = Object.assign({}, defaultOptions, options);\n\n    if (this.options.mock) {\n      this.mockWebsocket();\n    }\n  }\n\n  if ( EventTarget$$1 ) Server.__proto__ = EventTarget$$1;\n  Server.prototype = Object.create( EventTarget$$1 && EventTarget$$1.prototype );\n  Server.prototype.constructor = Server;\n\n  /*\n   * Attaches the mock websocket object to the global object\n   */\n  Server.prototype.mockWebsocket = function mockWebsocket () {\n    var globalObj = retrieveGlobalObject();\n\n    this.originalWebSocket = globalObj.WebSocket;\n    globalObj.WebSocket = WebSocket$1;\n  };\n\n  /*\n   * Removes the mock websocket object from the global object\n   */\n  Server.prototype.restoreWebsocket = function restoreWebsocket () {\n    var globalObj = retrieveGlobalObject();\n\n    if (this.originalWebSocket !== null) {\n      globalObj.WebSocket = this.originalWebSocket;\n    }\n\n    this.originalWebSocket = null;\n  };\n\n  /**\n   * Removes itself from the urlMap so another server could add itself to the url.\n   * @param {function} callback - The callback is called when the server is stopped\n   */\n  Server.prototype.stop = function stop (callback) {\n    if ( callback === void 0 ) callback = function () {};\n\n    if (this.options.mock) {\n      this.restoreWebsocket();\n    }\n\n    networkBridge.removeServer(this.url);\n\n    if (typeof callback === 'function') {\n      callback();\n    }\n  };\n\n  /*\n   * This is the main function for the mock server to subscribe to the on events.\n   *\n   * ie: mockServer.on('connection', function() { console.log('a mock client connected'); });\n   *\n   * @param {string} type - The event key to subscribe to. Valid keys are: connection, message, and close.\n   * @param {function} callback - The callback which should be called when a certain event is fired.\n   */\n  Server.prototype.on = function on (type, callback) {\n    this.addEventListener(type, callback);\n  };\n\n  /*\n   * Remove event listener\n   */\n  Server.prototype.off = function off (type, callback) {\n    this.removeEventListener(type, callback);\n  };\n\n  /*\n   * Closes the connection and triggers the onclose method of all listening\n   * websockets. After that it removes itself from the urlMap so another server\n   * could add itself to the url.\n   *\n   * @param {object} options\n   */\n  Server.prototype.close = function close (options) {\n    if ( options === void 0 ) options = {};\n\n    var code = options.code;\n    var reason = options.reason;\n    var wasClean = options.wasClean;\n    var listeners = networkBridge.websocketsLookup(this.url);\n\n    // Remove server before notifications to prevent immediate reconnects from\n    // socket onclose handlers\n    networkBridge.removeServer(this.url);\n\n    listeners.forEach(function (socket) {\n      socket.readyState = WebSocket$1.CLOSED;\n      socket.dispatchEvent(\n        createCloseEvent({\n          type: 'close',\n          target: socket.target,\n          code: code || CLOSE_CODES.CLOSE_NORMAL,\n          reason: reason || '',\n          wasClean: wasClean\n        })\n      );\n    });\n\n    this.dispatchEvent(createCloseEvent({ type: 'close' }), this);\n  };\n\n  /*\n   * Sends a generic message event to all mock clients.\n   */\n  Server.prototype.emit = function emit (event, data, options) {\n    var this$1 = this;\n    if ( options === void 0 ) options = {};\n\n    var websockets = options.websockets;\n\n    if (!websockets) {\n      websockets = networkBridge.websocketsLookup(this.url);\n    }\n\n    var normalizedData;\n    if (typeof options !== 'object' || arguments.length > 3) {\n      data = Array.prototype.slice.call(arguments, 1, arguments.length);\n      normalizedData = data.map(function (item) { return normalizeSendData(item); });\n    } else {\n      normalizedData = normalizeSendData(data);\n    }\n\n    websockets.forEach(function (socket) {\n      var messageData = socket instanceof SocketIO$1 ? data : normalizedData;\n      if (Array.isArray(messageData)) {\n        socket.dispatchEvent.apply(\n          socket, [ createMessageEvent({\n            type: event,\n            data: messageData,\n            origin: this$1.url,\n            target: socket.target\n          }) ].concat( messageData )\n        );\n      } else {\n        socket.dispatchEvent(\n          createMessageEvent({\n            type: event,\n            data: messageData,\n            origin: this$1.url,\n            target: socket.target\n          })\n        );\n      }\n    });\n  };\n\n  /*\n   * Returns an array of websockets which are listening to this server\n   * TOOD: this should return a set and not be a method\n   */\n  Server.prototype.clients = function clients () {\n    return networkBridge.websocketsLookup(this.url);\n  };\n\n  /*\n   * Prepares a method to submit an event to members of the room\n   *\n   * e.g. server.to('my-room').emit('hi!');\n   */\n  Server.prototype.to = function to (room, broadcaster, broadcastList) {\n    var this$1 = this;\n    if ( broadcastList === void 0 ) broadcastList = [];\n\n    var self = this;\n    var websockets = dedupe(broadcastList.concat(networkBridge.websocketsLookup(this.url, room, broadcaster)));\n\n    return {\n      to: function (chainedRoom, chainedBroadcaster) { return this$1.to.call(this$1, chainedRoom, chainedBroadcaster, websockets); },\n      emit: function emit(event, data) {\n        self.emit(event, data, { websockets: websockets });\n      }\n    };\n  };\n\n  /*\n   * Alias for Server.to\n   */\n  Server.prototype.in = function in$1 () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    return this.to.apply(null, args);\n  };\n\n  /*\n   * Simulate an event from the server to the clients. Useful for\n   * simulating errors.\n   */\n  Server.prototype.simulate = function simulate (event) {\n    var listeners = networkBridge.websocketsLookup(this.url);\n\n    if (event === 'error') {\n      listeners.forEach(function (socket) {\n        socket.readyState = WebSocket$1.CLOSED;\n        socket.dispatchEvent(createEvent({ type: 'error', target: socket.target }));\n      });\n    }\n  };\n\n  return Server;\n}(EventTarget));\n\n/*\n * Alternative constructor to support namespaces in socket.io\n *\n * http://socket.io/docs/rooms-and-namespaces/#custom-namespaces\n */\nServer$1.of = function of(url) {\n  return new Server$1(url);\n};\n\nvar Server = Server$1;\nvar WebSocket = WebSocket$1;\nvar SocketIO$$1 = IO;\n\nexports.Server = Server;\nexports.WebSocket = WebSocket;\nexports.SocketIO = SocketIO$$1;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n"],"names":["exports","commonjsGlobal","window","g","self","requiresPort","port","protocol","split","has","Object","prototype","hasOwnProperty","decode","input","decodeURIComponent","replace","e","encode","encodeURIComponent","querystringify_1","stringify","obj","prefix","value","key","pairs","call","isNaN","push","length","join","parse","query","part","parser","result","exec","CRHTLF","slashes","protocolre","windowsDriveLetter","whitespace","trimLeft","str","toString","rules","address","url","isSpecial","NaN","undefined","ignore","hash","lolcation","loc","location","finaldestination","type","Url","unescape","pathname","test","href","scheme","extractProtocol","rest","match","toLowerCase","forwardSlashes","otherSlashes","slashesCount","slice","this","relative","extracted","instruction","index","instructions","i","lastIndexOf","indexOf","charAt","base","path","concat","last","unshift","up","splice","resolve","host","hostname","username","password","auth","origin","set","fn","pop","char","ins","qs","urlParse","delay","callback","context","setTimeout","timeoutContext","log","method","message","process","console","reject","array","results","forEach","itemInArray","EventTarget","listeners","trimQueryPartFromURL","queryIndex","addEventListener","listener","Array","isArray","filter","item","removeEventListener","removingListener","arrayOfListeners","dispatchEvent","event","this$1","customArguments","len","arguments","eventName","apply","NetworkBridge","urlMap","attachWebSocket","websocket","serverURL","connectionLookup","server","websockets","addMembershipToRoom","room","roomMemberships","attachServer","serverUrl","serverLookup","websocketsLookup","broadcaster","removeServer","removeWebSocket","socket","removeMembershipFromRoom","memberships","networkBridge","CLOSE_CODES","CLOSE_NORMAL","CLOSE_GOING_AWAY","CLOSE_PROTOCOL_ERROR","CLOSE_UNSUPPORTED","CLOSE_NO_STATUS","CLOSE_ABNORMAL","UNSUPPORTED_DATA","POLICY_VIOLATION","CLOSE_TOO_LARGE","MISSING_EXTENSION","INTERNAL_ERROR","SERVICE_RESTART","TRY_AGAIN_LATER","TLS_HANDSHAKE","ERROR_PREFIX","CONSTRUCTOR_ERROR","CLOSE_ERROR","EVENT","CONSTRUCT","MESSAGE","CLOSE","EventPrototype","stopPropagation","stopImmediatePropagation","initEvent","bubbles","cancelable","Boolean","Event","EventPrototype$$1","eventInitConfig","TypeError","timeStamp","Date","now","target","srcElement","returnValue","isTrusted","eventPhase","defaultPrevented","currentTarget","cancelBubble","__proto__","create","constructor","MessageEvent","data","lastEventId","ports","canncelBubble","CloseEvent","code","reason","wasClean","parseInt","createEvent","config","eventObject","createMessageEvent","messageEvent","createCloseEvent","closeEvent","closeWebSocketConnection","readyState","WebSocket$1","CLOSING","CLOSED","normalizeSendData","ArrayBuffer","String","proxies","WeakMap","proxyFactory","get","proxy","Proxy","prop","options","toSocketName","cb","EventTarget$$1","WebSocket","protocols","_onopen","_onmessage","_onerror","_onclose","urlRecord","SyntaxError","urlVerification","uniq","map","p","count","reduce","a","b","duplicates","keys","protocolVerification","binaryType","CONNECTING","client","verifyClient","selectProtocol","selectedProtocol","isFilled","isRequested","OPEN","prototypeAccessors","onopen","onmessage","onclose","onerror","send","Error","close","m","errorEvent","failWebSocketConnection","defineProperties","SocketIO$1","SocketIO","broadcast","disconnect","emit","to","in","on","off","hasListeners","leave","IO","connect","retrieveGlobalObject","defaultOptions","mock","Server$1","Server","originalWebSocket","assign","mockWebsocket","globalObj","restoreWebsocket","stop","normalizedData","messageData","clients","broadcastList","deduped","chainedRoom","chainedBroadcaster","args","simulate","of","SocketIO$$1","defineProperty","factory","cachedSetTimeout","cachedClearTimeout","module","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","version","versions","addListener","once","removeListener","removeAllListeners","prependListener","prependOnceListener","name","binding","cwd","chdir","dir","umask"],"sourceRoot":""}