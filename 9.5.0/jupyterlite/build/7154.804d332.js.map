{"version":3,"file":"7154.804d332.js","mappings":"uIACA,IAAIA,EAAYC,MAAQA,KAAKD,UAAa,SAASE,GAC/C,IAAIC,EAAsB,mBAAXC,QAAyBA,OAAOC,SAAUC,EAAIH,GAAKD,EAAEC,GAAII,EAAI,EAC5E,GAAID,EAAG,OAAOA,EAAEE,KAAKN,GACrB,GAAIA,GAAyB,iBAAbA,EAAEO,OAAqB,MAAO,CAC1CC,KAAM,WAEF,OADIR,GAAKK,GAAKL,EAAEO,SAAQP,OAAI,GACrB,CAAES,MAAOT,GAAKA,EAAEK,KAAMK,MAAOV,EACxC,GAEJ,MAAM,IAAIW,UAAUV,EAAI,0BAA4B,kCACxD,EACIW,EAAUb,MAAQA,KAAKa,QAAW,SAAUZ,EAAGa,GAC/C,IAAIT,EAAsB,mBAAXF,QAAyBF,EAAEE,OAAOC,UACjD,IAAKC,EAAG,OAAOJ,EACf,IAAmBc,EAAYC,EAA3BV,EAAID,EAAEE,KAAKN,GAAOgB,EAAK,GAC3B,IACI,WAAc,IAANH,GAAgBA,KAAM,MAAQC,EAAIT,EAAEG,QAAQE,MAAMM,EAAGC,KAAKH,EAAEL,MACxE,CACA,MAAOS,GAASH,EAAI,CAAEG,MAAOA,EAAS,CACtC,QACI,IACQJ,IAAMA,EAAEJ,OAASN,EAAIC,EAAU,SAAID,EAAEE,KAAKD,EAClD,CACA,QAAU,GAAIU,EAAG,MAAMA,EAAEG,KAAO,CACpC,CACA,OAAOF,CACX,EACIG,EAAiBpB,MAAQA,KAAKoB,eAAkB,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBC,UAAUhB,OAAc,IAAK,IAA4BS,EAAxBX,EAAI,EAAGmB,EAAIH,EAAKd,OAAYF,EAAImB,EAAGnB,KACxEW,GAAQX,KAAKgB,IACRL,IAAIA,EAAKS,MAAMC,UAAUC,MAAMrB,KAAKe,EAAM,EAAGhB,IAClDW,EAAGX,GAAKgB,EAAKhB,IAGrB,OAAOe,EAAGQ,OAAOZ,GAAMS,MAAMC,UAAUC,MAAMrB,KAAKe,GACtD,EACAQ,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtDsB,EAAQC,qBAAkB,EAC1B,IAAIA,EAAmB,WACnB,SAASA,EAAgBC,GACrB,IAAIC,EAAKC,OACK,IAAVF,IAAoBA,EAAQ,MAChClC,KAAKqC,YAAc,UACnBrC,KAAKsC,QAAU,IAAIC,IACnBvC,KAAKwC,KAAO,CAAC,EACC,OAAVN,IACAA,EAAQlC,KAAKyC,YAAYC,cAE7B,IACI,IAAK,IAAIC,EAAK5C,EAAS+B,OAAOc,KAAKV,IAASW,EAAKF,EAAGlC,QAASoC,EAAGlC,KAAMkC,EAAKF,EAAGlC,OAAQ,CAClF,IAAIqC,EAAOD,EAAGnC,MACdV,KAAK+C,aAAaD,EAAMZ,EAAMY,GAClC,CACJ,CACA,MAAOE,GAASb,EAAM,CAAEhB,MAAO6B,EAAS,CACxC,QACI,IACQH,IAAOA,EAAGlC,OAASyB,EAAKO,EAAGM,SAASb,EAAG7B,KAAKoC,EACpD,CACA,QAAU,GAAIR,EAAK,MAAMA,EAAIhB,KAAO,CACxC,CACJ,CAkCA,OAjCAc,EAAgBN,UAAUuB,OAAS,SAAUJ,GAEzC,IADA,IAAIK,EAAO,GACFC,EAAK,EAAGA,EAAK5B,UAAUhB,OAAQ4C,IACpCD,EAAKC,EAAK,GAAK5B,UAAU4B,GAE7B,OAAQpD,KAAKwC,KAAKM,IAAS9C,KAAKwC,KAAKxC,KAAKqC,cAAcgB,WAAM,EAAQjC,EAAc,GAAIP,EAAOsC,IAAO,GAC1G,EACAlB,EAAgBN,UAAUoB,aAAe,SAAUD,EAAMQ,GACrDtD,KAAKsC,QAAQiB,IAAIT,EAAMQ,GACvB,IAAIE,EAAOxD,KACPyD,EAAOzD,KAAKsC,QAAQoB,IAAIZ,GAC5B9C,KAAKwC,KAAKM,GAAQ,WAEd,IADA,IAAIK,EAAO,GACFC,EAAK,EAAGA,EAAK5B,UAAUhB,OAAQ4C,IACpCD,EAAKC,GAAM5B,UAAU4B,GAEzB,OAAO,IAAKK,EAAKE,KAAKN,MAAMI,EAAMrC,EAAc,MAAC,EAAQoC,GAAO3C,EAAOsC,IAAO,IAClF,CACJ,EACAlB,EAAgBN,UAAUiC,aAAe,SAAUd,GAC/C,OAAO9C,KAAKsC,QAAQoB,IAAIZ,EAC5B,EACAb,EAAgBN,UAAUkC,gBAAkB,SAAUf,GAClD9C,KAAKsC,QAAQwB,OAAOhB,UACb9C,KAAKwC,KAAKM,EACrB,EACAb,EAAgBN,UAAUoC,WAAa,SAAUvB,EAAMM,GACnD,OAAQN,aAAgBxC,KAAK4D,aAAad,EAC9C,EACAb,EAAgBN,UAAUqC,SAAW,WACjC,OAAOtC,MAAMJ,KAAKtB,KAAKsC,QAAQM,OACnC,EACAX,EAAgBS,aAAe,CAAC,EACzBT,CACX,CA1DsB,GA2DtBD,EAAQC,gBAAkBA,C,wBCjG1B,IAAIpB,EAAUb,MAAQA,KAAKa,QAAW,SAAUZ,EAAGa,GAC/C,IAAIT,EAAsB,mBAAXF,QAAyBF,EAAEE,OAAOC,UACjD,IAAKC,EAAG,OAAOJ,EACf,IAAmBc,EAAYC,EAA3BV,EAAID,EAAEE,KAAKN,GAAOgB,EAAK,GAC3B,IACI,WAAc,IAANH,GAAgBA,KAAM,MAAQC,EAAIT,EAAEG,QAAQE,MAAMM,EAAGC,KAAKH,EAAEL,MACxE,CACA,MAAOS,GAASH,EAAI,CAAEG,MAAOA,EAAS,CACtC,QACI,IACQJ,IAAMA,EAAEJ,OAASN,EAAIC,EAAU,SAAID,EAAEE,KAAKD,EAClD,CACA,QAAU,GAAIU,EAAG,MAAMA,EAAEG,KAAO,CACpC,CACA,OAAOF,CACX,EACIG,EAAiBpB,MAAQA,KAAKoB,eAAkB,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBC,UAAUhB,OAAc,IAAK,IAA4BS,EAAxBX,EAAI,EAAGmB,EAAIH,EAAKd,OAAYF,EAAImB,EAAGnB,KACxEW,GAAQX,KAAKgB,IACRL,IAAIA,EAAKS,MAAMC,UAAUC,MAAMrB,KAAKe,EAAM,EAAGhB,IAClDW,EAAGX,GAAKgB,EAAKhB,IAGrB,OAAOe,EAAGQ,OAAOZ,GAAMS,MAAMC,UAAUC,MAAMrB,KAAKe,GACtD,EACI2C,EAAmBjE,MAAQA,KAAKiE,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACApC,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtDsB,EAAQoC,iBAAc,EACtB,IAAIC,EAAgBJ,EAAgB,EAAQ,QACxCG,EAAe,WACf,SAASA,IACLpE,KAAKsE,WAAa,KAClBtE,KAAKuE,QAAU,CAAE,KAAQH,EAAYI,WACjC,MAASJ,EAAYK,YACrB,KAAQL,EAAYM,WACpB,MAASN,EAAYO,YAE7B,CAwDA,OAvDAP,EAAYI,WAAa,SAAUD,EAASzB,EAAM8B,EAAUC,EAAKC,QAC5C,IAAbF,IAAuBA,EAAW,SAC1B,IAARC,IAAkBA,EAAM,CAAC,GAC7B,IAAIrC,EAAO+B,EAAQD,WAAWpB,OAAOJ,GAMrC,OALAN,EAAKuC,YAAYH,GACbE,GACAtC,EAAKwC,YAAYF,GAErBT,EAAcY,QAAQC,cAAc1C,EAAMqC,GACnCrC,CACX,EACA4B,EAAYK,YAAc,SAAUF,EAASzB,EAAM+B,EAAKC,QACxC,IAARD,IAAkBA,EAAM,CAAC,QAChB,IAATC,IAAmBA,EAAO,IAC9B,IAAIK,EAAWZ,EAAQrB,OAAO,OAAQ4B,GACtC,OAAOP,EAAQrB,OAAO,OAAQJ,EAAM,GAAI+B,EAAKM,EACjD,EACAf,EAAYM,WAAa,SAAUH,EAASO,GACxC,OAAY,MAARA,EACO,KAEJP,EAAQD,WAAWpB,OAAO,QAAQkC,QAAQN,EACrD,EACAV,EAAYO,YAAc,SAAUJ,EAASc,GACzC,IAAIP,EAAOP,EAAQrB,OAAO,OAAQmC,GAC9BC,EAAQf,EAAQrB,OAAO,OAAQ,QAAS,GAAI,CAAC,EAAG4B,GAEpD,OADYP,EAAQrB,OAAO,OAAQ,SAAU,CAACoC,GAAQ,CAAE,iBAAkBD,GAE9E,EACAjB,EAAYzC,UAAU4D,cAAgB,SAAUjB,GAC5CtE,KAAKsE,WAAaA,CACtB,EACAF,EAAYzC,UAAU4B,IAAM,SAAUT,EAAM0C,GACxCxF,KAAKuE,QAAQzB,GAAQ0C,CACzB,EACApB,EAAYzC,UAAU8D,YAAc,SAAUC,GAC1C,IAAK,IAAI5C,KAAQ4C,EACb1F,KAAKuD,IAAIT,EAAM4C,EAAK5C,GAE5B,EACAsB,EAAYzC,UAAUuB,OAAS,SAAUJ,GAErC,IADA,IAAI6C,EAAO,GACFvC,EAAK,EAAGA,EAAK5B,UAAUhB,OAAQ4C,IACpCuC,EAAKvC,EAAK,GAAK5B,UAAU4B,GAE7B,IACIZ,GADOxC,KAAKuE,QAAQzB,IAAS9C,KAAKuE,QAAc,MACpClB,WAAM,EAAQjC,EAAc,CAACpB,KAAM2F,EAAK,IAAK9E,EAAO8E,EAAK/D,MAAM,KAAK,IAIpF,MAHa,SAATkB,GACA9C,KAAK4F,cAAcC,QAAQF,EAAK,GAAInD,GAEjCA,CACX,EACA4B,EAAYzC,UAAU+B,IAAM,SAAUZ,GAClC,OAAO9C,KAAKuE,QAAQzB,EACxB,EACOsB,CACX,CAjEkB,GAkElBpC,EAAQoC,YAAcA,C,uBCjGtB,IAAIvD,EAAUb,MAAQA,KAAKa,QAAW,SAAUZ,EAAGa,GAC/C,IAAIT,EAAsB,mBAAXF,QAAyBF,EAAEE,OAAOC,UACjD,IAAKC,EAAG,OAAOJ,EACf,IAAmBc,EAAYC,EAA3BV,EAAID,EAAEE,KAAKN,GAAOgB,EAAK,GAC3B,IACI,WAAc,IAANH,GAAgBA,KAAM,MAAQC,EAAIT,EAAEG,QAAQE,MAAMM,EAAGC,KAAKH,EAAEL,MACxE,CACA,MAAOS,GAASH,EAAI,CAAEG,MAAOA,EAAS,CACtC,QACI,IACQJ,IAAMA,EAAEJ,OAASN,EAAIC,EAAU,SAAID,EAAEE,KAAKD,EAClD,CACA,QAAU,GAAIU,EAAG,MAAMA,EAAEG,KAAO,CACpC,CACA,OAAOF,CACX,EACIG,EAAiBpB,MAAQA,KAAKoB,eAAkB,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBC,UAAUhB,OAAc,IAAK,IAA4BS,EAAxBX,EAAI,EAAGmB,EAAIH,EAAKd,OAAYF,EAAImB,EAAGnB,KACxEW,GAAQX,KAAKgB,IACRL,IAAIA,EAAKS,MAAMC,UAAUC,MAAMrB,KAAKe,EAAM,EAAGhB,IAClDW,EAAGX,GAAKgB,EAAKhB,IAGrB,OAAOe,EAAGQ,OAAOZ,GAAMS,MAAMC,UAAUC,MAAMrB,KAAKe,GACtD,EACI2C,EAAmBjE,MAAQA,KAAKiE,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACApC,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtD,IAGIoF,EAHAzB,EAAgBJ,EAAgB,EAAQ,QACxC8B,EAAoB,EAAQ,OAC5BC,EAAiB/B,EAAgB,EAAQ,SAE7C,SAAW6B,GAcPA,EAAaG,SAbb,SAAkBC,EAAQC,GACtB,IAAItB,EAAMmB,EAAef,QAAQmB,WAAWF,GACxCG,EAAMH,EAAOI,MAAMD,IACnBA,EAAIE,wBAAuC,KAAbF,EAAIG,OAClCL,EAAID,EAAOO,OAAOC,OAAOR,EAAO5F,EAAI,GAAGqG,MAAMN,EAAIE,wBAAwB,GACzEL,EAAO5F,GAAK6F,EAAE3F,OAAS,EACnBqE,EAAI+B,cAAgBb,EAAkBc,YAAYC,QAAQC,QAAUV,EAAIW,UAAYb,EAAE3F,OAAS,IAC/FqE,EAAIoC,QAAS,IAGrB,IAAIzE,EAAO0D,EAAOhD,OAAO,QAAS,KAAM2B,EAAKsB,GAC7CD,EAAOgB,KAAK1E,EAChB,EAgBAsD,EAAaqB,MAdb,SAAejB,EAAQC,GACnB,IAAIiB,EACAC,EAAUnB,EAAON,cAAc0B,QAAgB,OAC/CxG,EAAIoF,EAAOO,OAAO7E,MAAMsE,EAAO5F,EAAI,GAAGqG,MAAMU,GAC5CxC,EAAMmB,EAAef,QAAQmB,WAAWF,GACxCpF,GACAsG,EAAMlB,EAAOhD,OAAO,QAAS,KAAM2B,EAAK/D,EAAE,GAAGyG,QAAQ,QAAS,KAC9DrB,EAAO5F,GAAKQ,EAAE,GAAGN,OAAS,GAG1B4G,EAAMlB,EAAOhD,OAAO,QAAS,KAAM2B,EAAKsB,GAE5CD,EAAOgB,KAAKE,EAChB,EAMAtB,EAAa0B,gBAJb,SAAyBtB,EAAQrD,GAC7B,IAAI4E,EAAOvB,EAAOwB,QAClBxB,EAAOyB,MAAM,QAAS,CAACzB,EAAQuB,GACnC,EAOA3B,EAAa8B,YALb,SAAqB1B,EAAQ2B,GACzB,IAAIhD,EAAMgD,EAAMC,YAAc,CAAElB,YAAab,EAAkBc,YAAYC,QAAQiB,QAC/EvF,EAAO0D,EAAOhD,OAAO,QAAS,KAAM2B,EAAKgD,EAAMG,MACnD9B,EAAOgB,KAAK1E,EAChB,EAUAsD,EAAamC,YARb,SAAqB/B,EAAQ2B,GACzB,IAAIhD,EAAMgD,EAAMC,YAAc,CAAC,EAC/BjD,EAAc,UAAI,EAClB,IAAIrC,EAAO0D,EAAOhD,OAAO,QAAS,KAAM2B,EAAKgD,EAAMG,MACnD3D,EAAcY,QAAQiD,YAAY1F,EAAM,eAAe,GACvD0D,EAAON,cAAcC,QAAQ,cAAerD,GAC5C0D,EAAOgB,KAAK1E,EAChB,EAUAsD,EAAaqC,UARb,SAAmBjC,EAAQ2B,GACvB,IAAIhD,EAAMgD,EAAMC,YAAc,CAAElB,YAAab,EAAkBc,YAAYC,QAAQC,QAC/Eb,EAAOI,MAAMD,IAAU,OACvBxB,EAAiB,YAAIqB,EAAOI,MAAMD,IAAU,MAEhD,IAAI7D,EAAO0D,EAAOhD,OAAO,QAAS,KAAM2B,EAAKgD,EAAMG,MACnD9B,EAAOgB,KAAK1E,EAChB,EAQAsD,EAAasC,UANb,SAAmBlC,EAAQmC,GACvB,IAAIxD,EAAMwD,EAAMP,YAAc,CAAC,EAC/BjD,EAAM/C,OAAOwG,OAAO,CAAEC,OAAO,EAAOC,UAAU,GAAS3D,GACvD,IAAIrC,EAAO0D,EAAOhD,OAAO,QAAS,KAAM2B,EAAKwD,EAAML,MACnD9B,EAAOgB,KAAK1E,EAChB,EAQAsD,EAAa2C,YANb,SAAqBvC,EAAQG,EAAKb,EAAMrC,GACpC,IAAIuF,EAAMvF,EAAK,GACXiE,EAAMlB,EAAOyC,YAAYzF,OAAO,SAASgC,cAAc,CAAEuC,KAAMpB,EAAKqC,IAAKA,IAC7EtB,EAAM5B,EAAKnC,WAAM,EAAQjC,EAAc,CAAC8E,EAAQkB,GAAMvG,EAAOsC,EAAKvB,MAAM,KAAK,IAC7EsE,EAAOgB,KAAKE,EAChB,CAEH,CAzED,CAyEGtB,IAAiBA,EAAe,CAAC,IACpC9D,EAAA,QAAkB8D,C,wBC3GlB,IAAIjF,EAAUb,MAAQA,KAAKa,QAAW,SAAUZ,EAAGa,GAC/C,IAAIT,EAAsB,mBAAXF,QAAyBF,EAAEE,OAAOC,UACjD,IAAKC,EAAG,OAAOJ,EACf,IAAmBc,EAAYC,EAA3BV,EAAID,EAAEE,KAAKN,GAAOgB,EAAK,GAC3B,IACI,WAAc,IAANH,GAAgBA,KAAM,MAAQC,EAAIT,EAAEG,QAAQE,MAAMM,EAAGC,KAAKH,EAAEL,MACxE,CACA,MAAOS,GAASH,EAAI,CAAEG,MAAOA,EAAS,CACtC,QACI,IACQJ,IAAMA,EAAEJ,OAASN,EAAIC,EAAU,SAAID,EAAEE,KAAKD,EAClD,CACA,QAAU,GAAIU,EAAG,MAAMA,EAAEG,KAAO,CACpC,CACA,OAAOF,CACX,EACIG,EAAiBpB,MAAQA,KAAKoB,eAAkB,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBC,UAAUhB,OAAc,IAAK,IAA4BS,EAAxBX,EAAI,EAAGmB,EAAIH,EAAKd,OAAYF,EAAImB,EAAGnB,KACxEW,GAAQX,KAAKgB,IACRL,IAAIA,EAAKS,MAAMC,UAAUC,MAAMrB,KAAKe,EAAM,EAAGhB,IAClDW,EAAGX,GAAKgB,EAAKhB,IAGrB,OAAOe,EAAGQ,OAAOZ,GAAMS,MAAMC,UAAUC,MAAMrB,KAAKe,GACtD,EACIvB,EAAYC,MAAQA,KAAKD,UAAa,SAASE,GAC/C,IAAIC,EAAsB,mBAAXC,QAAyBA,OAAOC,SAAUC,EAAIH,GAAKD,EAAEC,GAAII,EAAI,EAC5E,GAAID,EAAG,OAAOA,EAAEE,KAAKN,GACrB,GAAIA,GAAyB,iBAAbA,EAAEO,OAAqB,MAAO,CAC1CC,KAAM,WAEF,OADIR,GAAKK,GAAKL,EAAEO,SAAQP,OAAI,GACrB,CAAES,MAAOT,GAAKA,EAAEK,KAAMK,MAAOV,EACxC,GAEJ,MAAM,IAAIW,UAAUV,EAAI,0BAA4B,kCACxD,EACI+D,EAAmBjE,MAAQA,KAAKiE,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACApC,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtD,IAAIkI,EAAwB3E,EAAgB,EAAQ,QAChD4E,EAAmB,EAAQ,OAC3BxE,EAAgBJ,EAAgB,EAAQ,QACxC6E,EAAe,EAAQ,MACvBC,EAAgB,WAChB,SAASA,EAAanD,EAAe0B,QACjB,IAAZA,IAAsBA,EAAU,IACpCtH,KAAKsH,QAAU,CAAC,EAChBtH,KAAKgJ,YAAc,IAAIzG,IACvBvC,KAAKiJ,QAAU,GACfjJ,KAAKkJ,KAAO,KACZlJ,KAAKmJ,UAAY,CAAC,EAClBnJ,KAAKmB,OAAQ,EACbnB,KAAKoJ,SAAWxD,EAAcwD,SAC9BpJ,KAAKqJ,YAAc,IAAIR,EAAiBzE,YACxCpE,KAAKqJ,YAAYzD,cAAgB5F,KACjCA,KAAKqJ,YAAY5D,YAAYG,EAAc1D,OAC3ClC,KAAK2I,YAAc,IAAIC,EAAsB3D,QAAQW,EAAc0D,OACnEtJ,KAAK2I,YAAY/C,cAAgB5F,KACjC8I,EAAaS,eAAelG,WAAM,EAAQjC,EAAc,CAACpB,KAAKsH,SAAUzG,EAAOyG,IAAU,KACzF,EAAIwB,EAAaS,gBAAgBvJ,KAAKsH,QAAS1B,EAAc0B,QACjE,CAiFA,OAhFAyB,EAAapH,UAAU6H,WAAa,SAAUtD,GAC1ClG,KAAKiJ,QAAQQ,QAAQvD,EACzB,EACA6C,EAAapH,UAAU+H,UAAY,WAC/B1J,KAAKiJ,QAAQU,OACjB,EACA7H,OAAOC,eAAegH,EAAapH,UAAW,SAAU,CACpD+B,IAAK,WACD,OAAO1D,KAAKiJ,QAAQ,EACxB,EACAW,YAAY,EACZC,cAAc,IAElBd,EAAapH,UAAUmI,MAAQ,WAC3B9J,KAAKiJ,QAAU,GACfjJ,KAAKkJ,KAAO,KACZlJ,KAAKmJ,UAAY,CAAC,EAClBnJ,KAAKmB,OAAQ,EACbnB,KAAK+J,KAAKC,UACd,EACAjB,EAAapH,UAAUkE,QAAU,SAAUoE,EAAUzH,GACjD,IAAI0H,EAAOlK,KAAKmJ,UAAUc,GAK1B,GAJKC,IACDA,EAAOlK,KAAKmJ,UAAUc,GAAY,IAEtCC,EAAKhJ,KAAKsB,GACNA,EAAKM,OAASmH,EAAU,CACxB,IAAIE,EAAW9F,EAAcY,QAAQmF,YAAY5H,EAAM,aAAe,GAClE6H,GAASF,EAAUA,EAAQG,MAAM,KAAO,IAAIzI,OAAOoI,GAAUM,KAAK,KACtElG,EAAcY,QAAQiD,YAAY1F,EAAM,WAAY6H,EACxD,CACJ,EACAtB,EAAapH,UAAU6I,QAAU,SAAUP,GACvC,IAAI9H,EAAKC,EACL8H,EAAOlK,KAAKmJ,UAAUc,IAAa,GACnCQ,EAAS,GACb,IACI,IAAK,IAAIC,EAAS3K,EAASmK,GAAOS,EAAWD,EAAOjK,QAASkK,EAAShK,KAAMgK,EAAWD,EAAOjK,OAAQ,CAClG,IAAI+B,EAAOmI,EAASjK,MAChBV,KAAK4K,OAAOpI,IACZiI,EAAOvJ,KAAKsB,EAEpB,CACJ,CACA,MAAOQ,GAASb,EAAM,CAAEhB,MAAO6B,EAAS,CACxC,QACI,IACQ2H,IAAaA,EAAShK,OAASyB,EAAKsI,EAAOzH,SAASb,EAAG7B,KAAKmK,EACpE,CACA,QAAU,GAAIvI,EAAK,MAAMA,EAAIhB,KAAO,CACxC,CAEA,OADAnB,KAAKmJ,UAAUc,GAAYQ,EACpBA,CACX,EACA1B,EAAapH,UAAUkJ,eAAiB,SAAUZ,EAAU/H,GACxD,IAAI4I,EAAK1I,EACL8H,EAAOlK,KAAKmJ,UAAUc,IAAa,GACvC,IACI,IAAK,IAAIc,EAAUhL,EAASmC,GAAQ8I,EAAYD,EAAQtK,QAASuK,EAAUrK,KAAMqK,EAAYD,EAAQtK,OAAQ,CACzG,IAAI+B,EAAOwI,EAAUtK,MACjBJ,EAAI4J,EAAKe,QAAQzI,GACjBlC,GAAK,GACL4J,EAAKgB,OAAO5K,EAAG,EAEvB,CACJ,CACA,MAAO6K,GAASL,EAAM,CAAE3J,MAAOgK,EAAS,CACxC,QACI,IACQH,IAAcA,EAAUrK,OAASyB,EAAK2I,EAAQ9H,SAASb,EAAG7B,KAAKwK,EACvE,CACA,QAAU,GAAID,EAAK,MAAMA,EAAI3J,KAAO,CACxC,CACJ,EACA4H,EAAapH,UAAUiJ,OAAS,SAAUpI,GACtC,KAAOA,GAAQA,IAASxC,KAAKkJ,MACzB1G,EAAOA,EAAK4I,OAEhB,QAAS5I,CACb,EACOuG,CACX,CAnGmB,GAoGnB/G,EAAA,QAAkB+G,C,wBChJlB,IACQsC,EADJC,EAAatL,MAAQA,KAAKsL,YACtBD,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBvJ,OAAO2J,gBAClB,CAAEC,UAAW,cAAgBhK,OAAS,SAAU6J,EAAGC,GAAKD,EAAEG,UAAYF,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAO1J,OAAOH,UAAUiK,eAAerL,KAAKiL,EAAGG,KAAIJ,EAAEI,GAAKH,EAAEG,GAAI,EAC7FN,EAAcE,EAAGC,EAC5B,EACO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5K,UAAU,uBAAyBiL,OAAOL,GAAK,iCAE7D,SAASM,IAAO9L,KAAKyC,YAAc8I,CAAG,CADtCF,EAAcE,EAAGC,GAEjBD,EAAE5J,UAAkB,OAAN6J,EAAa1J,OAAOoB,OAAOsI,IAAMM,EAAGnK,UAAY6J,EAAE7J,UAAW,IAAImK,EACnF,GAEAjL,EAAUb,MAAQA,KAAKa,QAAW,SAAUZ,EAAGa,GAC/C,IAAIT,EAAsB,mBAAXF,QAAyBF,EAAEE,OAAOC,UACjD,IAAKC,EAAG,OAAOJ,EACf,IAAmBc,EAAYC,EAA3BV,EAAID,EAAEE,KAAKN,GAAOgB,EAAK,GAC3B,IACI,WAAc,IAANH,GAAgBA,KAAM,MAAQC,EAAIT,EAAEG,QAAQE,MAAMM,EAAGC,KAAKH,EAAEL,MACxE,CACA,MAAOS,GAASH,EAAI,CAAEG,MAAOA,EAAS,CACtC,QACI,IACQJ,IAAMA,EAAEJ,OAASN,EAAIC,EAAU,SAAID,EAAEE,KAAKD,EAClD,CACA,QAAU,GAAIU,EAAG,MAAMA,EAAEG,KAAO,CACpC,CACA,OAAOF,CACX,EACIG,EAAiBpB,MAAQA,KAAKoB,eAAkB,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBC,UAAUhB,OAAc,IAAK,IAA4BS,EAAxBX,EAAI,EAAGmB,EAAIH,EAAKd,OAAYF,EAAImB,EAAGnB,KACxEW,GAAQX,KAAKgB,IACRL,IAAIA,EAAKS,MAAMC,UAAUC,MAAMrB,KAAKe,EAAM,EAAGhB,IAClDW,EAAGX,GAAKgB,EAAKhB,IAGrB,OAAOe,EAAGQ,OAAOZ,GAAMS,MAAMC,UAAUC,MAAMrB,KAAKe,GACtD,EACIvB,EAAYC,MAAQA,KAAKD,UAAa,SAASE,GAC/C,IAAIC,EAAsB,mBAAXC,QAAyBA,OAAOC,SAAUC,EAAIH,GAAKD,EAAEC,GAAII,EAAI,EAC5E,GAAID,EAAG,OAAOA,EAAEE,KAAKN,GACrB,GAAIA,GAAyB,iBAAbA,EAAEO,OAAqB,MAAO,CAC1CC,KAAM,WAEF,OADIR,GAAKK,GAAKL,EAAEO,SAAQP,OAAI,GACrB,CAAES,MAAOT,GAAKA,EAAEK,KAAMK,MAAOV,EACxC,GAEJ,MAAM,IAAIW,UAAUV,EAAI,0BAA4B,kCACxD,EACI+D,EAAmBjE,MAAQA,KAAKiE,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACApC,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtDsB,EAAQ+J,SAAW/J,EAAQgK,cAAW,EACtC,IAAIC,EAAgBhI,EAAgB,EAAQ,QACxC+H,EAAY,WACZ,SAASA,EAASE,GACdlM,KAAKkM,OAASA,CAClB,CAkEA,OAjEApK,OAAOC,eAAeiK,EAASrK,UAAW,QAAS,CAC/C+B,IAAK,WACD,OAAO1D,KAAKkM,MAChB,EACAtC,YAAY,EACZC,cAAc,IAElBmC,EAASrK,UAAUuF,KAAO,WAGtB,IAFA,IAAI9E,EACAF,EAAQ,GACHkB,EAAK,EAAGA,EAAK5B,UAAUhB,OAAQ4C,IACpClB,EAAMkB,GAAM5B,UAAU4B,IAEzBhB,EAAKpC,KAAKkM,QAAQhL,KAAKmC,MAAMjB,EAAIhB,EAAc,GAAIP,EAAOqB,IAAQ,GACvE,EACA8J,EAASrK,UAAUwK,IAAM,WACrB,OAAOnM,KAAKkM,OAAOE,KACvB,EACAtK,OAAOC,eAAeiK,EAASrK,UAAW,QAAS,CAC/C+B,IAAK,WACD,OAAO1D,KAAKkM,OAAOlM,KAAKqM,OAAS,EACrC,EACA9I,IAAK,SAAUf,GACXxC,KAAKkM,OAAOlM,KAAKqM,OAAS,GAAK7J,CACnC,EACAoH,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAeiK,EAASrK,UAAW,OAAQ,CAC9C+B,IAAK,WACD,OAAO1D,KAAKkM,OAAO,EACvB,EACA3I,IAAK,SAAUf,GACXxC,KAAKkM,OAAO,GAAK1J,CACrB,EACAoH,YAAY,EACZC,cAAc,IAElBmC,EAASrK,UAAU2K,KAAO,SAAUxL,GAIhC,OAHS,MAALA,IACAA,EAAI,GAEDd,KAAKkM,OAAOtK,MAAM5B,KAAKqM,OAASvL,EAC3C,EACAkL,EAASrK,UAAU0K,KAAO,WACtB,OAAOrM,KAAKkM,OAAO1L,MACvB,EACAwL,EAASrK,UAAU4K,MAAQ,WACvBvM,KAAKkM,OAAS,EAClB,EACAF,EAASrK,UAAU6K,MAAQ,SAAUC,EAAUC,GAE3C,YADiB,IAAbD,IAAuBA,GAAW,GACX,IAAvBzM,KAAKkM,OAAO1L,QAAiBkM,EAG1B1M,KAAKkD,OAAO,OAAQuJ,EAAW,eAAiB,OAAQzM,KAAKkM,OAAQ,CAAC,GAFlElM,KAAK2M,KAGpB,EACAX,EAASrK,UAAUuB,OAAS,SAAUJ,GAGlC,IAFA,IAAIV,EACAuD,EAAO,GACFvC,EAAK,EAAGA,EAAK5B,UAAUhB,OAAQ4C,IACpCuC,EAAKvC,EAAK,GAAK5B,UAAU4B,GAE7B,OAAQhB,EAAKpC,KAAKuE,QAAQqB,cAAcyD,aAAanG,OAAOG,MAAMjB,EAAIhB,EAAc,CAAC0B,GAAOjC,EAAO8E,IAAO,GAC9G,EACOqG,CACX,CAtEe,GAuEfhK,EAAQgK,SAAWA,EACnB,IAAID,EAAY,SAAUa,GAEtB,SAASb,EAASxH,GAEd,IADA,IAAIrC,EAAQ,GACHkB,EAAK,EAAGA,EAAK5B,UAAUhB,OAAQ4C,IACpClB,EAAMkB,EAAK,GAAK5B,UAAU4B,GAE9B,IAAIyJ,EAAQD,EAAOrM,KAAKP,KAAMkC,IAAUlC,KAOxC,OANA6M,EAAMtI,QAAUA,EAChBsI,EAAMC,OAAS,CAAC,EAChBD,EAAME,YAAc,CAAC,EACjBF,EAAMG,SACNH,EAAMI,KAAO,CAAC,GAEXJ,CACX,CAmHA,OAjIAvB,EAAUS,EAAUa,GAepB9K,OAAOC,eAAegK,EAASpK,UAAW,OAAQ,CAC9C+B,IAAK,WACD,MAAO,MACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAegK,EAASpK,UAAW,MAAO,CAC7C+B,IAAK,WACD,OAAO1D,KAAKiN,IAChB,EACA1J,IAAK,SAAU7C,GACXV,KAAKiN,KAAOvM,CAChB,EACAkJ,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAegK,EAASpK,UAAW,UAAW,CACjD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElBkC,EAASpK,UAAUyI,YAAc,SAAU8C,GACvC,OAAOlN,KAAK+M,YAAYG,EAC5B,EACAnB,EAASpK,UAAUuG,YAAc,SAAUgF,EAAKxM,GAE5C,OADAV,KAAK+M,YAAYG,GAAOxM,EACjBV,IACX,EACA8B,OAAOC,eAAegK,EAASpK,UAAW,SAAU,CAChD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAegK,EAASpK,UAAW,UAAW,CACjD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAegK,EAASpK,UAAW,UAAW,CACjD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElBkC,EAASpK,UAAUwL,OAAS,SAAUrK,GAClC,OAAOA,IAAS9C,KAAK8C,IACzB,EACAiJ,EAASpK,UAAUyL,UAAY,SAAUC,GAKrC,GAJIA,EAAKF,OAAO,SAAWnN,KAAKgN,SAC5BK,EAAKnF,YAAY,MAAOlI,KAAKwM,OAAM,IACnCxM,KAAKuM,SAELc,EAAKF,OAAO,SAAWnN,KAAKgN,OAAQ,CACpC,GAAIK,EAAKjD,YAAY,aACjB,OAAO2B,EAASuB,KAEpB,MAAM,IAAIrB,EAAchH,QAAQ,YAAa,eAAgBoI,EAAKE,UACtE,CACA,GAAIF,EAAKG,SAAWxN,KAAKyN,UAAUJ,EAAKvK,MAAO,CAC3C,IAAIV,EAAKvB,EAAOb,KAAKyN,UAAUJ,EAAKvK,MAAO,GAAI4K,EAAKtL,EAAG,GAAIiD,EAAUjD,EAAG,GACxE,MAAM,IAAI6J,EAAchH,QAAQyI,EAAIrI,EAASgI,EAAKE,UACtD,CACA,OAAKF,EAAKM,SAGV3N,KAAKkH,KAAKmG,EAAKV,OACRZ,EAASuB,MAHLvB,EAAS6B,OAIxB,EACA7B,EAASpK,UAAUkM,SAAW,WAC1B,IAAI1L,EAAKC,EACT,IACI,IAAK,IAAIO,EAAK5C,EAAS+B,OAAOc,KAAK5C,KAAKqG,MAAOxD,EAAKF,EAAGlC,QAASoC,EAAGlC,KAAMkC,EAAKF,EAAGlC,OAAQ,CACrF,IAAIiN,EAAK7K,EAAGnC,aACLV,KAAKqG,IAAIqH,EACpB,CACJ,CACA,MAAO1K,GAASb,EAAM,CAAEhB,MAAO6B,EAAS,CACxC,QACI,IACQH,IAAOA,EAAGlC,OAASyB,EAAKO,EAAGM,SAASb,EAAG7B,KAAKoC,EACpD,CACA,QAAU,GAAIR,EAAK,MAAMA,EAAIhB,KAAO,CACxC,CACJ,EACA4K,EAASpK,UAAUuD,cAAgB,SAAUL,GAEzC,OADA/C,OAAOwG,OAAOtI,KAAK+M,YAAalI,GACzB7E,IACX,EACA+L,EAASpK,UAAU4L,QAAU,WACzB,OAAOvN,KAAKoK,YAAY,OAC5B,EACA2B,EAASpK,UAAUmM,SAAW,WAC1B,OAAO9N,KAAK8C,KAAO,IAAM9C,KAAKkC,MAAMqI,KAAK,MAAQ,GACrD,EACAwB,EAASpK,UAAU8L,UAAY,SAAU3K,GAErC,OADY9C,KAAKyC,YACHsL,QAAU,CAAC,GAAGjL,IAASiJ,EAASgC,OAAOjL,EACzD,EACAiJ,EAASuB,KAAO,CAAC,MAAM,GACvBvB,EAAS6B,QAAU,CAAC,MAAM,GAC1B7B,EAASgC,OAAS,CACdrF,IAAK,CAAC,uBAAwB,0CAC9BsF,MAAO,CAAC,wBAAyB,2CACjCC,MAAO,CAAC,wBAAyB,mCACjCC,OAAQ,CAAC,cAAe,mBAErBnC,CACX,CAnIe,CAmIbC,GACFhK,EAAQ+J,SAAWA,C,wBCrQnB,IACQV,EAcJjJ,EAfAkJ,EAAatL,MAAQA,KAAKsL,YACtBD,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBvJ,OAAO2J,gBAClB,CAAEC,UAAW,cAAgBhK,OAAS,SAAU6J,EAAGC,GAAKD,EAAEG,UAAYF,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAO1J,OAAOH,UAAUiK,eAAerL,KAAKiL,EAAGG,KAAIJ,EAAEI,GAAKH,EAAEG,GAAI,EAC7FN,EAAcE,EAAGC,EAC5B,EACO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5K,UAAU,uBAAyBiL,OAAOL,GAAK,iCAE7D,SAASM,IAAO9L,KAAKyC,YAAc8I,CAAG,CADtCF,EAAcE,EAAGC,GAEjBD,EAAE5J,UAAkB,OAAN6J,EAAa1J,OAAOoB,OAAOsI,IAAMM,EAAGnK,UAAY6J,EAAE7J,UAAW,IAAImK,EACnF,GAGJhK,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtD,IAAIyN,EAAiB,EAAQ,OACzBC,EAAe,EAAQ,OACvBC,EAAa,SAAUzB,GAEvB,SAASyB,IACL,OAAkB,OAAXzB,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CACA,OAJAsL,EAAU+C,EAAWzB,GAIdyB,CACX,CANgB,CAMdF,EAAepC,UACbuC,EAAoB,SAAU1B,GAE9B,SAAS0B,IACL,IAAIzB,EAAmB,OAAXD,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,KAGhE,OAFA6M,EAAMxK,YAAc,QACpBwK,EAAMjH,cAAgB,KACfiH,CACX,CAIA,OAVAvB,EAAUgD,EAAkB1B,GAO5B0B,EAAiBC,oBAAqBnM,EAAK,CAAC,GACrCiM,EAAU1M,UAAUmB,MAAQuL,EAC/BjM,GACGkM,CACX,CAZuB,CAYrBF,EAAanM,iBACfD,EAAA,QAAkBsM,C,gBCpClB,IAAWzH,EAHX/E,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtDsB,EAAQ6E,iBAAc,GAEXA,EA+HM7E,EAAQ6E,cAAgB7E,EAAQ6E,YAAc,CAAC,IA9HhDC,QAAU,CAClBC,OAAQ,SACRyH,KAAM,OACNzG,OAAQ,SACR0G,WAAY,cACZC,aAAc,gBACdC,QAAS,UACTC,YAAa,eACbC,OAAQ,SACRC,WAAY,cACZC,UAAW,aACXC,cAAe,kBACfC,gBAAiB,oBACjBC,oBAAqB,yBACrBC,UAAW,YACXC,QAAS,SACTC,OAAQ,SACRC,OAAQ,SACRC,UAAW,YACXC,aAAc,oBACdC,iBAAkB,yBAClBC,SAAU,gBACVC,aAAc,qBACdC,WAAY,eAEhB/I,EAAYgJ,KAAO,CACfC,OAAQ,SACRC,MAAO,QACPC,QAAS,WAEbnJ,EAAYoJ,UAAY,CACpBC,KAAM,OACNC,QAAS,UACTC,QAAS,UACTC,UAAW,YACXC,SAAU,YAEdzJ,EAAY0J,eAAiB,CACzBC,OAAQ,SACRC,MAAO,QACPC,UAAW,YACXC,mBAAoB,uBAExB9J,EAAY+J,YAAc,CACtBC,KAAM,OACNC,OAAQ,SACRC,MAAO,QACPb,KAAM,OACNc,GAAI,KACJC,YAAa,eAEjBpK,EAAYqK,YAAc,CACtBC,YAAa,eAEjBtK,EAAYuK,cAAgB,CACxBC,KAAM,OACNC,OAAQ,SACRC,MAAO,SAEX1K,EAAY2K,SAAW,CACnBC,QAAS,UACTC,UAAW,YACXC,YAAa,cACbC,QAAS,UACTC,IAAK,MACLC,WAAY,aACZC,OAAQ,SACRlB,KAAM,OACNE,MAAO,QACPiB,IAAK,MACLC,OAAQ,SACRC,iBAAkB,mBAClBC,mBAAoB,qBACpBC,eAAgB,iBAChBC,iBAAkB,mBAClBC,eAAgB,iBAChBC,QAAS,UACTC,gBAAiB,mBAErB3L,EAAY4L,MAAQ,CAChBT,IAAK,MACLC,OAAQ,SACRnB,OAAQ,SACR4B,SAAU,WACVC,KAAM,OACN9B,KAAM,OACNE,MAAO,SAEXlK,EAAY+L,MAAQ,CAChBC,KAAM,OACNC,MAAO,QACPC,OAAQ,UAEZlM,EAAYmM,KAAO,CACfnC,KAAM,OACNE,MAAO,QACPkC,YAAa,cACbC,aAAc,gBAElBrM,EAAYsM,MAAQ,CAChBjD,KAAM,OACNkD,IAAK,OAETvM,EAAYwM,WAAa,CACrBC,OAAQ,SACRC,WAAY,aACZC,QAAS,UACTC,MAAO,SAEX5M,EAAY6M,SAAW,CACnBC,SAAU,YACVC,OAAQ,SACRC,MAAO,QACPC,SAAU,WACVC,MAAO,SAEXlN,EAAYmN,KAAO,CACfC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,K,wBChIZ,IACQnJ,EAmDJjJ,EApDAkJ,EAAatL,MAAQA,KAAKsL,YACtBD,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBvJ,OAAO2J,gBAClB,CAAEC,UAAW,cAAgBhK,OAAS,SAAU6J,EAAGC,GAAKD,EAAEG,UAAYF,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAO1J,OAAOH,UAAUiK,eAAerL,KAAKiL,EAAGG,KAAIJ,EAAEI,GAAKH,EAAEG,GAAI,EAC7FN,EAAcE,EAAGC,EAC5B,EACO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5K,UAAU,uBAAyBiL,OAAOL,GAAK,iCAE7D,SAASM,IAAO9L,KAAKyC,YAAc8I,CAAG,CADtCF,EAAcE,EAAGC,GAEjBD,EAAE5J,UAAkB,OAAN6J,EAAa1J,OAAOoB,OAAOsI,IAAMM,EAAGnK,UAAY6J,EAAE7J,UAAW,IAAImK,EACnF,GAEA2I,EAAmBzU,MAAQA,KAAKyU,kBAAqB3S,OAAOoB,OAAS,SAAUjD,EAAGI,EAAGqU,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAO/S,OAAOgT,yBAAyBzU,EAAGqU,GACzCG,KAAS,QAASA,GAAQxU,EAAE8D,WAAa0Q,EAAKE,UAAYF,EAAKhL,gBAClEgL,EAAO,CAAEjL,YAAY,EAAMlG,IAAK,WAAa,OAAOrD,EAAEqU,EAAI,IAE5D5S,OAAOC,eAAe9B,EAAG0U,EAAIE,EAChC,EAAI,SAAU5U,EAAGI,EAAGqU,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BzU,EAAE0U,GAAMtU,EAAEqU,EACb,GACGM,EAAsBhV,MAAQA,KAAKgV,qBAAwBlT,OAAOoB,OAAS,SAAUjD,EAAGgV,GACxFnT,OAAOC,eAAe9B,EAAG,UAAW,CAAE2J,YAAY,EAAMlJ,MAAOuU,GAClE,EAAI,SAAShV,EAAGgV,GACbhV,EAAW,QAAIgV,CACnB,GACIC,EAAgBlV,MAAQA,KAAKkV,cAAiB,SAAUhR,GACxD,GAAIA,GAAOA,EAAIC,WAAY,OAAOD,EAClC,IAAIuG,EAAS,CAAC,EACd,GAAW,MAAPvG,EAAa,IAAK,IAAIwQ,KAAKxQ,EAAe,YAANwQ,GAAmB5S,OAAOH,UAAUiK,eAAerL,KAAK2D,EAAKwQ,IAAID,EAAgBhK,EAAQvG,EAAKwQ,GAEtI,OADAM,EAAmBvK,EAAQvG,GACpBuG,CACX,EACI1K,EAAYC,MAAQA,KAAKD,UAAa,SAASE,GAC/C,IAAIC,EAAsB,mBAAXC,QAAyBA,OAAOC,SAAUC,EAAIH,GAAKD,EAAEC,GAAII,EAAI,EAC5E,GAAID,EAAG,OAAOA,EAAEE,KAAKN,GACrB,GAAIA,GAAyB,iBAAbA,EAAEO,OAAqB,MAAO,CAC1CC,KAAM,WAEF,OADIR,GAAKK,GAAKL,EAAEO,SAAQP,OAAI,GACrB,CAAES,MAAOT,GAAKA,EAAEK,KAAMK,MAAOV,EACxC,GAEJ,MAAM,IAAIW,UAAUV,EAAI,0BAA4B,kCACxD,EACI+D,EAAmBjE,MAAQA,KAAKiE,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EAEApC,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtDsB,EAAQmT,kBAAoBnT,EAAQoT,SAAWpT,EAAQqT,WAAQ,EAC/D,IAAIC,EAAqB,EAAQ,OAC7BC,EAAkB,EAAQ,OAC1BtJ,EAAgBhI,EAAgB,EAAQ,QACxCI,EAAgBJ,EAAgB,EAAQ,QACxCuR,EAAiB,EAAQ,OACzBC,EAAQP,EAAa,EAAQ,QAC7BQ,EAAY,EAAQ,OACxB,EAAQ,OACR,IAAIC,EAA0B,EAAQ,OAMtC,SAASN,EAAMnP,EAAQ8B,GACnB,IACInD,EADOqB,EAAOI,MAAMD,IAAU,KAE9B,CAAEO,YAAaV,EAAOI,MAAMD,IAAU,MAAM,CAAC,EAC7CuP,EAAQL,EAAgBM,WAAWC,OAAO,SAASC,OAAO/N,GAC1DgO,GAAQ,EAAIL,EAAwBM,UAAUjO,GAC9CkO,EAAQF,EAAQA,EAAM,GAAK,KAC3BG,EAAKjQ,EAAOhD,OAAO,QAASgT,EAAMrR,EAAM+Q,EAAQA,EAAM5N,KAAOA,GACjEgO,EAAM,IAAMG,EAAGrO,WAAWvE,IAAI,cAAeyS,EAAM,IACtC,OAATE,IACA7R,EAAcY,QAAQiD,YAAYiO,EAAI,eAAe,GACrDjQ,EAAON,cAAcC,QAAQ,cAAesQ,IAEhDjQ,EAAOgB,KAAKiP,EAChB,CAnBA,IAAIX,EAAeY,aAAa,QAAS,KAAM,CAC3C,IAAK,IACL,IAAK,IACL,IAAK,MAiBTpU,EAAQqT,MAAQA,EAqChB,IAAID,EAAY,SAAUxI,GAEtB,SAASwI,IACL,OAAkB,OAAXxI,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CACA,OAJAsL,EAAU8J,EAAUxI,GAIbwI,CACX,CANe,CAMbM,EAAUW,cACZrU,EAAQoT,SAAWA,EACnBpT,EAAQmT,kBAAoBG,EAAmBgB,cAAcpT,OAAO,OAAQ,CACxEqT,QAAS,CACLC,UAAW,CAAC,UAAW,UAAW,SAAU,SAC5CpO,UAAW,CAAC,aACZqO,MAAO,CAAC,YAAa,SAAU,cAAe,cAAe,aAC7DhO,YAAa,CAAC,gBAElBiO,SAAU,CACNF,UAAWnB,EACXoB,MArDR,SAAqBE,EAASlP,GAC1B,MAAM,IAAIwE,EAAchH,QAAQ,2BAA4B,gCAAiC,KAAOwC,EACxG,EAoDQgB,YAnDR,SAAsBkO,EAAStQ,GAC3B,MAAM,IAAI4F,EAAchH,QAAQ,aAAc,2BAA8BoB,EAChF,GAmDIiD,OAAQlH,EAAK,CAAC,EACVA,EAAGqT,EAAMmB,UAAUjV,UAAUmB,MAAQ2S,EAAMmB,UAC3CxU,EAAGqT,EAAMoB,SAASlV,UAAUmB,MAAQ2S,EAAMoB,SAC1CzU,EAAGqT,EAAMqB,SAASnV,UAAUmB,MAAQ2S,EAAMqB,SAC1C1U,EAAGqT,EAAMsB,UAAUpV,UAAUmB,MAAQ2S,EAAMsB,UAC3C3U,EAAGqT,EAAMuB,UAAUrV,UAAUmB,MAAQ2S,EAAMuB,UAC3C5U,EAAGqT,EAAMwB,WAAWtV,UAAUmB,MAAQ2S,EAAMwB,WAC5C7U,EAAGqT,EAAMyB,SAASvV,UAAUmB,MAAQ2S,EAAMyB,SAC1C9U,EAAGqT,EAAM0B,SAASxV,UAAUmB,MAAQ2S,EAAM0B,SAC1C/U,EAAGqT,EAAM2B,OAAOzV,UAAUmB,MAAQ2S,EAAM2B,OACxChV,EAAGqT,EAAM4B,UAAU1V,UAAUmB,MAAQ2S,EAAM4B,UAC3CjV,EAAGqT,EAAM6B,UAAU3V,UAAUmB,MAAQ2S,EAAM6B,UAC3ClV,EAAGqT,EAAM8B,QAAQ5V,UAAUmB,MAAQ2S,EAAM8B,QACzCnV,EAAGqT,EAAM+B,UAAU7V,UAAUmB,MAAQ2S,EAAM+B,UAC3CpV,EAAGqT,EAAMgC,aAAa9V,UAAUmB,MAAQ2S,EAAMgC,aAC9CrV,EAAGqT,EAAMiC,SAAS/V,UAAUmB,MAAQ2S,EAAMiC,SAC1CtV,EAAGqT,EAAMkC,QAAQhW,UAAUmB,MAAQ2S,EAAMkC,QACzCvV,EAAGqT,EAAMmC,OAAOjW,UAAUmB,MAAQ2S,EAAMmC,OACxCxV,EAAGqT,EAAMoC,QAAQlW,UAAUmB,MAAQ2S,EAAMoC,QACzCzV,EAAGqT,EAAMqC,cAAcnW,UAAUmB,MAAQ2S,EAAMqC,cAC/C1V,EAAGqT,EAAMsC,SAASpW,UAAUmB,MAAQ2S,EAAMsC,SAC1C3V,EAAGqT,EAAMuC,UAAUrW,UAAUmB,MAAQ2S,EAAMuC,UAC3C5V,EAAGqT,EAAMwC,aAAatW,UAAUmB,MAAQ2S,EAAMwC,aAC9C7V,EAAGqT,EAAMyC,aAAavW,UAAUmB,MAAQ2S,EAAMyC,aAC9C9V,GACJkF,QAAS,CACL6Q,UAAW,IACXC,QAAgC,oBAAf,UACoC,IAAjDC,SAASC,qBAAqB,QAAQ9X,OACtC,GAAKqL,OAAOwM,SAASE,UAAUhR,QAAQ,OAAQ,KAEvDwC,KAAM,CACFyO,KAAMpD,GAEVqD,eAAgB,CAAC,CApFrB,SAAyBrW,GACrB,IAAID,EAAKQ,EACL+V,EAAOtW,EAAGsW,KACd,IACI,IAAK,IAAI7V,EAAK9C,EAAS2Y,EAAKlO,QAAQ,cAAemO,EAAK9V,EAAGpC,QAASkY,EAAGhY,KAAMgY,EAAK9V,EAAGpC,OAAQ,CACzF,IAAI2G,EAAMuR,EAAGjY,MACb,GAAI0G,EAAIU,WAAWpE,IAAI,eAAiB,EAAG,CACvC,IAAIkV,EAAWxR,EAAIgE,OAGnB,GAFAwN,EAASC,WAAW3N,OAAO0N,EAASE,WAAW1R,GAAM,GACrDsR,EAAK7N,eAAezD,EAAItE,KAAM,CAACsE,IAC3BA,EAAI+F,OAAO,QAAS,CACpB,IAAI4L,EAAS3R,EAAIyR,WAAW,GAC5BH,EAAK7N,eAAe,SAAU,CAACkO,IAC/BL,EAAK7N,eAAe,SAAUkO,EAAOF,WAAW,GAAGA,WACvD,CACJ,MACSzR,EAAI+F,OAAO,UAChB/F,EAAIgE,OAAO4N,aAAa5R,EAAIyR,WAAW,GAAIzR,GAC3CsR,EAAK7N,eAAe,OAAQ,CAACzD,IAErC,CACJ,CACA,MAAOpE,GAASb,EAAM,CAAEhB,MAAO6B,EAAS,CACxC,QACI,IACQ2V,IAAOA,EAAGhY,OAASgC,EAAKE,EAAGI,SAASN,EAAGpC,KAAKsC,EACpD,CACA,QAAU,GAAIV,EAAK,MAAMA,EAAIhB,KAAO,CACxC,CACJ,GAuDwC,K,wBC/KxC,IACQkK,EADJC,EAAatL,MAAQA,KAAKsL,YACtBD,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBvJ,OAAO2J,gBAClB,CAAEC,UAAW,cAAgBhK,OAAS,SAAU6J,EAAGC,GAAKD,EAAEG,UAAYF,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIG,KAAKH,EAAO1J,OAAOH,UAAUiK,eAAerL,KAAKiL,EAAGG,KAAIJ,EAAEI,GAAKH,EAAEG,GAAI,EAC7FN,EAAcE,EAAGC,EAC5B,EACO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5K,UAAU,uBAAyBiL,OAAOL,GAAK,iCAE7D,SAASM,IAAO9L,KAAKyC,YAAc8I,CAAG,CADtCF,EAAcE,EAAGC,GAEjBD,EAAE5J,UAAkB,OAAN6J,EAAa1J,OAAOoB,OAAOsI,IAAMM,EAAGnK,UAAY6J,EAAE7J,UAAW,IAAImK,EACnF,GAEAjL,EAAUb,MAAQA,KAAKa,QAAW,SAAUZ,EAAGa,GAC/C,IAAIT,EAAsB,mBAAXF,QAAyBF,EAAEE,OAAOC,UACjD,IAAKC,EAAG,OAAOJ,EACf,IAAmBc,EAAYC,EAA3BV,EAAID,EAAEE,KAAKN,GAAOgB,EAAK,GAC3B,IACI,WAAc,IAANH,GAAgBA,KAAM,MAAQC,EAAIT,EAAEG,QAAQE,MAAMM,EAAGC,KAAKH,EAAEL,MACxE,CACA,MAAOS,GAASH,EAAI,CAAEG,MAAOA,EAAS,CACtC,QACI,IACQJ,IAAMA,EAAEJ,OAASN,EAAIC,EAAU,SAAID,EAAEE,KAAKD,EAClD,CACA,QAAU,GAAIU,EAAG,MAAMA,EAAEG,KAAO,CACpC,CACA,OAAOF,CACX,EACIG,EAAiBpB,MAAQA,KAAKoB,eAAkB,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBC,UAAUhB,OAAc,IAAK,IAA4BS,EAAxBX,EAAI,EAAGmB,EAAIH,EAAKd,OAAYF,EAAImB,EAAGnB,KACxEW,GAAQX,KAAKgB,IACRL,IAAIA,EAAKS,MAAMC,UAAUC,MAAMrB,KAAKe,EAAM,EAAGhB,IAClDW,EAAGX,GAAKgB,EAAKhB,IAGrB,OAAOe,EAAGQ,OAAOZ,GAAMS,MAAMC,UAAUC,MAAMrB,KAAKe,GACtD,EACI2C,EAAmBjE,MAAQA,KAAKiE,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACApC,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtDsB,EAAQkW,aAAelW,EAAQiW,aAAejW,EAAQgW,UAAYhW,EAAQ+V,SAAW/V,EAAQ8V,cAAgB9V,EAAQ6V,QAAU7V,EAAQ4V,OAAS5V,EAAQ2V,QAAU3V,EAAQ0V,SAAW1V,EAAQyV,aAAezV,EAAQwV,UAAYxV,EAAQuV,QAAUvV,EAAQsV,UAAYtV,EAAQqV,UAAYrV,EAAQoV,OAASpV,EAAQmV,SAAWnV,EAAQkV,SAAWlV,EAAQiV,WAAajV,EAAQgV,UAAYhV,EAAQ+U,UAAY/U,EAAQ8U,SAAW9U,EAAQ6U,SAAW7U,EAAQ4U,eAAY,EACxc,IAAIrB,EAAkB,EAAQ,OAC1B0D,EAAgB,EAAQ,OACxBC,EAAe,EAAQ,OACvBjN,EAAgBhI,EAAgB,EAAQ,QACxC+B,EAAiB/B,EAAgB,EAAQ,QACzCI,EAAgBJ,EAAgB,EAAQ,QACxCkK,EAAiB,EAAQ,OACzByI,EAAa,SAAUhK,GAEvB,SAASgK,EAAUrS,EAASuI,GACxB,IAAID,EAAQD,EAAOrM,KAAKP,KAAMuE,IAAYvE,KAE1C,OADA6M,EAAMC,OAASA,EACRD,CACX,CAyBA,OA9BAvB,EAAUsL,EAAWhK,GAMrB9K,OAAOC,eAAe6U,EAAUjV,UAAW,OAAQ,CAC/C+B,IAAK,WACD,MAAO,OACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAe6U,EAAUjV,UAAW,SAAU,CACjD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElB+M,EAAUjV,UAAUyL,UAAY,SAAUC,GACtC,GAAIA,EAAKF,OAAO,QAAS,CACrB,IAAI3K,EAAOxC,KAAKwM,QAIhB,OAHKxM,KAAK8M,OAAOqM,UACb3W,EAAOxC,KAAKuE,QAAQqB,cAAcmE,KAAKqP,SAAS5W,EAAMxC,KAAKqG,MAExD,CAAC,CAACrG,KAAKuE,QAAQrB,OAAO,MAAOV,KAAQ,EAChD,CACA,OAAOoK,EAAOjL,UAAUyL,UAAU7M,KAAKP,KAAMqN,EACjD,EACOuJ,CACX,CAhCgB,CAgCdzI,EAAepC,UACjB/J,EAAQ4U,UAAYA,EACpB,IAAIC,EAAY,SAAUjK,GAEtB,SAASiK,IACL,OAAkB,OAAXjK,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CAeA,OAlBAsL,EAAUuL,EAAUjK,GAIpB9K,OAAOC,eAAe8U,EAASlV,UAAW,OAAQ,CAC9C+B,IAAK,WACD,MAAO,MACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAe8U,EAASlV,UAAW,UAAW,CACjD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAEXgN,CACX,CApBe,CAoBb1I,EAAepC,UACjB/J,EAAQ6U,SAAWA,EACnB,IAAIC,EAAY,SAAUlK,GAEtB,SAASkK,IACL,OAAkB,OAAXlK,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CA2BA,OA9BAsL,EAAUwL,EAAUlK,GAIpB9K,OAAOC,eAAe+U,EAASnV,UAAW,OAAQ,CAC9C+B,IAAK,WACD,MAAO,MACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAe+U,EAASnV,UAAW,SAAU,CAChD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElBiN,EAASnV,UAAUyL,UAAY,SAAUC,GACrC,GAAIA,EAAKF,OAAO,SAAU,CACtB,IAAI/F,EAAMpH,KAAKwM,QACXhK,EAAOxC,KAAKkD,OAAO,OAAQ,UAAW,CAACkE,IAC3C,MAAO,CAAC,CAACpH,KAAKuE,QAAQrB,OAAO,MAAOV,KAAQ,EAChD,CACA,OAAOoK,EAAOjL,UAAUyL,UAAU7M,KAAKP,KAAMqN,EACjD,EACAyJ,EAAS/I,OAASjM,OAAOwG,OAAOxG,OAAOoB,OAAOiL,EAAepC,SAASgC,QAAS,CAC3E,KAAQ,CAAC,wBACL,6CAED+I,CACX,CAhCe,CAgCb3I,EAAepC,UACjB/J,EAAQ8U,SAAWA,EACnB,IAAIC,EAAa,SAAUnK,GAEvB,SAASmK,IACL,OAAkB,OAAXnK,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CAeA,OAlBAsL,EAAUyL,EAAWnK,GAIrB9K,OAAOC,eAAegV,EAAUpV,UAAW,OAAQ,CAC/C+B,IAAK,WACD,MAAO,OACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAegV,EAAUpV,UAAW,UAAW,CAClD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAEXkN,CACX,CApBgB,CAoBd5I,EAAepC,UACjB/J,EAAQ+U,UAAYA,EACpB,IAAIC,EAAa,SAAUpK,GAEvB,SAASoK,IACL,OAAkB,OAAXpK,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CAiBA,OApBAsL,EAAU0L,EAAWpK,GAIrB9K,OAAOC,eAAeiV,EAAUrV,UAAW,OAAQ,CAC/C+B,IAAK,WACD,MAAO,OACX,EACAkG,YAAY,EACZC,cAAc,IAElBmN,EAAUrV,UAAUyL,UAAY,SAAUC,GACtC,IAAIjL,EAAKvB,EAAOb,KAAKsM,KAAK,GAAI,GAAI+M,EAAOjX,EAAG,GAAIkX,EAAOlX,EAAG,GAC1D,OAAKiC,EAAcY,QAAQsU,OAAOF,EAAM,YAAchV,EAAcY,QAAQsU,OAAOF,EAAM,QAE9E,CAAC,CADGrZ,KAAKkD,OAAO,OAAQ,OAAQ,CAACmW,EAAMC,IAC/BjM,IAAO,IAE1BhJ,EAAcY,QAAQuU,SAASH,EAAMA,EAAKI,IAAKH,GACxC,CAAC,CAACD,EAAMhM,IAAO,GAC1B,EACO2J,CACX,CAtBgB,CAsBd7I,EAAepC,UACjB/J,EAAQgV,UAAYA,EACpB,IAAIC,EAAc,SAAUrK,GAExB,SAASqK,IACL,OAAkB,OAAXrK,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CA8CA,OAjDAsL,EAAU2L,EAAYrK,GAItB9K,OAAOC,eAAekV,EAAWtV,UAAW,OAAQ,CAChD+B,IAAK,WACD,MAAO,QACX,EACAkG,YAAY,EACZC,cAAc,IAElBoN,EAAWtV,UAAUyL,UAAY,SAAUC,GACvC,GAAIA,EAAKF,OAAO,SAAWE,EAAKF,OAAO,QACnC,OAAOgB,EAAepC,SAAS6B,QAEnC,IAAI8L,EAAM1Z,KAAK2M,MACXgN,EAAW3Z,KAAKoK,YAAY,YAChC,GAAIiD,EAAKF,OAAO,OAAQ,CACpB,GAAInN,KAAKoK,YAAY,UACjB,GAAiB,IAAbuP,EACAtV,EAAcY,QAAQuU,SAASE,EAAK,EAAG1Z,KAAKoK,YAAY,eAEvD,CACD/F,EAAcY,QAAQiD,YAAYlI,KAAKoK,YAAY,UAAW,eAAe,GAC7E,IAAI5H,EAAOxC,KAAKkD,OAAO,OAAQ,OAAQ,CAAClD,KAAKoK,YAAY,UAAWiD,EAAKV,QACzEU,EAAKV,MAAQnK,CACjB,CAOJ,OALA6B,EAAcY,QAAQuU,SAASE,EAAKC,EAAUtM,EAAKV,OACb,MAAlC3M,KAAKoK,YAAY,eACjB/F,EAAcY,QAAQiD,YAAYwR,EAAK,aAAc1Z,KAAKoK,YAAY,eAGnE,CAAC,CADKpK,KAAKuE,QAAQrB,OAAO,MAAOwW,KACtB,EACtB,CACA,GAAI9M,EAAOjL,UAAUyL,UAAU7M,KAAKP,KAAMqN,GAAM,GAAI,CAChD,IAAIlM,EAAQnB,KAAKyN,UAAU,CAAC,GAAI,MAAO,OAAOkM,IAC9C,MAAM,IAAK1N,EAAchH,QAAQtB,KAAKN,MAAM4I,EAAchH,QAAS7D,EAAc,MAAC,EAAQD,EAAM,GAAIA,EAAM,IAAKN,EAAOM,EAAM+J,OAAO,KAAK,IAC5I,CACA,OAAO,IACX,EACA+L,EAAWlJ,OAASjM,OAAOwG,OAAOxG,OAAOoB,OAAOiL,EAAepC,SAASgC,QAAS,CAC7E,KAAQ,CAAC,gBACL,6CACJ,IAAO,CAAC,oBACJ,sCACJ,IAAO,CAAC,oBACJ,sCAEDkJ,CACX,CAnDiB,CAmDf9I,EAAepC,UACjB/J,EAAQiV,WAAaA,EACrB,IAAIC,EAAY,SAAUtK,GAEtB,SAASsK,EAAS3S,GACd,IAAIsI,EAAQD,EAAOrM,KAAKP,KAAMuE,IAAYvE,KAE1C,OADA6M,EAAM3E,YAAY,OAAQ,UACnB2E,CACX,CAoCA,OAzCAvB,EAAU4L,EAAUtK,GAMpB9K,OAAOC,eAAemV,EAASvV,UAAW,OAAQ,CAC9C+B,IAAK,WACD,MAAO,MACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAemV,EAASvV,UAAW,UAAW,CACjD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElBqN,EAASvV,UAAUyL,UAAY,SAAUC,GACrC,GAAIA,EAAKF,OAAO,QACZ,MAAM,IAAIlB,EAAchH,QAAQ,iBAAkB,sBAAuBoI,EAAKE,WAElF,GAAIF,EAAKG,QAAS,CACd,IAAIpG,EAAMpH,KAAKkD,OAAO,OAAQ,QAAS,CAAClD,KAAKoK,YAAY,OAAQpK,KAAKwM,OAAM,KAQ5E,OAPqC,MAAjCxM,KAAKoK,YAAY,cACjB/F,EAAcY,QAAQ2U,aAAaxS,EAAK,gBAAiBpH,KAAKoK,YAAY,eAE1EpK,KAAKoK,YAAY,SAAWpK,KAAKoK,YAAY,YAC7C/F,EAAcY,QAAQiD,YAAYd,EAAK,cAAc,GACrDA,EAAMpB,EAAef,QAAQ4U,WAAW7Z,KAAKuE,QAAQqB,cAAe5F,KAAKoK,YAAY,QAAShD,EAAKpH,KAAKoK,YAAY,WAEjH,CAAC,CAACpK,KAAKuE,QAAQrB,OAAO,MAAOkE,GAAMiG,IAAO,EACrD,CACA,OAAOT,EAAOjL,UAAUyL,UAAU7M,KAAKP,KAAMqN,EACjD,EACA6J,EAASvV,UAAUmM,SAAW,WAC1B,MAAO,QAAU9N,KAAKoK,YAAY,OAC9B,MAAQpK,KAAKkC,MAAMqI,KAAK,MAAQ,GACxC,EACO2M,CACX,CA3Ce,CA2Cb/I,EAAepC,UACjB/J,EAAQkV,SAAWA,EACnB,IAAIC,EAAY,SAAUvK,GAEtB,SAASuK,EAAS5S,EAAS8D,GACvB,IAAIwE,EAAQD,EAAOrM,KAAKP,KAAMuE,IAAYvE,KAE1C,OADA6M,EAAM3E,YAAY,QAASG,GACpBwE,CACX,CAkCA,OAvCAvB,EAAU6L,EAAUvK,GAMpB9K,OAAOC,eAAeoV,EAASxV,UAAW,OAAQ,CAC9C+B,IAAK,WACD,MAAO,MACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAeoV,EAASxV,UAAW,SAAU,CAChD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElBsN,EAASxV,UAAUyL,UAAY,SAAUC,GACrC,GAAIA,EAAKF,OAAO,SACZ,MAAO,CAAC,CAACnN,KAAKuE,QAAQrB,OAAO,MAAO8C,EAAef,QAAQ6U,OAAO9Z,KAAKuE,QAAQqB,cAAe5F,KAAKoK,YAAY,SAAUpK,KAAKwM,QAASa,EAAKjD,YAAY,SAAU,GAAIiD,EAAKjD,YAAY,aAAa,GAExM,GAAIiD,EAAKF,OAAO,UAAW,CACvB,IAAItI,EAAM,CAAE2D,UAAU,GAMtB,OALI6E,EAAKjD,YAAY,WACjBvF,EAAIkV,UAAY1M,EAAKjD,YAAY,UAErCpK,KAAKkH,KAAKlH,KAAKkD,OAAO,OAAQ,UAAW,GAAI,CAAE8W,SAAUd,EAAae,SAASC,QAAUla,KAAKkD,OAAO,QAAS,KAAM2B,EAAKwI,EAAKjD,YAAY,UAAWpK,KAAKkD,OAAO,OAAQ,UAAW,GAAI,CAAE8W,SAAUd,EAAae,SAASE,QAC1Nna,KAAKqG,IAAM,CAAC,EACL,CAAC,CAACrG,OAAO,EACpB,CACA,OAAO4M,EAAOjL,UAAUyL,UAAU7M,KAAKP,KAAMqN,EACjD,EACA8J,EAASpJ,OAASjM,OAAOwG,OAAOxG,OAAOoB,OAAOiL,EAAepC,SAASgC,QAAS,CAC3E,KAAQ,CAAC,wBACL,qCAEDoJ,CACX,CAzCe,CAyCbhJ,EAAepC,UACjB/J,EAAQmV,SAAWA,EACnB,IAAIC,EAAU,SAAUxK,GAEpB,SAASwK,EAAO7S,EAAS8D,EAAO+R,GAC5B,IAAIvN,EAAQD,EAAOrM,KAAKP,KAAMuE,IAAYvE,KAG1C,OAFA6M,EAAM3E,YAAY,QAASG,GAC3B+R,GAASvN,EAAM3E,YAAY,QAASkS,GAC7BvN,CACX,CAeA,OArBAvB,EAAU8L,EAAQxK,GAOlB9K,OAAOC,eAAeqV,EAAOzV,UAAW,OAAQ,CAC5C+B,IAAK,WACD,MAAO,QACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAeqV,EAAOzV,UAAW,UAAW,CAC/C+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAEXuN,CACX,CAvBa,CAuBXjJ,EAAepC,UACjB/J,EAAQoV,OAASA,EACjB,IAAIC,EAAa,SAAUzK,GAEvB,SAASyK,EAAU9S,EAAS8D,EAAO+R,GAC/B,IAAIvN,EAAQD,EAAOrM,KAAKP,KAAMuE,IAAYvE,KAG1C,OAFA6M,EAAM3E,YAAY,QAASG,GAC3B+R,GAASvN,EAAM3E,YAAY,QAASkS,GAC7BvN,CACX,CAeA,OArBAvB,EAAU+L,EAAWzK,GAOrB9K,OAAOC,eAAesV,EAAU1V,UAAW,OAAQ,CAC/C+B,IAAK,WACD,MAAO,OACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAesV,EAAU1V,UAAW,UAAW,CAClD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAEXwN,CACX,CAvBgB,CAuBdlJ,EAAepC,UACjB/J,EAAQqV,UAAYA,EACpB,IAAIC,EAAa,SAAU1K,GAEvB,SAAS0K,IACL,OAAkB,OAAX1K,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CA8BA,OAjCAsL,EAAUgM,EAAW1K,GAIrB9K,OAAOC,eAAeuV,EAAU3V,UAAW,OAAQ,CAC/C+B,IAAK,WACD,MAAO,OACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAeuV,EAAU3V,UAAW,SAAU,CACjD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElByN,EAAU3V,UAAUyL,UAAY,SAAUC,GACtC,GAAIA,EAAKF,OAAO,OAAQ,CACpB,GAAIE,EAAKE,YAAcvN,KAAKuN,UACxB,MAAM,IAAItB,EAAchH,QAAQ,YAAa,mCAAoCjF,KAAKuN,UAAWF,EAAKE,WAE1G,OAAKvN,KAAKoK,YAAY,OAGf+D,EAAepC,SAASuB,KAFpB,CAAC,CAACtN,KAAKuE,QAAQrB,OAAO,MAAOlD,KAAKwM,WAAW,EAG5D,CACA,GAAIa,EAAKF,OAAO,QACZ,MAAM,IAAIlB,EAAchH,QAAQ,gBAAiB,oBAAqBjF,KAAKuN,WAE/E,OAAOX,EAAOjL,UAAUyL,UAAU7M,KAAKP,KAAMqN,EACjD,EACOiK,CACX,CAnCgB,CAmCdnJ,EAAepC,UACjB/J,EAAQsV,UAAYA,EACpB,IAAIC,EAAW,SAAU3K,GAErB,SAAS2K,IACL,OAAkB,OAAX3K,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CAeA,OAlBAsL,EAAUiM,EAAS3K,GAInB9K,OAAOC,eAAewV,EAAQ5V,UAAW,OAAQ,CAC7C+B,IAAK,WACD,MAAO,KACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAewV,EAAQ5V,UAAW,UAAW,CAChD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAEX0N,CACX,CApBc,CAoBZpJ,EAAepC,UACjB/J,EAAQuV,QAAUA,EAClB,IAAIC,EAAa,SAAU5K,GAEvB,SAAS4K,IACL,OAAkB,OAAX5K,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CAeA,OAlBAsL,EAAUkM,EAAW5K,GAIrB9K,OAAOC,eAAeyV,EAAU7V,UAAW,OAAQ,CAC/C+B,IAAK,WACD,MAAO,OACX,EACAkG,YAAY,EACZC,cAAc,IAElB2N,EAAU7V,UAAUyL,UAAY,SAAUC,GACtC,IAAKA,EAAKG,QACN,OAAOZ,EAAOjL,UAAUyL,UAAU7M,KAAKP,KAAMqN,GAEjD,IAAIjG,EAAMpH,KAAKkD,OAAO,OAAQ,SAAUlD,KAAKkC,MAAOlC,KAAKoK,YAAY,WACrE,MAAO,CAAC,CAACpK,KAAKuE,QAAQrB,OAAO,MAAOkE,GAAMiG,IAAO,EACrD,EACOmK,CACX,CApBgB,CAoBdrJ,EAAepC,UACjB/J,EAAQwV,UAAYA,EACpB,IAAIC,EAAgB,SAAU7K,GAE1B,SAAS6K,IACL,OAAkB,OAAX7K,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CA2BA,OA9BAsL,EAAUmM,EAAc7K,GAIxB9K,OAAOC,eAAe0V,EAAa9V,UAAW,OAAQ,CAClD+B,IAAK,WACD,MAAO,UACX,EACAkG,YAAY,EACZC,cAAc,IAElB4N,EAAa9V,UAAUyL,UAAY,SAAUC,GACzC,GAAIA,EAAKG,QACL,MAAM,IAAIvB,EAAchH,QAAQ,gBAAiB,qBAAsBjF,KAAKuN,WAEhF,GAAIF,EAAKM,QAAS,CACd,IAAIvG,EAAMiG,EAAKb,QACf,OAAQxM,KAAKoK,YAAY,SACrB,IAAK,WAID,OAHAhD,EAAMpH,KAAKkD,OAAO,OAAQ,UAAW,CAACkE,GAAM,CAAEiT,OAAQra,KAAKoK,YAAY,MACnEkQ,MAAOta,KAAKoK,YAAY,MACxBmQ,QAASva,KAAKoK,YAAY,QACvB,CAAC,CAACpK,KAAKuE,QAAQrB,OAAO,MAAOkE,KAAO,GAC/C,IAAK,aACD,MAAO,CAAC,CAACpH,KAAKuE,QAAQrB,OAAO,MAAOlD,KAAKoK,YAAY,SAAUiD,EACvDrN,KAAKuE,QAAQrB,OAAO,MAAOlD,KAAKoK,YAAY,YAAY,GAE5E,CACA,OAAOwC,EAAOjL,UAAUyL,UAAU7M,KAAKP,KAAMqN,EACjD,EACOoK,CACX,CAhCmB,CAgCjBtJ,EAAepC,UACjB/J,EAAQyV,aAAeA,EACvB,IAAIC,EAAY,SAAU9K,GAEtB,SAAS8K,IACL,OAAkB,OAAX9K,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CAeA,OAlBAsL,EAAUoM,EAAU9K,GAIpB9K,OAAOC,eAAe2V,EAAS/V,UAAW,OAAQ,CAC9C+B,IAAK,WACD,MAAO,MACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAe2V,EAAS/V,UAAW,UAAW,CACjD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAEX6N,CACX,CApBe,CAoBbvJ,EAAepC,UACjB/J,EAAQ0V,SAAWA,EACnB,IAAIC,EAAW,SAAU/K,GAErB,SAAS+K,IACL,OAAkB,OAAX/K,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CAeA,OAlBAsL,EAAUqM,EAAS/K,GAInB9K,OAAOC,eAAe4V,EAAQhW,UAAW,UAAW,CAChD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAe4V,EAAQhW,UAAW,OAAQ,CAC7C+B,IAAK,WACD,MAAO,KACX,EACAkG,YAAY,EACZC,cAAc,IAEX8N,CACX,CApBc,CAoBZxJ,EAAepC,UACjB/J,EAAQ2V,QAAUA,EAClB,IAAIC,EAAU,SAAUhL,GAEpB,SAASgL,IACL,OAAkB,OAAXhL,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CAqCA,OAxCAsL,EAAUsM,EAAQhL,GAIlB9K,OAAOC,eAAe6V,EAAOjW,UAAW,OAAQ,CAC5C+B,IAAK,WACD,MAAO,IACX,EACAkG,YAAY,EACZC,cAAc,IAElB+N,EAAOjW,UAAUyL,UAAY,SAAUC,GACnC,IAAIqM,EAAM1Z,KAAK2M,MACf,GAAI+M,EAAK,CACL,GAAIrM,EAAKL,OACL,OAAOmB,EAAepC,SAAS6B,QAEnC,IAAKP,EAAKF,OAAO,MAAO,CACpB,IAAI/F,EAAMiG,EAAKV,MACf,IAAKU,EAAKF,OAAO,SAAW/F,EACxB,MAAO,CAAC,CAACsS,EAAKrM,IAAO,GAEzB,GAAKhJ,EAAcY,QAAQsU,OAAOnS,EAAK,WAAaA,EAAIyR,WAAWrY,QAC/D6D,EAAcY,QAAQsU,OAAOnS,EAAIyR,WAAW,GAAGA,WAAW,GAAI,WAC9DxU,EAAcY,QAAQsU,OAAOnS,EAAK,UAClC,MAAO,CAAC,CAACsS,EAAKrM,IAAO,GAErBhJ,EAAcY,QAAQuV,cAAcpT,KACpCA,EAAM/C,EAAcY,QAAQwV,UAAUrT,IAE1C,IAAIsT,EAAOrW,EAAcY,QAAQ0V,QAAQvT,GACzC,GAAY,MAARsT,GAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGA,EAAK,IACpD,MAAO,CAAC,CAAChB,EAAKrM,IAAO,EAE7B,CAEA,MAAO,CAAC,CAACqM,EADE1Z,KAAKkD,OAAO,QAAS,KAAM,CAAE8W,SAAUd,EAAae,SAASpH,MAAQoG,EAAc2B,SAASC,eACnFxN,IAAO,EAC/B,CACA,OAAOT,EAAOjL,UAAUyL,UAAU/J,MAAMrD,KAAMwB,UAClD,EACOoW,CACX,CA1Ca,CA0CXzJ,EAAepC,UACjB/J,EAAQ4V,OAASA,EACjB,IAAIC,EAAW,SAAUjL,GAErB,SAASiL,IACL,IAAIhL,EAAmB,OAAXD,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,KAEhE,OADA6M,EAAM+I,MAAQL,EAAgBM,WAAWC,OAAO,aACzCjJ,CACX,CAuCA,OA5CAvB,EAAUuM,EAASjL,GAMnB9K,OAAOC,eAAe8V,EAAQlW,UAAW,OAAQ,CAC7C+B,IAAK,WACD,MAAO,KACX,EACAkG,YAAY,EACZC,cAAc,IAElBgO,EAAQlW,UAAUyL,UAAY,SAAUC,GACpC,IAAIjG,EACAjB,EACAhB,EACJ,GAAIkI,EAAKF,OAAO,SAAWE,EAAKF,OAAO,QACnC,OAAOgB,EAAepC,SAAS6B,QAEnC,GAAIP,EAAKF,OAAO,SACX9I,EAAcY,QAAQsU,OAAOlM,EAAKV,MAAO,OAAStI,EAAcY,QAAQsU,OAAOlM,EAAKV,MAAO,OACxFtI,EAAcY,QAAQsU,OAAOlM,EAAKV,MAAO,YAC7CvF,EAAMiG,EAAKV,MAEM,KADjBxG,EAAI9B,EAAcY,QAAQ6V,QAAQ1T,IAC5B5G,SAAiB6D,EAAcY,QAAQmF,YAAYhD,EAAK,eACR,IAAlD/C,EAAcY,QAAQ8V,YAAY3T,GAAK5G,QASvC,OARIR,KAAK4V,MAAMoF,SAAS7U,IACpBhB,EAAWnF,KAAKkD,OAAO,OAAQlD,KAAK4V,MAAMG,OAAO5P,GAAG6B,MACpD3D,EAAcY,QAAQuU,SAASpS,EAAK,EAAGjC,KAGvCA,EAAWnF,KAAKkD,OAAO,OAAQ,KAC/BmB,EAAcY,QAAQgW,eAAe7T,EAAK,CAACjC,KAExC,CAAC,CAACkI,IAAO,GAGxBlI,EAAWnF,KAAKkD,OAAO,OAAQ,KAC/B,IAAIgY,EAAYlb,KAAKkD,OAAO,OAAQ,QAAS,GAAI,CAAC,EAAGiC,GACjDgW,EAAanb,KAAKkD,OAAO,OAAQ,UAAW,CAACgY,GAAY,CAAEE,MAAO,IAEtE,MAAO,CAAC,CADRhU,EAAMpH,KAAKkD,OAAO,OAAQ,UAAW,CAACiY,GAAa,CAAEnB,SAAUd,EAAae,SAASoB,MACvEhO,IAAO,EACzB,EACOwK,CACX,CA9Cc,CA8CZ1J,EAAepC,UACjB/J,EAAQ6V,QAAUA,EAClB,IAAIC,EAAiB,SAAUlL,GAE3B,SAASkL,IACL,OAAkB,OAAXlL,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CAwBA,OA3BAsL,EAAUwM,EAAelL,GAIzB9K,OAAOC,eAAe+V,EAAcnW,UAAW,OAAQ,CACnD+B,IAAK,WACD,MAAO,WACX,EACAkG,YAAY,EACZC,cAAc,IAElBiO,EAAcnW,UAAUyL,UAAY,SAAUC,GAC1C,GAAIA,EAAKF,OAAO,QAA0B,IAAhBE,EAAKhB,OAAc,CACzC,IAAIjF,EAAMiG,EAAKV,MAIf,GAHIvF,EAAI+F,OAAO,WAAa/F,EAAIkU,YAC5BlU,EAAM/C,EAAcY,QAAQ8V,YAAY1W,EAAcY,QAAQ8V,YAAY3T,GAAK,IAAI,IAEnFA,EAAI+F,OAAO,UAAW,CACtB,GAAI/F,IAAQiG,EAAKV,MAAO,CACpB,IAAI4O,EAAOvb,KAAKkD,OAAO,OAAQ,OAAQ,CAACmK,EAAKlB,QAC7CkB,EAAKnG,KAAKqU,EACd,CACAvb,KAAKuE,QAAQqB,cAAcC,QAAQ,YAAawH,EAAKV,MACzD,CACJ,CACA,MAAO,CAAC,CAACU,IAAO,EACpB,EACOyK,CACX,CA7BoB,CA6BlB3J,EAAepC,UACjB/J,EAAQ8V,cAAgBA,EACxB,IAAIC,EAAY,SAAUnL,GAEtB,SAASmL,IACL,OAAkB,OAAXnL,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,IAC/D,CAsBA,OAzBAsL,EAAUyM,EAAUnL,GAIpB9K,OAAOC,eAAegW,EAASpW,UAAW,OAAQ,CAC9C+B,IAAK,WACD,MAAO,MACX,EACAkG,YAAY,EACZC,cAAc,IAElBkO,EAASpW,UAAUyL,UAAY,SAAUC,GACrC,GAAIA,EAAKF,OAAO,SAAWE,EAAKF,OAAO,QACnC,OAAOgB,EAAepC,SAAS6B,QAEnC,IAAI4N,EAAOxb,KAAKoK,YAAY,SACxBsP,EAAMrM,EAAKV,MACf,GAAIU,EAAKF,OAAO,QAAU9I,EAAcY,QAAQuV,cAAcd,GAAM,CAChE,IAAI+B,EAASpX,EAAcY,QAAQyW,YAAYrX,EAAcY,QAAQwV,UAAUf,IAC3E+B,IAAWvC,EAAae,SAAS0B,KAAOF,IAAWvC,EAAae,SAASoB,MACzEG,EAAOxb,KAAKoK,YAAY,SAEhC,CACA,MAAO,CAAC,CAACoR,EAAMnO,IAAO,EAC1B,EACO0K,CACX,CA3Be,CA2Bb5J,EAAepC,UACjB/J,EAAQ+V,SAAWA,EACnB,IAAIC,EAAa,SAAUpL,GAEvB,SAASoL,IACL,IAAInL,EAAmB,OAAXD,GAAmBA,EAAOvJ,MAAMrD,KAAMwB,YAAcxB,KAOhE,OANA6M,EAAM+O,MAAQ,GACd/O,EAAMgP,IAAM,GACZhP,EAAMiP,MAAQ,GACdjP,EAAMkP,MAAQ,GACdlP,EAAMmP,SAAW,CAAC,EAClBnP,EAAMoP,QAAS,EACRpP,CACX,CA+IA,OAzJAvB,EAAU0M,EAAWpL,GAWrB9K,OAAOC,eAAeiW,EAAUrW,UAAW,OAAQ,CAC/C+B,IAAK,WACD,MAAO,OACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAeiW,EAAUrW,UAAW,SAAU,CACjD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAeiW,EAAUrW,UAAW,UAAW,CAClD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElBmO,EAAUrW,UAAUyL,UAAY,SAAUC,GACtC,GAAIA,EAAKG,UAAYH,EAAKF,OAAO,QAAS,CACtC,GAAIE,EAAKjD,YAAY,WAGjB,OAFApK,KAAKkc,WACLlc,KAAK6N,WACEM,EAAepC,SAASuB,KAEnC,GAAID,EAAKjD,YAAY,QAIjB,OAHApK,KAAKkc,WACLlc,KAAKmc,SACLnc,KAAK6N,WACEM,EAAepC,SAASuB,KAEnCtN,KAAKoc,WACLpc,KAAK6N,WACL,IAAIwO,EAAUrc,KAAKuE,QAAQrB,OAAO,MAAOlD,KAAKsc,aAC9C,GAAItc,KAAKoK,YAAY,gBAAiB,CAClC,GAAIiD,EAAKF,OAAO,SACZ,MAAO,CAAC,CAACkP,IAAU,GAEvB,MAAM,IAAIpQ,EAAchH,QAAQ,oBAAqB,sBACzD,CACA,MAAO,CAAC,CAACoX,EAAShP,IAAO,EAC7B,CACA,OAAOT,EAAOjL,UAAUyL,UAAU7M,KAAKP,KAAMqN,EACjD,EACA2K,EAAUrW,UAAU2a,UAAY,WAC5B,IAAIC,EAAcvc,KAAKgc,SAAsB,mBACtChc,KAAKgc,SAAsB,YAClC,IAAI5U,EAAMpH,KAAKkD,OAAO,OAAQ,SAAUlD,KAAK4b,MAAO5b,KAAKgc,UAsBzD,OArBIO,GACAnV,EAAIc,YAAY,cAAeqU,GAET,IAAtBvc,KAAK8b,MAAMtb,OACX6D,EAAcY,QAAQ2U,aAAaxS,EAAK,QAASpH,KAAKic,OAAS,SAAW,SAErEjc,KAAK8b,MAAMtb,SACZR,KAAKgc,SAAmB,WACxBhc,KAAKgc,SAAmB,SACpBhc,KAAKgc,SAAmB,SAAEzU,QAAQ,gBAAiB,SAE3DlD,EAAcY,QAAQ2U,aAAaxS,EAAK,QAAS,IACjDA,EAAMpH,KAAKkD,OAAO,OAAQ,WAAY,CAACkE,GAAM,CAAEoV,SAAUxc,KAAK8b,MAAMvR,KAAK,OACxB,UAA5CvK,KAAKgc,SAAsB,aAAK,SACS,UAAzChc,KAAKgc,SAAmB,UAAK,SAC9B3X,EAAcY,QAAQ2U,aAAaxS,EAAK,eAAgB,KAG5DpH,KAAKoK,YAAY,SAAWpK,KAAKoK,YAAY,YAC7ChD,EAAMpB,EAAef,QAAQ6U,OAAO9Z,KAAKuE,QAAQqB,cAAe5F,KAAKoK,YAAY,QAAShD,EAAKpH,KAAKoK,YAAY,WAE7GhD,CACX,EACA4Q,EAAUrW,UAAUua,SAAW,WAC3B,IAAIO,EAAMzc,KAAKkD,OAAO,OAAQ,MAAOlD,KAAKkC,OACtClC,KAAK+b,MAAMvb,SACW,IAAlBR,KAAK+b,MAAM,IACX1X,EAAcY,QAAQ2U,aAAa6C,EAAK,cAAe,SAEvDzc,KAAK+b,MAAM/b,KAAK+b,MAAMvb,OAAS,KAAOR,KAAKqM,QAC3ChI,EAAcY,QAAQ2U,aAAa6C,EAAK,cAAepY,EAAcY,QAAQyX,aAAaD,EAAK,eAAiB,SAAW,SAGnIzc,KAAK6b,IAAI3a,KAAKub,GACdzc,KAAKuM,QACLvM,KAAK+b,MAAQ,EACjB,EACA/D,EAAUrW,UAAUwa,OAAS,WACzB,IAAI3Z,EACAxC,KAAKoK,YAAY,eAAqC,IAApBpK,KAAK6b,IAAIrb,QAC3CR,KAAK6b,IAAIpS,QAAQzJ,KAAK6b,IAAIzP,OAC1B5J,EAAOxC,KAAKkD,OAAO,OAAQ,aAAclD,KAAK6b,MAG9CrZ,EAAOxC,KAAKkD,OAAO,OAAQ,MAAOlD,KAAK6b,KAE3C7b,KAAK4b,MAAM1a,KAAKsB,GAChBxC,KAAK6b,IAAM,EACf,EACA7D,EAAUrW,UAAUya,SAAW,YACvBpc,KAAKqM,QAAUrM,KAAK6b,IAAIrb,UACxBR,KAAKkc,WACLlc,KAAKmc,UAETnc,KAAK2c,YACT,EACA3E,EAAUrW,UAAUgb,WAAa,WAC7B,GAAI3c,KAAKgc,SAAmB,SAAG,CAC3B,IAAIY,EAAQ5c,KAAKgc,SAAmB,SAAE1R,MAAM,KACxCsS,EAAMpc,SAAWR,KAAK4b,MAAMpb,QAC5BR,KAAK8b,MAAM5a,KAAK,UAChB0b,EAAMxQ,MACNpM,KAAKgc,SAAmB,SAAIY,EAAMrS,KAAK,MAElCqS,EAAMpc,OAASR,KAAK4b,MAAMpb,OAAS,IACxCR,KAAKgc,SAAmB,UAAK,QAErC,CACA,GAAIhc,KAAKoK,YAAY,cAAe,CAEhC,IADA,IAAIyS,EAAO7c,KAAKgc,SAAqB,WAAE1R,MAAM,KACtCuS,EAAKrc,OAASR,KAAK4b,MAAMpb,QAC5Bqc,EAAK3b,KAAKlB,KAAKoK,YAAY,cAAgB,MAE/CpK,KAAKgc,SAAqB,WAAIa,EAAKtS,KAAK,IAC5C,CACJ,EACAyN,EAAUrW,UAAUmb,cAAgB,SAAUC,GAC1C,GAAI/c,KAAKgc,SAAqB,WAAG,CAC7B,IAAIa,EAAO7c,KAAKgc,SAAqB,WAAE1R,MAAM,KAC7C,IAAKtK,KAAKoK,YAAY,cAAe,CACjC,IAAI4S,EAAQhX,EAAef,QAAQgY,SAASJ,EAAK,IACjD7c,KAAKkI,YAAY,aAAc8U,EACnC,CAEA,IADA,IAAIE,EAAald,KAAKoK,YAAY,cAC3ByS,EAAKrc,OAASR,KAAK4b,MAAMpb,QAC5Bqc,EAAK3b,KAAK8E,EAAef,QAAQkY,GAAGD,IAExCL,EAAK7c,KAAK4b,MAAMpb,OAAS,GAAKwF,EAAef,QAAQkY,GAAGC,KAAKC,IAAI,EAAGH,EAAalX,EAAef,QAAQgY,SAASF,KACjH/c,KAAKgc,SAAqB,WAAIa,EAAKtS,KAAK,IAC5C,CACJ,EACOyN,CACX,CA3JgB,CA2Jd7J,EAAepC,UACjB/J,EAAQgW,UAAYA,EACpB,IAAIC,EAAgB,SAAUrL,GAE1B,SAASqL,EAAa1T,GAElB,IADA,IAAIpB,EAAO,GACFC,EAAK,EAAGA,EAAK5B,UAAUhB,OAAQ4C,IACpCD,EAAKC,EAAK,GAAK5B,UAAU4B,GAE7B,IAAIyJ,EAAQD,EAAOrM,KAAKP,KAAMuE,IAAYvE,KAG1C,OAFA6M,EAAMyQ,OAAS,EACfzQ,EAAMtI,QAAQqB,cAAcmE,KAAKwT,MAAMpa,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACvD0J,CACX,CAkDA,OA5DAvB,EAAU2M,EAAcrL,GAWxB9K,OAAOC,eAAekW,EAAatW,UAAW,OAAQ,CAClD+B,IAAK,WACD,MAAO,UACX,EACAkG,YAAY,EACZC,cAAc,IAElBoO,EAAatW,UAAUua,SAAW,WAC1Blc,KAAK6b,IAAIrb,QACTwF,EAAef,QAAQuY,aAAaxd,KAAKuE,QAAQqB,cAAe5F,KAAKkC,OAEzE,IAAIM,EAAOxC,KAAKkD,OAAO,OAAQ,MAAOlD,KAAKkC,OAC3ClC,KAAK6b,IAAI3a,KAAKsB,GACdxC,KAAKuM,OACT,EACA0L,EAAatW,UAAUwa,OAAS,WACxBnc,KAAK6b,IAAIrb,OAASR,KAAKsd,SACvBtd,KAAKsd,OAAStd,KAAK6b,IAAIrb,QAE3B,IAAIid,EAAM,MACNC,EAAM1d,KAAKuE,QAAQqB,cAAcmE,KAAK4T,SACtCD,IACA1d,KAAK6b,IAAM,CAAC6B,GAAK7b,OAAO7B,KAAK6b,KAC7B4B,EAAM,cAEVzd,KAAKuE,QAAQqB,cAAcmE,KAAK6T,WAChC,IAAIpb,EAAOxC,KAAKkD,OAAO,OAAQua,EAAKzd,KAAK6b,KACzC7b,KAAK4b,MAAM1a,KAAKsB,GAChBxC,KAAK6b,IAAM,EACf,EACA5D,EAAatW,UAAUya,SAAW,WAC9BxP,EAAOjL,UAAUya,SAAS7b,KAAKP,MAC/BA,KAAKuE,QAAQqB,cAAcmE,KAAKrB,MAChC1I,KAAK6d,YAAY,cAAe7d,KAAKsd,QACrCtd,KAAK6d,YAAY,cAAe7d,KAAKsd,QACrCtd,KAAK6d,YAAY,gBAAiB7d,KAAKsd,OAAS,EACpD,EACArF,EAAatW,UAAUkc,YAAc,SAAUpW,EAAM4V,GACjD,GAAKrd,KAAKgc,SAASvU,GAAnB,CAEA,IAAIqW,EAAS9d,KAAKgc,SAASvU,GAAM6C,MAAM,KACnCyT,EAAU3c,EAAc,GAAIP,EAAOid,IAAS,GAChD,GAAIC,EAAQvd,OAAS,EAAG,CACpB,KAAOud,EAAQvd,OAAS6c,GACpBU,EAAQ7c,KAAKmC,MAAM0a,EAAS3c,EAAc,GAAIP,EAAOid,IAAS,IAElE9d,KAAKgc,SAASvU,GAAQsW,EAAQnc,MAAM,EAAGyb,GAAK9S,KAAK,IACrD,CARU,CASd,EACO0N,CACX,CA9DmB,CA8DjBD,GACFhW,EAAQiW,aAAeA,EACvB,IAAIC,EAAgB,SAAUtL,GAE1B,SAASsL,EAAa3T,GAElB,IADA,IAAIpB,EAAO,GACFC,EAAK,EAAGA,EAAK5B,UAAUhB,OAAQ4C,IACpCD,EAAKC,EAAK,GAAK5B,UAAU4B,GAE7B,IAAIyJ,EAAQD,EAAOrM,KAAKP,KAAMuE,IAAYvE,KAE1C,OADA6M,EAAMtI,QAAQqB,cAAcmE,KAAKwT,MAAM,YAAY,EAAMpa,EAAK,IACvD0J,CACX,CA2BA,OApCAvB,EAAU4M,EAActL,GAUxB9K,OAAOC,eAAemW,EAAavW,UAAW,OAAQ,CAClD+B,IAAK,WACD,MAAO,UACX,EACAkG,YAAY,EACZC,cAAc,IAElB/H,OAAOC,eAAemW,EAAavW,UAAW,SAAU,CACpD+B,IAAK,WACD,OAAO,CACX,EACAkG,YAAY,EACZC,cAAc,IAElBqO,EAAavW,UAAUyL,UAAY,SAAUC,GACzC,GAAIA,EAAKF,OAAO,OAAQ,CACpB,IAAI/F,EAAMpH,KAAKwM,QACXkR,EAAM1d,KAAKuE,QAAQqB,cAAcmE,KAAK4T,SAE1C,OADA3d,KAAKuE,QAAQqB,cAAcmE,KAAKrB,MACzB,CAAC,CAACgV,EAAM1d,KAAKuE,QAAQqB,cAAcmE,KAAKiU,MAAM5W,EAAKsW,GAAOtW,EAAKiG,IAAO,EACjF,CACA,GAAIA,EAAKF,OAAO,QACZ,MAAM,IAAIlB,EAAchH,QAAQ,gBAAiB,oBAAqBjF,KAAKuN,WAE/E,OAAOX,EAAOjL,UAAUyL,UAAU7M,KAAKP,KAAMqN,EACjD,EACO6K,CACX,CAtCmB,CAsCjB/J,EAAepC,UACjB/J,EAAQkW,aAAeA,C,wBCt7BvB,IAAIzD,EAAmBzU,MAAQA,KAAKyU,kBAAqB3S,OAAOoB,OAAS,SAAUjD,EAAGI,EAAGqU,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAO/S,OAAOgT,yBAAyBzU,EAAGqU,GACzCG,KAAS,QAASA,GAAQxU,EAAE8D,WAAa0Q,EAAKE,UAAYF,EAAKhL,gBAClEgL,EAAO,CAAEjL,YAAY,EAAMlG,IAAK,WAAa,OAAOrD,EAAEqU,EAAI,IAE5D5S,OAAOC,eAAe9B,EAAG0U,EAAIE,EAChC,EAAI,SAAU5U,EAAGI,EAAGqU,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BzU,EAAE0U,GAAMtU,EAAEqU,EACb,GACGM,EAAsBhV,MAAQA,KAAKgV,qBAAwBlT,OAAOoB,OAAS,SAAUjD,EAAGgV,GACxFnT,OAAOC,eAAe9B,EAAG,UAAW,CAAE2J,YAAY,EAAMlJ,MAAOuU,GAClE,EAAI,SAAShV,EAAGgV,GACbhV,EAAW,QAAIgV,CACnB,GACIC,EAAgBlV,MAAQA,KAAKkV,cAAiB,SAAUhR,GACxD,GAAIA,GAAOA,EAAIC,WAAY,OAAOD,EAClC,IAAIuG,EAAS,CAAC,EACd,GAAW,MAAPvG,EAAa,IAAK,IAAIwQ,KAAKxQ,EAAe,YAANwQ,GAAmB5S,OAAOH,UAAUiK,eAAerL,KAAK2D,EAAKwQ,IAAID,EAAgBhK,EAAQvG,EAAKwQ,GAEtI,OADAM,EAAmBvK,EAAQvG,GACpBuG,CACX,EACIxG,EAAmBjE,MAAQA,KAAKiE,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACApC,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtD,IAAIud,EAAK/I,EAAa,EAAQ,QAC1BnP,EAAoB,EAAQ,OAC5BmY,EAAmBja,EAAgB,EAAQ,QAC3Cka,EAAoBla,EAAgB,EAAQ,OAC5C+B,EAAiB/B,EAAgB,EAAQ,QACzCiV,EAAe,EAAQ,OACvBkF,EAAe,EAAQ,OAC3B,IAAIH,EAAGI,UAAU,SAAUF,EAAkBlZ,QAAQgB,SAAU,UAC/D,IAAIgY,EAAGI,UAAU,QAASF,EAAkBlZ,QAAQkC,MAAO,WAC3D,IAAI8W,EAAGI,UAAU,UAAWF,EAAkBlZ,QAAQuC,gBAAiB,OACvE,IAAIyW,EAAGK,SAAS,UAAW,CACvB,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,cACL,EAAK,YACL,IAAK,QACL,KAAM,QACN,KAAM,QACN,KAAM,QACN,IAAM,QACN,IAAK,UACL,IAAK,QACL,IAAK,OACL,IAAU,QACV,IAAU,SACXJ,EAAiBjZ,SACpB,IAAIgZ,EAAG7H,aAAa,cAAe+H,EAAkBlZ,QAAQ2C,YAAa,CACtE2W,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,MAAO,IACPC,QAAS,IACTC,KAAM,IACNC,IAAK,IACLC,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,OAAQ,IACRC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,QAAS,IACTC,GAAI,IACJC,IAAK,IACLC,MAAO,IACPC,IAAK,IACLC,QAAS,IACTC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,MAAO,IACPC,WAAY,IACZC,SAAU,IACVC,MAAO,IACPC,OAAQ,IACRC,SAAU,IACVC,OAAQ,IACRC,EAAG,CAAC,IAAU,CAAEzZ,YAAab,EAAkBc,YAAYC,QAAQC,SACnEuZ,MAAO,CAAC,IAAU,CAAE1Z,YAAab,EAAkBc,YAAYC,QAAQC,SACvEwZ,KAAM,CAAC,IAAU,CAAEC,aAAa,IAChCC,MAAO,IACPC,MAAO,IACPC,IAAK,IACLC,GAAI,CAAC,IAAU,CAAEha,YAAab,EAAkBc,YAAYC,QAAQC,SACpE8Z,GAAI,CAAC,IAAU,CAAEja,YAAab,EAAkBc,YAAYC,QAAQC,SACpE+Z,GAAI,CAAC,IAAU,CAAEla,YAAab,EAAkBc,YAAYC,QAAQC,SACpEga,QAAS,CAAC,IAAU,CAAEna,YAAab,EAAkBc,YAAYC,QAAQiB,SACzEiZ,MAAO,CAAC,IAAU,CAAEpa,YAAab,EAAkBc,YAAYC,QAAQC,SACvEka,MAAO,CAAC,IAAU,CAAET,aAAa,IACjCU,SAAU,CAAC,IAAU,CAAEta,YAAab,EAAkBc,YAAYC,QAAQC,SAC1Eoa,MAAO,CAAC,IAAU,CAAEva,YAAab,EAAkBc,YAAYC,QAAQC,SACvE2S,IAAK,CAAC,IAAU,CAAE9S,YAAab,EAAkBc,YAAYC,QAAQC,SACrEqa,IAAK,CAAC,IAAU,CAAExa,YAAab,EAAkBc,YAAYC,QAAQC,SACrEsa,MAAO,CAAC,IAAU,CAAEza,YAAab,EAAkBc,YAAYC,QAAQC,SACvEua,SAAU,CAAC,IAAU,CAAE1a,YAAab,EAAkBc,YAAYC,QAAQC,SAC1Ewa,UAAW,CAAC,IAAU,CAAE3a,YAAab,EAAkBc,YAAYC,QAAQC,SAC3Eya,OAAQ,CAAC,IAAU,CAAE5a,YAAab,EAAkBc,YAAYC,QAAQC,SACxE0a,OAAQ,CAAC,IAAU,CAAE7a,YAAab,EAAkBc,YAAYC,QAAQC,SACxE2a,IAAK,CAAC,IAAU,CAAE9a,YAAab,EAAkBc,YAAYC,QAAQC,SACrE4a,KAAM,CAAC,IAAU,CAAE/a,YAAab,EAAkBc,YAAYC,QAAQC,SACtE6a,KAAM,CAAC,IAAU,CAAEhb,YAAab,EAAkBc,YAAYC,QAAQC,SACtE8a,QAAS,CAAC,IAAU,CAAEjb,YAAab,EAAkBc,YAAYC,QAAQC,SACzE+a,MAAO,CAAC,IAAU,CAAElb,YAAab,EAAkBc,YAAYC,QAAQC,SACvEgb,SAAU,CAAC,IAAU,CAAEnb,YAAab,EAAkBc,YAAYC,QAAQC,SAC1Eib,YAAa,CAAC,IAAU,CAAEpb,YAAab,EAAkBc,YAAYC,QAAQC,SAC7Ekb,UAAW,CAAC,IAAU,CAAErb,YAAab,EAAkBc,YAAYC,QAAQC,SAC3Emb,UAAW,CAAC,IAAU,CAAEtb,YAAab,EAAkBc,YAAYC,QAAQC,WAE/E,IAAIkX,EAAG7H,aAAa,cAAe+H,EAAkBlZ,QAAQgD,YAAa,CACtEka,KAAM,IACNC,OAAQ,CAAC,IAAU,CAAEpI,SAAUd,EAAae,SAASoI,GAC7CC,YAAY,IACpBC,OAAQ,CAAC,IAAU,CAAEvI,SAAUd,EAAae,SAASoI,GAC7CC,YAAY,IACpBE,SAAU,CAAC,IAAU,CAAExI,SAAUd,EAAae,SAASoI,GAC/CC,YAAY,IACpBG,SAAU,CAAC,IAAU,CAAEzI,SAAUd,EAAae,SAASoI,GAC/CC,YAAY,IACpBI,OAAQ,CAAC,IAAU,CAAE1I,SAAUd,EAAae,SAASoI,GAC7CC,YAAY,IACpBK,OAAQ,CAAC,IAAU,CAAE3I,SAAUd,EAAae,SAASoI,GAC7CC,YAAY,IACpB,IAAO,CAAC,IAAU,CAAEtI,SAAUd,EAAae,SAASoI,KACpDO,MAAO,CAAC,IAAU,CAAE5I,SAAUd,EAAae,SAASoI,GAC5CC,YAAY,EAAMO,eAAe,IACzCC,KAAM,CAAC,IAAU,CAAE9I,SAAUd,EAAae,SAASoI,KACnDU,MAAO,CAAC,IAAU,CAAE/I,SAAUd,EAAae,SAASoI,KACpDW,KAAM,CAAC,IAAU,CAAEhJ,SAAUd,EAAae,SAASoI,GAC3CC,YAAY,IACpBW,IAAK,CAAC,IAAU,CAAEjJ,SAAUd,EAAae,SAASoI,GAC1CC,YAAY,IACpBY,UAAW,CAAC,IAAU,CAAElJ,SAAUd,EAAae,SAASoI,GAChDC,YAAY,IACpBa,SAAU,CAAC,IAAU,CAAEnJ,SAAUd,EAAae,SAASoI,GAC/CC,YAAY,IACpBc,QAAS,CAAC,IAAU,CAAEpJ,SAAUd,EAAae,SAASoI,GAC9CC,YAAY,IACpBe,KAAM,CAAC,IAAU,CAAErJ,SAAUd,EAAae,SAASoI,KACnDiB,SAAU,CAAC,IAAU,CAAEtJ,SAAUd,EAAae,SAASoI,GAC/CC,YAAY,IACpBiB,SAAU,CAAC,IAAU,CAAEC,SAAS,IAChCC,aAAc,IACdC,cAAe,IACfC,cAAe,IACfC,gBAAiB,IACjBC,MAAO,IACPC,KAAM,IACNC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,QAAS,IACTC,OAAQ,IACRC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,QAAS,IACTC,OAAQ,IACRC,GAAI,IACJC,IAAK,IACLC,UAAW,IACXC,KAAM,CAAC,IAAU,CAAEtB,SAAS,IAC5BuB,OAAQ,CAAC,IAAU,CAAEvB,SAAS,IAC9BwB,OAAQ,CAAC,IAAU,CAAExB,SAAS,IAC9ByB,OAAQ,CAAC,IAAU,CAAEzB,SAAS,IAC9B0B,MAAO,CAAC,IAAU,CAAE1B,SAAS,IAC7B2B,GAAI,IACJC,GAAI,IACJC,KAAM,IACNC,QAAS,IACTC,SAAU,IACVC,KAAM,IACNC,IAAK,IACLC,MAAO,IACPC,KAAM,IACNC,OAAQ,IACRC,WAAY,IACZC,WAAY,IACZC,SAAU,IACVC,IAAK,IACLC,MAAO,IACPC,MAAO,IACPC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,KAAM,IACNC,KAAM,IACNC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,SAAU,IACVC,SAAU,IACV,GAAM,IACNC,GAAI,IACJC,MAAO,IACPC,KAAM,IACNC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,GAAI,IACJC,IAAK,IACLC,KAAM,IACNC,MAAO,IACPC,OAAQ,IACRC,OAAQ,IACRC,QAAS,IACTC,eAAgB,IAChBC,UAAW,IACXC,WAAY,IACZC,eAAgB,IAChBC,UAAW,IACXC,KAAM,IACNC,WAAY,IACZtnB,GAAI,CAAC,IAAU,CAAEunB,QAAQ,IACzBC,OAAQ,IACRC,cAAe,IACfC,gBAAiB,IACjBC,eAAgB,IAChBC,iBAAkB,IAClBC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,kBAAmB,IACnBC,eAAgB,IAChBC,cAAe,IACfC,cAAe,IACfC,cAAe,IACfC,eAAgB,IAChBC,eAAgB,IAChBC,mBAAoB,IACpBC,mBAAoB,IACpBC,WAAY,IACZC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,CAAC,IAAU,CAAEzQ,SAAUd,EAAae,SAASyQ,QACpDC,MAAO,CAAC,IAAU,CAAE3Q,SAAUd,EAAae,SAASyQ,QACpDE,MAAO,CAAC,IAAU,CAAE5Q,SAAUd,EAAae,SAASyQ,UAExD,IAAIzM,EAAG7H,aAAa,YAAa+H,EAAkBlZ,QAAQkD,UAAW,CAClE0iB,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,OAAQ,IACRC,GAAI,IACJC,GAAI,IACJC,MAAO,IACPC,QAAS,IACTC,IAAK,IACLC,IAAK,IACLC,MAAO,IACP,EAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACLC,IAAK,MAET,IAAIvN,EAAGwN,aAAa,YAAatN,EAAkBlZ,QAAQmD,UAAW,CAClE,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,OAAQ,IACR,OAAQ,IACR,IAAK,IACL,IAAK,CAAC,IAAK,CAAE4R,SAAUd,EAAae,SAASyR,MAC7C,IAAK,GACL,OAAQ,KACR,eAAgB,IAChB,eAAgB,IAChB,WAAY,IACZ,WAAY,IACZ,cAAe,IACf,cAAe,IACf,cAAe,IACf,SAAU,CAAC,IAAU,CAAE1R,SAAUd,EAAae,SAASyR,MACvD,MAAO,CAAC,IAAU,CAAE1R,SAAUd,EAAae,SAASyR,MACpD,SAAU,CAAC,IAAK,CAAE1R,SAAUd,EAAae,SAASyR,MAClD,YAAa,IACb,cAAe,IACf,gBAAiB,IACjB,YAAa,IACb,cAAe,IACf,gBAAiB,IACjB,cAAe,KACf,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,MAAO,IACP,MAAO,IACP,UAAW,IACX,UAAW,IACX,WAAY,IACZ,WAAY,IACZ,WAAY,IACZ,WAAY,MAEhB,IAAIzN,EAAG0N,WAAW,SAAU,CACxBC,aAAc,CAAC,WAAY,KAAK,EAAM,GACtCC,UAAW,CAAC,WAAY,KAAK,EAAO,GACpCC,YAAa,CAAC,WAAY,KAAK,EAAO,GACtCC,kBAAmB,CAAC,WAAY,MAAM,EAAO,GAC7CC,GAAI,CAAC,UAAWjmB,EAAkBc,YAAYC,QAAQC,QACtDklB,IAAK,CAAC,UAAWlmB,EAAkBc,YAAYC,QAAQiB,QACvDmkB,SAAU,CAAC,UAAWnmB,EAAkBc,YAAYC,QAAQ4I,UAC5Dyc,IAAK,CAAC,UAAWpmB,EAAkBc,YAAYC,QAAQ0I,cACvD4c,GAAI,CAAC,UAAWrmB,EAAkBc,YAAYC,QAAQ8I,YACtDyc,GAAI,CAAC,UAAWtmB,EAAkBc,YAAYC,QAAQ0H,MACtD8d,OAAQ,CAAC,UAAWvmB,EAAkBc,YAAYC,QAAQ4H,cAC1D6d,IAAK,CAAC,UAAWxmB,EAAkBc,YAAYC,QAAQ+H,QACvD2d,KAAM,CAAC,UAAWzmB,EAAkBc,YAAYC,QAAQ6H,SACxD8d,GAAI,CAAC,UAAW1mB,EAAkBc,YAAYC,QAAQiI,WACtD2d,GAAI,CAAC,UAAW3mB,EAAkBc,YAAYC,QAAQqI,WACtDwd,OAAQ,CAAC,WAAY5mB,EAAkBc,YAAYC,QAAQC,QAC3D6lB,OAAQ,CAAC,WAAY7mB,EAAkBc,YAAYC,QAAQC,QAC3D8lB,WAAY,CAAC,WAAY,IACzBC,OAAQ,CAAC,WAAY/mB,EAAkBc,YAAYC,QAAQ0H,MAC3Due,SAAU,CAAC,WAAYhnB,EAAkBc,YAAYC,QAAQ0H,MAC7Dwe,OAAQ,CAAC,WAAYjnB,EAAkBc,YAAYC,QAAQ8I,YAC3Dqd,SAAU,CAAC,WAAYlnB,EAAkBc,YAAYC,QAAQ2H,YAC7Dye,OAAQ,CAAC,WAAYnnB,EAAkBc,YAAYC,QAAQ4H,cAC3Dye,IAAK,CAAC,WAAYpnB,EAAkBc,YAAYC,QAAQ4H,cACxD0e,SAAU,CAAC,WAAYrnB,EAAkBc,YAAYC,QAAQ6H,SAC7D0e,WAAY,CAAC,WAAYtnB,EAAkBc,YAAYC,QAAQ8H,aAC/D0e,QAAS,CAAC,WAAYvnB,EAAkBc,YAAYC,QAAQ+H,QAC5D0e,UAAW,CAAC,WAAYxnB,EAAkBc,YAAYC,QAAQgI,YAC9D0e,OAAQ,CAAC,WAAYznB,EAAkBc,YAAYC,QAAQiI,WAC3D0e,SAAU,CAAC,WAAY1nB,EAAkBc,YAAYC,QAAQiI,WAC7D2e,SAAU,CAAC,WAAY3nB,EAAkBc,YAAYC,QAAQkI,eAC7D2e,WAAY,CAAC,WAAY5nB,EAAkBc,YAAYC,QAAQkI,eAC/D4e,SAAU,CAAC,WAAY7nB,EAAkBc,YAAYC,QAAQmI,iBAC7D4e,WAAY,CAAC,WAAY9nB,EAAkBc,YAAYC,QAAQoI,qBAC/D4e,OAAQ,CAAC,WAAY/nB,EAAkBc,YAAYC,QAAQqI,WAC3D4e,QAAS,CAAC,WAAYhoB,EAAkBc,YAAYC,QAAQ0I,cAC5Dwe,UAAW,CAAC,WAAYjoB,EAAkBc,YAAYC,QAAQ2I,kBAC9Dwe,MAAO,CAAC,WAAYloB,EAAkBc,YAAYC,QAAQC,QAC1DmnB,MAAO,CAAC,WAAYnoB,EAAkBc,YAAYC,QAAQC,QAC1DonB,UAAW,CAAC,WAAY,IACxBC,MAAO,CAAC,WAAYroB,EAAkBc,YAAYC,QAAQ0H,MAC1D6f,QAAS,CAAC,WAAYtoB,EAAkBc,YAAYC,QAAQ0H,MAC5D8f,MAAO,CAAC,WAAYvoB,EAAkBc,YAAYC,QAAQiB,QAC1DwmB,QAAS,CAAC,WAAYxoB,EAAkBc,YAAYC,QAAQ2H,YAC5D+f,MAAO,CAAC,WAAYzoB,EAAkBc,YAAYC,QAAQ4H,cAC1D+f,QAAS,CAAC,WAAY1oB,EAAkBc,YAAYC,QAAQ6H,SAC5D+f,UAAW,CAAC,WAAY3oB,EAAkBc,YAAYC,QAAQ8H,aAC9D+f,OAAQ,CAAC,WAAY5oB,EAAkBc,YAAYC,QAAQ+H,QAC3D+f,SAAU,CAAC,WAAY7oB,EAAkBc,YAAYC,QAAQgI,YAC7D+f,MAAO,CAAC,WAAY9oB,EAAkBc,YAAYC,QAAQiI,WAC1D+f,QAAS,CAAC,WAAY/oB,EAAkBc,YAAYC,QAAQiI,WAC5DggB,QAAS,CAAC,WAAYhpB,EAAkBc,YAAYC,QAAQkI,eAC5DggB,UAAW,CAAC,WAAYjpB,EAAkBc,YAAYC,QAAQkI,eAC9DigB,QAAS,CAAC,WAAYlpB,EAAkBc,YAAYC,QAAQmI,iBAC5DigB,UAAW,CAAC,WAAYnpB,EAAkBc,YAAYC,QAAQoI,qBAC9DigB,MAAO,CAAC,WAAYppB,EAAkBc,YAAYC,QAAQqI,WAC1DigB,OAAQ,CAAC,WAAYrpB,EAAkBc,YAAYC,QAAQ0I,cAC3D6f,SAAU,CAAC,WAAYtpB,EAAkBc,YAAYC,QAAQ2I,kBAC7D6f,OAAQ,CAAC,OAAQ,KAAMvpB,EAAkBc,YAAYC,QAAQC,QAC7DwoB,OAAQ,CAAC,OAAQ,KAAMxpB,EAAkBc,YAAYC,QAAQC,QAC7DyoB,WAAY,CAAC,QACbC,OAAQ,CAAC,OAAQ,KAAM1pB,EAAkBc,YAAYC,QAAQiB,QAC7D2nB,OAAQ,CAAC,OAAQ,KAAM3pB,EAAkBc,YAAYC,QAAQ0H,MAC7DmhB,OAAQ,CAAC,OAAQ,KAAM5pB,EAAkBc,YAAYC,QAAQiI,WAC7D6gB,OAAQ,CAAC,OAAQ,KAAM7pB,EAAkBc,YAAYC,QAAQqI,WAC7D0gB,KAAM,CAAC,UAAW,IAClBC,KAAM,CAAC,UAAW,IAClBC,WAAY,CAAC,UAAW,IACxBC,MAAO,CAAC,UAAW,KACnBC,WAAY,CAAC,UAAW,GACxBC,MAAO,CAAC,UAAW,KACnBC,MAAO,CAAC,UAAW,MACnBC,MAAO,CAAC,UAAW,MACnBC,KAAM,CAAC,UAAW,MAClBC,KAAM,CAAC,UAAW,MAClBC,OAAQ,UACRC,OAAQ,UACRC,OAAQ,UACRC,IAAK,UACLC,IAAK,UACLC,KAAM,UACNC,IAAK,UACLC,KAAM,UACNC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,GAAI,UACJC,IAAK,UACLC,OAAQ,CAAC,UAAW,kBACpBC,OAAQ,CAAC,UAAW,kBACpBC,GAAI,UACJC,IAAK,UACLxU,IAAK,UACLyU,IAAK,UACLC,GAAI,UACJC,IAAK,UACLC,IAAK,UACLC,KAAM,UACNzY,IAAK,UACL0Y,IAAK,UACLC,KAAM,UACNC,OAAQ,CAAC,SAAU,GACnBC,SAAU,CAAC,SAAU,GACrBC,SAAU,CAAC,YAAa,QACxBC,UAAW,CAAC,YAAa,QACzBC,UAAW,CAAC,YAAa,OAAQ,GACjCC,WAAY,CAAC,YAAa,OAAQ,GAClCC,UAAW,CAAC,YAAa,QACzBC,WAAY,CAAC,YAAa,QAC1BC,eAAgB,CAAC,YAAa,QAC9BC,gBAAiB,CAAC,YAAa,QAC/BC,cAAe,CAAC,YAAa,QAC7BC,eAAgB,CAAC,YAAa,QAC9BC,mBAAoB,CAAC,YAAa,QAClCC,oBAAqB,CAAC,YAAa,QACnCC,QAAS,UACTC,SAAU,WACVC,aAAc,eACdC,SAAU,CAAC,QAAS,uCAAwC,GAC5DC,SAAU,CAAC,QAAS,uCAAwC,GAC5DC,KAAM,OACNC,eAAgB,OAChBC,KAAM,OACNC,eAAgB,OAChBC,MAAO,OACPC,gBAAiB,OACjBC,MAAO,CAAC,OAAQ,IAAK,KACrBC,MAAO,CAAC,OAAQ,IAAK,KACrBC,OAAQ,CAAC,OAAQ,IAAK,KACtBC,KAAM,OACNC,KAAM,OACNhrB,KAAM,OACNirB,OAAQ,CAAC,WAAY,UACrBC,SAAU,CAAC,WAAY,YACvBC,KAAM,YACNpmB,MAAO,YACPC,OAAQ,YACRomB,KAAM,MACNC,KAAM,MACNC,MAAO,aACPC,MAAO,aACPC,SAAU,gBACVC,UAAW,gBACX,IAAK,CAAC,SAAUvW,EAAawW,UAAUC,eACvC,IAAK,CAAC,SAAUzW,EAAawW,UAAUE,iBACvC,IAAK,CAAC,SAAU1W,EAAawW,UAAUE,iBACvC,IAAK,CAAC,SAAU1W,EAAawW,UAAUG,gBACvC,IAAK,CAAC,SAAU3W,EAAawW,UAAUI,uBACvCC,QAAS,CAAC,SAAU,IACpBC,KAAM,CAAC,SAAU,GACjBC,MAAO,CAAC,SAAU,GAClBC,UAAW,CAAC,SAAUhX,EAAawW,UAAUC,eAC7CQ,aAAc,CAAC,SAAUjX,EAAawW,UAAUI,uBAChDM,MAAO,QACPC,OAAQ,QACRC,KAAM,QACNC,MAAO,QACPC,OAAQ,QACRC,MAAO,QACPC,KAAM,OACNC,KAAM,CAAC,QACPC,MAAO,CAAC,OAAQ,SAChBC,UAAW,YACXC,IAAK,CAAC,UAAW9c,EAAae,SAASyR,IAAK,KAC5CuK,IAAK,CAAC,UAAW/c,EAAae,SAASyR,IAAK,MAC5CwK,KAAM,CAAC,UAAWhd,EAAae,SAASyR,IAAK,MAC7CyK,KAAM,CAAC,UAAWjd,EAAae,SAASyR,IAAK,MAC7C0K,KAAM,CAAC,UAAWld,EAAae,SAASE,KAAM,KAC9Ckc,KAAM,CAAC,UAAWnd,EAAae,SAASE,KAAM,MAC9Cmc,MAAO,CAAC,UAAWpd,EAAae,SAASE,KAAM,MAC/Coc,MAAO,CAAC,UAAWrd,EAAae,SAASE,KAAM,MAC/Cqc,KAAM,CAAC,UAAWtd,EAAae,SAASC,MAAO,KAC/Cuc,KAAM,CAAC,UAAWvd,EAAae,SAASC,MAAO,MAC/Cwc,MAAO,CAAC,UAAWxd,EAAae,SAASC,MAAO,MAChDyc,MAAO,CAAC,UAAWzd,EAAae,SAASC,MAAO,MAChD0c,KAAM,CAAC,UAAW1d,EAAae,SAASoB,IAAK,KAC7Cwb,KAAM,CAAC,UAAW3d,EAAae,SAASoB,IAAK,MAC7Cyb,MAAO,CAAC,UAAW5d,EAAae,SAASoB,IAAK,MAC9C0b,MAAO,CAAC,UAAW7d,EAAae,SAASoB,IAAK,MAC9C2b,QAAS,CAAC,UAAW9d,EAAae,SAASyR,KAC3CuL,OAAQ,CAAC,UAAW/d,EAAae,SAASoI,IAC1C6U,SAAU,CAAC,UAAWhe,EAAae,SAASE,MAC5Cgd,UAAW,CAAC,UAAWje,EAAae,SAASC,OAC7Ckd,QAAS,CAAC,UAAWle,EAAae,SAAS0B,KAC3C0b,QAAS,CAAC,UAAWne,EAAae,SAASoB,KAC3Cic,UAAW,CAAC,UAAWpe,EAAae,SAASyQ,OAC7C6M,UAAW,CAAC,UAAWre,EAAae,SAASud,OAC7CC,QAAS,CAAC,UAAWve,EAAae,SAASyd,SAC3CC,SAAU,WACVC,KAAM,CAAC,OAAQ,GACf9yB,KAAM,OACN+yB,KAAM,CAAC,OAAQ,GACfC,KAAM,OACNC,MAAO,CAAC,QAAS,+BAAgC,GACjDC,SAAU,WACVC,MAAO,QACPC,UAAW,CAAC,QAAS,iBACrBC,QAAS,UACTC,SAAU,CAAC,UAAW,EAAG,GACzBC,SAAU,CAAC,UAAW,EAAG,GACzBC,MAAO,QACPC,MAAO,CAAC,SAAU,QAClBC,MAAO,CAAC,SAAU,QAClBC,KAAM,CAAC,SAAU,QACjBC,MAAO,CAAC,SAAU,QAClBC,IAAK,CAAC,SAAU,QAChBC,MAAO,CAAC,SAAU,QAClBC,MAAO,CAAC,SAAU,QAClBC,IAAK,CAAC,SAAU,QAChBC,IAAK,CAAC,SAAU,QAChBC,IAAK,CAAC,SAAU,QAChBC,UAAW,CAAC,SAAU,OAAQ,GAC9BC,QAAS,CAAC,SAAU,OAAQ,GAC5BC,OAAQ,SACRC,MAAO,SACPC,QAAS,CAAC,SAAU,IAAK,KACzBC,MAAO,CAAC,SAAU,IAAK,GAAI,YAAa,KAAM,OAAQ,MAClD,GACJC,QAAS,CAAC,SAAU,KAAM,KAAM,cAC5B,EAAInb,EAAaob,IAAIpb,EAAawW,UAAUG,gBAAiB,OAAQ,KACzE0E,aAAc,CAAC,SAAU,KAAM,KAAM,SAAU,KAAM,OAAQ,KAC7DC,GAAI,KACJ,KAAM,UACNC,QAAS,CAAC,WAAW,GACrBC,MAAO,CAAC,QAAS,SACjBC,UAAW,CAAC,QAAS,UACrBC,UAAW,CAAC,SAAU,KAAM,KAAM,cAC9B,EAAI1b,EAAaob,IAAIpb,EAAawW,UAAUG,gBAAiB,OAAQ,IAAK,KAC1E,SACJgF,WAAY,CAAC,SAAU,KAAM,KAAM,cAC/B,EAAI3b,EAAaob,IAAIpb,EAAawW,UAAUG,gBAAiB,OAAQ,IAAK,KAC1E,QACJhZ,MAAO,QACPie,KAAM,QACNC,OAAQ,QACRC,KAAM,CAAC,QAAS,wEAEhBC,KAAM,CAAC,QAAS,0CAA2C,GAC3Dj2B,IAAK,CAAC,QAAS,0FAEX,GACJk2B,IAAK,CAAC,QAAS,gEACuB,GACtCC,IAAK,CAAC,QAAS,8BACfC,KAAM,CAAC,QAAS,sCAAuC,GACvDC,IAAK,CAAC,QAAS,0BAA2B,GAC1CC,IAAK,CAAC,QAAS,8CACfC,MAAO,CAAC,QAAS,iEAEjB,IAAK,CAAC,QAAS,aACfC,IAAK,MACLlf,KAAM,OACNmf,MAAO,QACP,IAAU,QACVC,MAAO,WACPlyB,IAAK,WACLmyB,MAAO,cACPC,IAAK,YACLC,SAAU,cACVC,WAAY,aACZC,SAAU,YACX/c,EAAiBjZ,SACpB,IAAIgZ,EAAGid,eAAe,cAAe/c,EAAkBlZ,QAAQwD,YAAa,CACxE2wB,MAAO,CAAC,gBACR+B,SAAU,CAAC,WAAY,MAAM,GAC7BC,SAAU,CAAC,WAAY,MAAM,GAAM,EAAM,MACrCp1B,EAAef,QAAQo2B,KAAK,EAAGjd,EAAawW,UAAUG,gBAAiB,SAC5E7W,EAAiBjZ,SACpB,IAAIgZ,EAAG7H,aAAa,YAAa,KAAM,CACnC,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,K,wBCxoBd,IAAIklB,EAAYt7B,MAAQA,KAAKs7B,UAAa,WAStC,OARAA,EAAWx5B,OAAOwG,QAAU,SAASizB,GACjC,IAAK,IAAIr7B,EAAGI,EAAI,EAAGQ,EAAIU,UAAUhB,OAAQF,EAAIQ,EAAGR,IAE5C,IAAK,IAAIqL,KADTzL,EAAIsB,UAAUlB,GACOwB,OAAOH,UAAUiK,eAAerL,KAAKL,EAAGyL,KACzD4vB,EAAE5vB,GAAKzL,EAAEyL,IAEjB,OAAO4vB,CACX,EACOD,EAASj4B,MAAMrD,KAAMwB,UAChC,EACIiT,EAAmBzU,MAAQA,KAAKyU,kBAAqB3S,OAAOoB,OAAS,SAAUjD,EAAGI,EAAGqU,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAO/S,OAAOgT,yBAAyBzU,EAAGqU,GACzCG,KAAS,QAASA,GAAQxU,EAAE8D,WAAa0Q,EAAKE,UAAYF,EAAKhL,gBAClEgL,EAAO,CAAEjL,YAAY,EAAMlG,IAAK,WAAa,OAAOrD,EAAEqU,EAAI,IAE5D5S,OAAOC,eAAe9B,EAAG0U,EAAIE,EAChC,EAAI,SAAU5U,EAAGI,EAAGqU,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BzU,EAAE0U,GAAMtU,EAAEqU,EACb,GACGM,EAAsBhV,MAAQA,KAAKgV,qBAAwBlT,OAAOoB,OAAS,SAAUjD,EAAGgV,GACxFnT,OAAOC,eAAe9B,EAAG,UAAW,CAAE2J,YAAY,EAAMlJ,MAAOuU,GAClE,EAAI,SAAShV,EAAGgV,GACbhV,EAAW,QAAIgV,CACnB,GACIC,EAAgBlV,MAAQA,KAAKkV,cAAiB,SAAUhR,GACxD,GAAIA,GAAOA,EAAIC,WAAY,OAAOD,EAClC,IAAIuG,EAAS,CAAC,EACd,GAAW,MAAPvG,EAAa,IAAK,IAAIwQ,KAAKxQ,EAAe,YAANwQ,GAAmB5S,OAAOH,UAAUiK,eAAerL,KAAK2D,EAAKwQ,IAAID,EAAgBhK,EAAQvG,EAAKwQ,GAEtI,OADAM,EAAmBvK,EAAQvG,GACpBuG,CACX,EACI5J,EAAUb,MAAQA,KAAKa,QAAW,SAAUZ,EAAGa,GAC/C,IAAIT,EAAsB,mBAAXF,QAAyBF,EAAEE,OAAOC,UACjD,IAAKC,EAAG,OAAOJ,EACf,IAAmBc,EAAYC,EAA3BV,EAAID,EAAEE,KAAKN,GAAOgB,EAAK,GAC3B,IACI,WAAc,IAANH,GAAgBA,KAAM,MAAQC,EAAIT,EAAEG,QAAQE,MAAMM,EAAGC,KAAKH,EAAEL,MACxE,CACA,MAAOS,GAASH,EAAI,CAAEG,MAAOA,EAAS,CACtC,QACI,IACQJ,IAAMA,EAAEJ,OAASN,EAAIC,EAAU,SAAID,EAAEE,KAAKD,EAClD,CACA,QAAU,GAAIU,EAAG,MAAMA,EAAEG,KAAO,CACpC,CACA,OAAOF,CACX,EACIgD,EAAmBjE,MAAQA,KAAKiE,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACApC,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtD,IAAI86B,EAAQtmB,EAAa,EAAQ,QAC7B7Q,EAAgBJ,EAAgB,EAAQ,QACxCgI,EAAgBhI,EAAgB,EAAQ,QACxCw3B,EAAiBx3B,EAAgB,EAAQ,QACzC8B,EAAoB,EAAQ,OAC5BC,EAAiB/B,EAAgB,EAAQ,QACzCiV,EAAe,EAAQ,OACvBxD,EAAY,EAAQ,OACpB0I,EAAe,EAAQ,OACvBnF,EAAgB,EAAQ,OACxBnQ,EAAe,EAAQ,MACvB4yB,EAAc,CAAC,EAEfC,EAAgB,CAChBC,WAAY,EAAGC,SAAU,EAAGC,WAAY,EAAGC,UAAW,EACtD3hB,MAAO,EAAG4hB,WAAY,EACtBtuB,GAAI,EAAG,MAAS,EAAGuuB,KAAM,EAAGC,MAAO,GAiPvC,SAASC,EAAUj2B,EAAQpF,GACvB,IAAIuF,EAAMH,EAAOI,MAAMD,IACnB+1B,EAAS/1B,EAAY,OACzBA,EAAY,QAAI,EAChB,IAAIg2B,EAAY,IAAIZ,EAAex2B,QAAQnE,EAAGuF,EAAKH,EAAON,eACtDpD,EAAO65B,EAAUj1B,MACjB0F,EAASuvB,EAAU/1B,MAAMwG,OAC7B,GAAIA,EAAiB,UAAKA,EAAe,OAAG,CACxC,IAAIjI,EAAM,CAAC,EACPiI,EAAiB,WACjBjI,EAAW,MAAIiI,EAAiB,UAEhCA,EAAe,SACfjI,EAAa,QAAIiI,EAAe,OAChCjI,EAAY,OAAIiI,EAAe,QAEnCtK,EAAO0D,EAAOhD,OAAO,OAAQ,UAAW,CAACV,GAAOqC,EACpD,CAEA,OADAwB,EAAY,OAAI+1B,EACT55B,CACX,CAnQAk5B,EAAYY,KAAO,SAAUp2B,EAAQrD,GACjCqD,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,QAC1C,EACAw4B,EAAYa,MAAQ,SAAUr2B,EAAQrD,GAClCqD,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,SAC1C,EACAw4B,EAAYc,MAAQ,SAAUt2B,EAAQrD,GAClCqD,EAAOgB,KAAKhB,EAAOhD,OAAO,QAAS,QAAS,CAAC,EAAG+V,EAAc2B,SAAS6hB,MAC3E,EACAf,EAAY5F,MAAQ,SAAUnf,EAAS9T,GAAM,EAC7C64B,EAAYgB,YAAc,SAAUx2B,EAAQrD,GACxC,IAAIT,EAKAu6B,EACAnkB,EALAtS,EAAO02B,UAAUj2B,MAAM,QACvBT,EAAOO,OAASP,EAAOO,OAAOC,OAAO,EAAGR,EAAO5F,EAAI,GAC/C,IAAM4F,EAAOO,OAAOC,OAAOR,EAAO5F,EAAI,IAI9C,IAAIoZ,EAAMxT,EAAOI,MAAMu2B,MACnBnjB,EAAIvM,OAAO,UACkBqL,GAA7BpW,EAAKvB,EAAO6Y,EAAIpN,KAAK,GAAI,IAAc,GAAIqwB,EAASv6B,EAAG,GACvD8D,EAAOI,MAAM6F,QAGbqM,EAAOtS,EAAOI,MAAMw2B,UAEhBtkB,EAAOtS,EAAOhD,OAAO,QAAS,KAAM,CAAC,EAAG,KAGhD,IAAIof,EAAaje,EAAcY,QAAQmF,YAAYoO,EAAM,cACrDmB,EAAWtV,EAAcY,QAAQsU,OAAOf,EAAM,WAAaA,EAAKiB,IAChEjB,EAAKgb,KACT,GAAKnvB,EAAcY,QAAQsU,OAAOf,EAAM,aAAenU,EAAcY,QAAQsU,OAAOf,EAAM,SACtFnU,EAAcY,QAAQ83B,WAAWvkB,EAAMA,EAAKiB,MAC3CpV,EAAcY,QAAQsU,OAAOf,EAAM,gBAAkBnU,EAAcY,QAAQsU,OAAOf,EAAM,UACrFnU,EAAcY,QAAQ83B,WAAWvkB,EAAMA,EAAKgb,QAC3CnvB,EAAcY,QAAQmF,YAAYoO,EAAM,YAC7C,MAAM,IAAIvM,EAAchH,QAAQ,iBAAkB,0CAEjDZ,EAAcY,QAAQsU,OAAOf,EAAM,aAAcnU,EAAcY,QAAQsU,OAAOf,EAAM,UACjF8J,KACKje,EAAcY,QAAQsU,OAAOf,EAAM,eAAiBnU,EAAcY,QAAQsU,OAAOf,EAAM,UACxFnU,EAAcY,QAAQ83B,WAAWvkB,EAAMA,EAAKgb,SAC5Chb,EAAOtS,EAAOhD,OAAO,OAAQ,aAAc,CAACsV,GAAO,CAAE8J,YAAY,KAErE3I,EAAWnB,EAAKgb,MAIhB7Z,GADAnB,EAAOtS,EAAOhD,OAAO,OAAQ,UAAW,CAACsV,KACzBiB,KAGxBvT,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,SAAUsV,GAAMtT,cAAc,CAChEyU,SAAUA,EAAUgjB,OAAQA,EAAQra,WAAYA,IAExD,EACAoZ,EAAYsB,UAAY,SAAU92B,EAAQrD,GACtC,IAAIT,EAMAu6B,EAAQnkB,EALRtS,EAAO02B,UAAUj2B,MAAM,QACvBT,EAAOO,OACHP,EAAOO,OAAOC,OAAO,EAAGR,EAAO5F,EAAI,GAAK,IACpC4F,EAAOO,OAAOC,OAAOR,EAAO5F,EAAI,IAG5C,IAAIoZ,EAAMxT,EAAOI,MAAMu2B,MACnBnjB,EAAIvM,OAAO,UACkBqL,GAA7BpW,EAAKvB,EAAO6Y,EAAIpN,KAAK,GAAI,IAAc,GAAIqwB,EAASv6B,EAAG,GACvD8D,EAAOI,MAAM6F,QAGbqM,EAAOtS,EAAOI,MAAMw2B,UAEhBtkB,EAAOtS,EAAOhD,OAAO,QAAS,KAAM,CAAC,EAAG,KAGhD,IAAIof,EAAaje,EAAcY,QAAQmF,YAAYoO,EAAM,cACrDmB,EAAWtV,EAAcY,QAAQsU,OAAOf,EAAM,WAC9CA,EAAKykB,IAAMzkB,EAAK0kB,MACpB,GAAK74B,EAAcY,QAAQsU,OAAOf,EAAM,aAAenU,EAAcY,QAAQsU,OAAOf,EAAM,SACtFnU,EAAcY,QAAQ83B,WAAWvkB,EAAMA,EAAKykB,MAC3C54B,EAAcY,QAAQsU,OAAOf,EAAM,gBAAkBnU,EAAcY,QAAQsU,OAAOf,EAAM,UACrFnU,EAAcY,QAAQ83B,WAAWvkB,EAAMA,EAAK0kB,SAC3C74B,EAAcY,QAAQmF,YAAYoO,EAAM,YAC7C,MAAM,IAAIvM,EAAchH,QAAQ,mBAAoB,4CAEnDZ,EAAcY,QAAQsU,OAAOf,EAAM,aAAcnU,EAAcY,QAAQsU,OAAOf,EAAM,UACjF8J,KACKje,EAAcY,QAAQsU,OAAOf,EAAM,eAAiBnU,EAAcY,QAAQsU,OAAOf,EAAM,UACxFnU,EAAcY,QAAQ83B,WAAWvkB,EAAMA,EAAK0kB,UAC5C1kB,EAAOtS,EAAOhD,OAAO,OAAQ,aAAc,CAACsV,GAAO,CAAE8J,YAAY,KAErE3I,EAAWnB,EAAK0kB,OAIhBvjB,GADAnB,EAAOtS,EAAOhD,OAAO,OAAQ,UAAW,CAACsV,KACzBykB,KAGxB/2B,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,SAAUsV,GAAMtT,cAAc,CAChEyU,SAAUA,EAAUgjB,OAAQA,EAAQra,WAAYA,IAExD,EACAoZ,EAAYyB,MAAQ,SAAUj3B,EAAQC,GAClC,IAAIqS,EAAOtS,EAAOI,MAAMw2B,OAIxB,GAHKtkB,IACDA,EAAOtS,EAAOhD,OAAO,OAAQ,OAE7BmB,EAAcY,QAAQsU,OAAOf,EAAM,aAAenU,EAAcY,QAAQsU,OAAOf,EAAM,SACrFnU,EAAcY,QAAQ83B,WAAWvkB,EAAMA,EAAKiB,KAC5C,MAAM,IAAIxN,EAAchH,QAAQ,sBAAuB,uDAE3D,IAAIwU,EAAM,GACVvT,EAAO5F,IACP,GACImZ,GAAOR,EAAc2B,SAASqG,MAC9B/a,EAAO5F,IAAK6F,EAAID,EAAO02B,gBACZ,MAANz2B,GAAcA,IAAM8S,EAAc2B,SAASwiB,OACpD3jB,EAAM,CAAC,GAAI,IAAU,IAAU,IAAU,KAAUA,EAAIjZ,SAAWiZ,EAClE,IAAIjX,EAAO0D,EAAOhD,OAAO,QAAS,KAAM,CAAEsd,aAAa,GAAQ/G,GAC/DvT,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,QAASsV,EAAMhW,GACzD,EACAk5B,EAAY2B,QAAU,SAAUn3B,EAAQrD,GACpC,KAAOqD,EAAO5F,EAAI4F,EAAOO,OAAOjG,QAA6C,OAAnC0F,EAAOO,OAAO62B,OAAOp3B,EAAO5F,IAClE4F,EAAO5F,GAEf,EACAo7B,EAAY6B,KAAO,SAAU5mB,EAAS9T,GAClC,MAAM,IAAIoJ,EAAchH,QAAQ,eAAgB,2DACpD,EACAy2B,EAAY8B,SAAW,SAAUt3B,EAAQuB,EAAMg2B,GAC3C,IAAI34B,EAAOoB,EAAOw3B,YAAYj2B,GAC1BL,EAAM,IAAIq0B,EAAex2B,QAAQH,EAAMw2B,EAASA,EAAS,CAAC,EAAGp1B,EAAOI,MAAMD,KAAM,CAAEG,KAAMi3B,EAASl3B,uBAAwB,aAAcS,UAAU,IAASd,EAAON,eAAewB,MACpLlB,EAAOgB,KAAKhB,EAAOhD,OAAO,OAAQ,UAAW,CAACkE,IAClD,EACAs0B,EAAYiC,QAAU,SAAUz3B,EAAQ03B,EAAOp3B,GAC3CN,EAAOI,MAAMD,IAAU,KAAIG,CAC/B,EACAk1B,EAAYmC,SAAW,SAAU33B,EAAQ03B,EAAOE,EAAU5B,EAAO6B,GAC7D73B,EAAOI,MAAMD,IAAW,MAAIy3B,EAC5B53B,EAAOI,MAAMD,IAAW,MAAI03B,EAC5B73B,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,SAASgF,YAAY,SAAU,CAAE0jB,aAAcsQ,EAAO3f,YAAawhB,IAC7G,EACArC,EAAYsC,QAAU,SAAU93B,EAAQ03B,EAAOK,GAC3C/3B,EAAOI,MAAMD,IAAU,KAAI43B,EAC3B/3B,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,SAASgF,YAAY,SAAU,CAAEg2B,UAAU,EAAI9f,EAAaob,IAAIyE,KAC1G,EACAvC,EAAYyC,OAAS,SAAUj4B,EAAQ03B,EAAOjD,GAC1C,IAAIn4B,EAAO0D,EAAOhD,OAAO,OAAQ,SAAU,GAAI,CAAEkY,OAAO,EAAIgD,EAAaob,IAAImB,KACzEuB,EAAQh2B,EAAOhD,OAAO,OAAQ,SAAU,CAACV,GAAO,CAAE+Z,YAAa,IACnErW,EAAOgB,KAAKg1B,EAChB,EACAR,EAAY0C,UAAY,SAAUl4B,EAAQuB,GACtC,IAAI42B,EAAQ52B,EAAKf,OAAO,GACxBR,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAOm7B,EAAOn4B,EAAOo4B,aAAa72B,GAAOvB,EAAOI,MAAMD,IAAI+T,OAC7F,EACAshB,EAAY6C,QAAU,SAAUr4B,EAAQuB,EAAMiG,GACrCA,IACDA,EAAKjG,EAAKf,OAAO,IAErB,IAAIU,EAAMlB,EAAOhD,OAAO,QAAS,KAAM,CAAE8W,SAAUd,EAAae,SAASoI,IAAM3U,GAC/ExH,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,KAAMkE,GAChD,EACAs0B,EAAY8C,QAAU,SAAUt4B,EAAQuB,EAAMiG,GACrCA,IACDA,EAAKjG,EAAKf,OAAO,IAErBgH,EAAKA,EAAGnG,QAAQ,WAAY,KAC5B,IAAIH,EAAMlB,EAAOhD,OAAO,QAAS,KAAM,CACnC2f,eAAe,EACfP,YAAY,EACZ5H,KAAM3U,EAAkBc,YAAYgJ,KAAKC,OACzCkK,SAAUd,EAAae,SAASoI,IACjC3U,GACHxH,EAAOgB,KAAKE,EAChB,EACAs0B,EAAY+C,OAAS,SAAUv4B,EAAQ03B,EAAOvL,GAC1C,IAAIqM,EAAKx4B,EAAOI,MAAMw2B,MAAK,GAC3B,IAAK4B,GAAOr6B,EAAcY,QAAQyW,YAAYrX,EAAcY,QAAQwV,UAAUikB,MAASxlB,EAAae,SAASoI,IAClD,MAAvDhe,EAAcY,QAAQmF,YAAYs0B,EAAI,cACtC,MAAM,IAAIzyB,EAAchH,QAAQ,kBAAmB,kCAAmCiB,EAAOy4B,WAEjG,IACIn8B,EADAkX,EAAMxT,EAAOI,MAAMu2B,MAEnBx4B,EAAcY,QAAQsU,OAAOmlB,EAAI,gBAAkBrM,GACnD7vB,EAAO0D,EAAOhD,OAAO,OAAQ,WAC7BmB,EAAcY,QAAQ25B,aAAaF,EAAIl8B,GACvCk8B,EAAKhlB,EAAImlB,KAAOr8B,GAEX6B,EAAcY,QAAQsU,OAAOmlB,EAAI,YAAcrM,IACpD7vB,EAAO0D,EAAOhD,OAAO,OAAQ,cAC7BmB,EAAcY,QAAQ25B,aAAaF,EAAIl8B,GACvCk8B,EAAKhlB,EAAImlB,KAAOr8B,GAEpB6B,EAAcY,QAAQiD,YAAYw2B,EAAI,eAAcrM,GACpDhuB,EAAcY,QAAQC,cAAcb,EAAcY,QAAQwV,UAAUikB,GAAK,CAAE,eAAiB,KACxFr6B,EAAcY,QAAQyX,aAAagiB,EAAI,kBACvCr6B,EAAcY,QAAQmF,YAAYs0B,EAAI,mBACtCr6B,EAAcY,QAAQC,cAAcw5B,EAAI,CAAE,eAAiB,GAEnE,EACAhD,EAAYoD,KAAO,SAAU54B,EAAQuB,EAAMs3B,EAAM/wB,GAC7C,IAAI5G,EAAMlB,EAAOyC,YAAYzF,OAAO,QAAQgF,YAAY,OAAQhC,EAAOy4B,WACnEI,GAAQ/wB,GACR5G,EAAIc,YAAY,OAAQ62B,GACxB33B,EAAIc,YAAY,QAAS8F,IAEpBvG,EAAKd,MAAM,iBAChBS,EAAIc,YAAY,OAAQhC,EAAOo4B,aAAa72B,IAC5CL,EAAIc,YAAY,QAAShC,EAAOo4B,aAAa72B,KAE7CA,EAAKd,MAAM,YACXS,EAAIc,YAAY,YAAahC,EAAO84B,SAASv3B,KAExCA,EAAKd,MAAM,YAAco4B,GAAQ/wB,IACtC5G,EAAIc,YAAY,YAAa,GAEjChC,EAAOgB,KAAKE,EAChB,EACAs0B,EAAYuD,KAAO,SAAU/4B,EAAQuB,GACjC,IAAIy3B,EAAMh5B,EAAOi5B,SAAS13B,GACtB23B,EAAMl5B,EAAOi5B,SAAS13B,GACtBjF,EAAO0D,EAAOhD,OAAO,OAAQ,QAAS,CAACg8B,EAAKE,IAChDl5B,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAY2D,KAAO,SAAUn5B,EAAQuB,GACjC,IAAI3G,EAAIoF,EAAOo5B,YAAY73B,GACvBipB,EAAMxqB,EAAOw3B,YAAYj2B,GACjB,WAARipB,IACAA,GAAO,IAAMxqB,EAAOw3B,YAAYhN,GAAO,KAAOxqB,EAAOw3B,YAAYhN,GAAO,KAE5E,IAAItpB,EAAM,IAAIq0B,EAAex2B,QAAQyrB,EAAKxqB,EAAOI,MAAMD,IAAKH,EAAON,eAAewB,MAK9EA,EAJCtG,EAIKoF,EAAOhD,OAAO,OAAQ,QAAS,CAACkE,EAAK+0B,EAAUj2B,EAAQpF,KAHvDoF,EAAOhD,OAAO,OAAQ,QAAS,CAACkE,IAK1ClB,EAAOgB,KAAKE,EAChB,EAsBAs0B,EAAY6D,KAAO,SAAUr5B,EAAQuB,GACjC,IAAI3G,EAAIoF,EAAOs5B,QAAQ/3B,EAAM,QACzBipB,EAAMxqB,EAAOi5B,SAAS13B,GACtBjF,EAAO0D,EAAOhD,OAAO,OAAQ,QAAS,CAACwtB,EAAKyL,EAAUj2B,EAAQpF,KAClEoF,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAY+D,SAAW,SAAUv5B,EAAQuB,EAAMiG,GAC3C,IAAKxH,EAAOI,MAAMD,IAAY,OAC1B,MAAM,IAAI4F,EAAchH,QAAQ,oBAAqB,mCAAoCiB,EAAOy4B,WAEpG,GAAIz4B,EAAOI,MAAMwG,OAAOY,GACpB,MAAM,IAAIzB,EAAchH,QAAQ,mBAAoB,qBAAsBiB,EAAOy4B,WAErF,IAAI79B,EAAIoF,EAAOw3B,YAAYj2B,GAC3B,IAAK3G,EAAE6F,MAAM,YACT,MAAM,IAAIsF,EAAchH,QAAQ,aAAc,wCAAyCiB,EAAOy4B,WAG3E,OADvB79B,EAAK4+B,SAAS5+B,EAAG,IAAM,GAAM,MACvB4F,OAAO,EAAG,KACZ5F,EAAI,IAAMA,GAEdoF,EAAOI,MAAMwG,OAAOY,GAAM5M,CAC9B,EACA46B,EAAYiE,OAAS,SAAUz5B,EAAQuB,EAAMmhB,EAAQpgB,GACjD,IAAIrC,EAAID,EAAOi5B,SAAS13B,GACpB5C,EAAMy2B,EAASA,EAAS,CAAC,EAAGt1B,EAAef,QAAQmB,WAAWF,IAAU,CAAE0iB,QAAQ,EAAMgX,YAAY,IACpGC,EAASx7B,EAAcY,QAAQ66B,aAAalX,GAE5CxhB,EADSlB,EAAOhD,OAAO,QAAS,KAAM2B,EAAKg7B,GAE/Cx7B,EAAcY,QAAQ2U,aAAaxS,EAAK,aAAYoB,GACpD,IAAI2N,EAAM9R,EAAcY,QAAQuV,cAAcrU,GAAK9B,EAAcY,QAAQwV,UAAUtU,GAAKA,GACpF9B,EAAcY,QAAQsU,OAAOpD,EAAI,OAAS9R,EAAcY,QAAQmF,YAAY+L,EAAI,mBAChF9R,EAAcY,QAAQC,cAAciR,EAAI,CAAE,eAAiB,IAE/D,IAAI4pB,EAAU75B,EAAOhD,OAAO,OAAQ,cACpCmB,EAAcY,QAAQuU,SAASumB,EAAS,EAAG55B,GAC3C9B,EAAcY,QAAQuU,SAASumB,EAAS,EAAG,MAC3C17B,EAAcY,QAAQuU,SAASumB,EAAS,EAAG34B,GAC3C,IAAI44B,EAAU95B,EAAOhD,OAAO,OAAQ,UAAW,CAAC68B,IAChD75B,EAAOgB,KAAK84B,EAChB,EACAtE,EAAYuE,UAAY,SAAU/5B,EAAQuB,EAAMtB,EAAGG,GAC/C,IAAIu5B,EAASx7B,EAAcY,QAAQ66B,aAAa35B,GAC5CgQ,EAAKjQ,EAAOhD,OAAO,QAAS,KAAM,CAAEsF,UAAU,EAAMogB,QAAQ,GAAQiX,GACpEK,EAA0B,MAAnBz4B,EAAK61B,OAAO,GAAa,OAAS,QACzC9kB,EAAOtS,EAAOi5B,SAAS13B,GAC3BvB,EAAOgB,KAAKlB,EAAef,QAAQk7B,UAAUj6B,EAAQsS,EAAMrC,EAAI+pB,EAAK55B,GACxE,EACAo1B,EAAY0E,QAAU,SAAUl6B,EAAQuB,GACpC,IAAIiS,EAAMxT,EAAOi5B,SAAS13B,GACtB+Q,EAAOtS,EAAOi5B,SAAS13B,GAC3BzB,EAAef,QAAQo7B,mBAAmB7nB,GACtCkB,EAAIvM,OAAO,OACX9I,EAAcY,QAAQ2U,aAAaF,EAAK,UAAU,GAEtD,IAAIlX,EAAO0D,EAAOhD,OAAO,OAAQ,QAAS,CAACsV,EAAMkB,IACjDxT,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAY4E,SAAW,SAAUp6B,EAAQuB,GACrC,IAAI2Z,EAAMlb,EAAOi5B,SAAS13B,GACtB+Q,EAAOtS,EAAOi5B,SAAS13B,GAC3BzB,EAAef,QAAQo7B,mBAAmB7nB,GACtC4I,EAAIjU,OAAO,OACX9I,EAAcY,QAAQ2U,aAAawH,EAAK,UAAU,GAEtD,IAAI5e,EAAO0D,EAAOhD,OAAO,OAAQ,SAAU,CAACsV,EAAM4I,GAAM,CAAEmf,aAAa,IACvEr6B,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAY8E,aAAe,SAAUt6B,EAAQuB,GACzC,IAAIiS,EAAMxT,EAAOi5B,SAAS13B,GACtB2Z,EAAMlb,EAAOi5B,SAAS13B,GACtB+Q,EAAOtS,EAAOi5B,SAAS13B,GAC3BzB,EAAef,QAAQo7B,mBAAmB7nB,GACtCkB,EAAIvM,OAAO,OACX9I,EAAcY,QAAQ2U,aAAaF,EAAK,UAAU,GAElD0H,EAAIjU,OAAO,OACX9I,EAAcY,QAAQ2U,aAAawH,EAAK,UAAU,GAEtD,IAAI5e,EAAO0D,EAAOhD,OAAO,OAAQ,aAAc,CAACsV,EAAM4I,EAAK1H,GAAM,CAAEkP,QAAQ,EAAO2X,aAAa,IAC/Fr6B,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAY+E,QAAU,SAAUv6B,EAAQuB,EAAMi5B,GAC1C,IACIt5B,EACA5E,EACAm+B,EAHA97B,EAAM,CAAEmV,SAAU0mB,GAItB,GAAIA,IAAWxnB,EAAae,SAASoI,GAAI,CACrCxd,EAAgB,WAAIA,EAAmB,eAAI,EAC3C,IAAI6rB,EAAMxqB,EAAOw3B,YAAYj2B,GACzBd,EAAQ+pB,EAAI/pB,MAAM,+BAClBA,GACA9B,EAAiB,YAAIkB,EAAkBc,YAAYC,QAAQC,OAC3DvE,EAAO0D,EAAOhD,OAAO,QAAS,KAAM2B,EAAK8B,EAAM,MAG/Cg6B,EAAS,IAAIlF,EAAex2B,QAAQyrB,EAAKxqB,EAAOI,MAAMD,IAAKH,EAAON,eAAewB,MACjF5E,EAAO0D,EAAOhD,OAAO,OAAQ,UAAW,CAACy9B,GAAS97B,IAEtDuC,EAAMlB,EAAOyC,YAAYzF,OAAO,KAAMV,EAC1C,MAEIm+B,EAASz6B,EAAOi5B,SAAS13B,GACzBL,EAAMlB,EAAOhD,OAAO,OAAQ,UAAW,CAACy9B,GAAS97B,GAErDqB,EAAOgB,KAAKE,EAChB,EACAs0B,EAAYkF,SAAW,SAAU16B,EAAQuB,GACrC,IAKIjF,EALAM,EAAOoD,EAAOw3B,YAAYj2B,GAC1Bo5B,EAAO36B,EAAOo5B,YAAY73B,EAAM,IAAIF,QAAQ,OAAQ,IACpDzC,EAAOoB,EAAOw3B,YAAYj2B,GAC1B5C,EAAM,CAAC,EACPi8B,EAAO,GAEX,IACIt+B,EAAO0D,EAAOhD,OAAO,OAAQJ,EACjC,CACA,MAAO9B,GACHwB,EAAO,IACX,CACA,IAAKA,IAASA,EAAKu+B,QACf,MAAM,IAAI90B,EAAchH,QAAQ,iBAAkB,4BAA6BnC,GAEnF,KAAgB,KAAT+9B,GAAa,CAChB,IAAIl6B,EAAQk6B,EAAKl6B,MAAM,qDACvB,IAAKA,EACD,MAAM,IAAIsF,EAAchH,QAAQ,oBAAqB,+BAAgC47B,GAEzF,IAAKr+B,EAAKsF,WAAWk5B,WAAWr6B,EAAM,MAAQg1B,EAAch1B,EAAM,IAC9D,MAAM,IAAIsF,EAAchH,QAAQ,wBAAyB,0CAA2C0B,EAAM,GAAI7D,GAElH,IAAIpC,EAAQsF,EAAef,QAAQg8B,mBAAmB/6B,EAAQS,EAAM,GAAIA,EAAM,GAAGY,QAAQ,iBAAkB,OACvG7G,IAC4B,SAAxBA,EAAMwgC,cACNxgC,GAAQ,EAEqB,UAAxBA,EAAMwgC,gBACXxgC,GAAQ,GAEZmE,EAAI8B,EAAM,IAAMjG,EAChBogC,EAAK5/B,KAAKyF,EAAM,KAEpBk6B,EAAOA,EAAKn6B,OAAOC,EAAM,GAAGnG,OAChC,CACIsgC,EAAKtgC,SACLqE,EAAI,kBAAoBi8B,EAAKv2B,KAAK,MAEtC,IAAIpF,EAAWe,EAAOhD,OAAO,OAAQ4B,GACrCtC,EAAKwC,YAAYG,GACjBd,EAAcY,QAAQC,cAAc1C,EAAMqC,GAC1CqB,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAYyF,MAAQ,SAAUj7B,EAAQ03B,GAClC,IAAI/hB,EAAM3V,EAAOhD,OAAO,OAAQ,QAC5Bk+B,EAASl7B,EAAOhD,OAAO,OAAQ,UAAW,CAAC2Y,GAAM,CAAExB,OAAQ,QAASC,MAAO,MAAOc,MAAO,IAC7FlV,EAAOgB,KAAKk6B,EAChB,EACA1F,EAAY2F,QAAU,SAAUn7B,EAAQuB,EAAMwN,EAAGqsB,GAC7C,IAAIC,EAAMr7B,EAAOhD,OAAO,OAAQ,WAAY,CAACgD,EAAOi5B,SAAS13B,MACzDwN,GAAKqsB,KACLC,EAAMr7B,EAAOhD,OAAO,OAAQ,UAAW,CAACq+B,IACpCD,IACAj9B,EAAcY,QAAQ2U,aAAa2nB,EAAK,SAAU,GAClDl9B,EAAcY,QAAQ2U,aAAa2nB,EAAK,QAAS,IAEjDtsB,GACA5Q,EAAcY,QAAQ2U,aAAa2nB,EAAK,QAAS,IAGzD,IAAIC,EAAOt7B,EAAOhD,OAAO,OAAQ,UAAW,CAACq+B,IAC7Cr7B,EAAOgB,KAAKs6B,EAChB,EACA9F,EAAY+F,MAAQ,SAAUv7B,EAAQuB,GAClC,IAAIi6B,EAAK17B,EAAef,QAAQ08B,WAAWz7B,EAAOo5B,YAAY73B,EAAM,KAChE6wB,EAAQpyB,EAAOhD,OAAO,OAAQ,UAAW,CAACgD,EAAOi5B,SAAS13B,KAC9D,OAAQi6B,GACJ,IAAK,IACDr9B,EAAcY,QAAQ2U,aAAa0e,EAAO,QAAS,GACnD,MACJ,IAAK,IACDj0B,EAAcY,QAAQ2U,aAAa0e,EAAO,SAAU,GACpD,MACJ,QACIj0B,EAAcY,QAAQ2U,aAAa0e,EAAO,SAAU,GACpDj0B,EAAcY,QAAQ2U,aAAa0e,EAAO,QAAS,GAE3D,IAAIkJ,EAAOt7B,EAAOhD,OAAO,OAAQ,UAAW,CAACo1B,IAC7CpyB,EAAOgB,KAAKs6B,EAChB,EACA9F,EAAYkG,IAAM,SAAU17B,EAAQuB,GAChC,IAAIL,EAAMlB,EAAOhD,OAAO,OAAQ,UAAW,CAACgD,EAAOi5B,SAAS13B,IAAQ,CAAE2T,MAAO,IAChE,WAAT3T,GACApD,EAAcY,QAAQ2U,aAAaxS,EAAK,SAAU,WAEtD,IAAIo6B,EAAOt7B,EAAOhD,OAAO,OAAQ,UAAW,CAACkE,IAC7ClB,EAAOgB,KAAKs6B,EAChB,EACA9F,EAAYmG,WAAa,SAAU37B,EAAQuB,GACvC,IAAI65B,EAAIp7B,EAAO84B,SAASv3B,GACpB4F,EAAOnH,EAAOyC,YAAYzF,OAAO,YAAYgC,cAAc,CAAEuC,KAAMvB,EAAOy4B,UAAWmD,KAAM,aAC3E,MAAhBR,EAAEhE,OAAO,KACTgE,EAAIA,EAAE1/B,MAAM,GACZ6F,EAA0B,UAAnBA,EAAKf,OAAO,GAAiB,UAAY,WAEvC,YAATe,GACA4F,EAAKnF,YAAY,KAAM,IAAMo5B,GAC7Bj0B,EAAKnF,YAAY,KAAM,IAAMo5B,KAG7Bj0B,EAAKnF,YAAY,KAAM,IAAMo5B,GAC7Bj0B,EAAKnF,YAAY,KAAM,IAAMo5B,IAEjCp7B,EAAOgB,KAAKmG,EAChB,EACAquB,EAAYqG,cAAgB,SAAU77B,EAAQuB,GAC1C,IAAI65B,EAAIp7B,EAAO84B,SAASv3B,GACpBu6B,EAAsB,MAAhBV,EAAEhE,OAAO,GAAagE,EAAE1/B,MAAM,GAAK,IAAM0/B,EACnD,GAAa,eAAT75B,EAAuB,CACvB,IAAIw6B,EAAMX,EACVA,EAAIU,EACJA,EAAKC,CACT,CACA/7B,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,YAAYgC,cAAc,CAC5DuC,KAAMvB,EAAOy4B,UAAWmD,KAAM,aAC9BzN,KAAMnuB,EAAOhD,OAAO,OAAQ,SAAU,GAAI,CAAEkY,MAAOkmB,IACnDrzB,MAAO/H,EAAOhD,OAAO,OAAQ,SAAU,GAAI,CAAEkY,MAAO4mB,MAE5D,EACAtG,EAAYwG,MAAQ,SAAUh8B,EAAQuB,GAClC,IAAIjF,EAAO0D,EAAOhD,OAAO,OAAQ,SAAU,GAAI,CAAEkY,MAAOlV,EAAO84B,SAASv3B,KACxEvB,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAYyG,UAAY,SAAUj8B,EAAQ03B,GACtC13B,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,aAC1C,EACAw4B,EAAY7F,KAAO,SAAU3vB,EAAQuB,EAAMy0B,GACvC,IACIr3B,EAAM,CAAEuW,MADJlV,EAAO84B,SAASv3B,GACF4S,OADanU,EAAO84B,SAASv3B,GAClB6S,MAD6BpU,EAAO84B,SAASv3B,IAEhE,UAAVy0B,IACAr3B,EAAoB,eAAKqB,EAAOI,MAAMD,IAAW,OAAK,SAE1D,IAAI7D,EAAO0D,EAAOhD,OAAO,OAAQ,SAAU,GAAI2B,GAC/CqB,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAY9F,KAAO,SAAU1vB,EAAQuB,GACjC,IAAIwN,EAAI/O,EAAOo5B,YAAY73B,GAAO26B,EAAIl8B,EAAO84B,SAASv3B,GAAO65B,EAAIp7B,EAAO84B,SAASv3B,GAC7EL,EAAMlB,EAAOhD,OAAO,OAAQ,SAAU,GAAI,CAC1CkY,MAAOgnB,EAAG/nB,OAAQinB,EAClBe,eAAiBn8B,EAAOI,MAAMD,IAAW,OAAK,UAE9C4O,IACA7N,EAAMlB,EAAOhD,OAAO,OAAQ,UAAW,CAACkE,GAAM,CAAEmT,QAAStF,IACrDA,EAAEtO,MAAM,QACRtC,EAAcY,QAAQ2U,aAAaxS,EAAK,SAAU6N,GAClD5Q,EAAcY,QAAQ2U,aAAaxS,EAAK,QAAS,IAAM6N,EAAEvO,OAAO,KAGhErC,EAAcY,QAAQ2U,aAAaxS,EAAK,SAAU,IAAM6N,IAGhE/O,EAAOgB,KAAKE,EAChB,EACAs0B,EAAY4G,QAAU,SAAUp8B,EAAQuB,EAAMi5B,EAAQzC,GAElD,IAAIsE,EAAU12B,OADdoyB,GAjhBW,mBAkhBgB12B,QAAQ,eAAgB,MAAQ,KACvDc,EAAQnC,EAAOo4B,aAAa72B,GAAM,GAClC0O,EAAKjQ,EAAOhD,OAAO,QAAS,KAAM,CAClCs/B,QAASD,EAASE,QAASF,EAC3Bh6B,OAAO,EAAMC,UAAU,EAAMk6B,WAAW,GACzCr6B,GACC7F,EAAO0D,EAAOhD,OAAO,OAAQ,UAAW,CAACiT,GAAK,CAAE6D,SAAU0mB,IAC9Dx6B,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAYiH,SAAW,SAAUz8B,EAAQuB,GACrC,IAAIiS,EAAMxT,EAAO08B,UAAUn7B,EAAM,UAC7B2Z,EAAMlb,EAAOi5B,SAAS13B,GACtBjF,EAAO0D,EAAOhD,OAAO,OAAQ,cACjCmB,EAAcY,QAAQuU,SAAShX,EAAM,EAAG4e,GACxC/c,EAAcY,QAAQuU,SAAShX,EAAM,EAAG,MACxC6B,EAAcY,QAAQuU,SAAShX,EAAM,EAAGkX,GACxC,IAAI8nB,EAAOt7B,EAAOhD,OAAO,OAAQ,UAAW,CAACV,GAAO,CAAEwX,SAAUd,EAAae,SAASoB,MACtFnV,EAAOgB,KAAKs6B,EAChB,EACA9F,EAAYmH,KAAO,SAAU38B,EAAQuB,EAAMy0B,EAAO11B,GAC9CN,EAAO48B,QAAQ98B,EAAef,QAAQ89B,aAAa78B,EAAQA,EAAOw3B,YAAYj2B,GAAOy0B,EAAO11B,GAChG,EACAk1B,EAAYsH,KAAO,SAAU98B,EAAQuB,GACjC,IAAIw7B,EAAWj9B,EAAef,QAAQ89B,aAAa78B,EAAQA,EAAOw3B,YAAYj2B,IAC1EjF,EAAO0D,EAAOhD,OAAO,OAAQ,WAAY+/B,EAAU,CAAEzmB,SAAU,QACnEtW,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAYwH,SAAW,SAAUh9B,EAAQuB,GACrC,IAAI2T,EAAQlV,EAAOo5B,YAAY73B,GAC3By4B,EAAMh6B,EAAOo5B,YAAY73B,IAAS,IAClCL,EAAMpB,EAAef,QAAQ89B,aAAa78B,EAAQA,EAAOw3B,YAAYj2B,IACrE2T,IACAhU,EAAM,CAAClB,EAAOhD,OAAO,OAAQ,UAAWkE,EAAK,CACrCgU,MAAOA,EACP,cAAc,EAAItS,EAAaiN,QAAQmqB,EAAK,CAAEz+B,EAAG,OAAQV,EAAG,SAAW,cAGnF,IAAIyB,EAAO0D,EAAOhD,OAAO,OAAQ,UAAW,CAACgD,EAAOhD,OAAO,OAAQ,WAAYkE,EAAK,CAAEoV,SAAU,SAAW,CAAExC,SAAUd,EAAae,SAASyR,MAC7IxlB,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAYyH,IAAM,SAAUj9B,EAAQ03B,GAChC13B,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,OAC1C,EACAw4B,EAAY0H,KAAO,SAAUl9B,EAAQ03B,GACjC,IAAIyF,EAAch/B,EAAcY,QAAQ66B,aAAa,QACjDwD,EAAcj/B,EAAcY,QAAQ66B,aAAa,QACjD9V,EAAQ9jB,EAAOhD,OAAO,QAAS,KAAM,CAAEsF,UAAU,GAAS66B,GAC1DpZ,EAAQ/jB,EAAOhD,OAAO,QAAS,KAAM,CAAEsF,UAAU,GAAS86B,GAC9Dp9B,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,QAAQgC,cAAc,CACxD8kB,MAAOA,EACPC,MAAOA,IAEf,EACAyR,EAAY6H,OAAS,SAAUr9B,EAAQ03B,EAAOmB,EAAM/wB,EAAOw1B,EAAOzmB,EAAS0mB,EAAUvH,EAAO5C,EAAOoK,GAC/F,IAAIv9B,EAAID,EAAO02B,UACf,GAAU,KAANz2B,EACA,MAAM,IAAI8F,EAAchH,QAAQ,gBAAiB,0BAA2BiB,EAAOy4B,WAE7E,MAANx4B,EACAD,EAAO5F,KAGP4F,EAAOO,OAASN,EAAI,IAAMD,EAAOO,OAAO7E,MAAMsE,EAAO5F,EAAI,GACzD4F,EAAO5F,EAAI,GAEf,IAAI84B,EAAQlzB,EAAOyC,YAAYzF,OAAO,SAASgF,YAAY,gBAAgB,GAC3EkxB,EAAMpd,SAAW,CACbkB,WAAaumB,GAAY,MACzBE,cAAgB5mB,GAAW,OAE3Buc,GACAF,EAAMlxB,YAAY,WAAW,GAE7Bw7B,IACAtK,EAAMlxB,YAAY,cAAc,GAChCkxB,EAAMpd,SAAS4nB,KAAOF,IAEtB3E,GAAQ/wB,KACRorB,EAAMlxB,YAAY,OAAQ62B,GAC1B3F,EAAMlxB,YAAY,QAAS8F,IAEjB,MAAVkuB,IACA9C,EAAMpd,SAAS4P,cAAe,GAErB,MAAT4X,IACApK,EAAMpd,SAAS6nB,YAAcL,GAEjCt9B,EAAOgB,KAAKkyB,EAChB,EACAsC,EAAYoI,MAAQ,SAAU59B,EAAQuB,GAClCvB,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,QAAQgC,cAAc,CAAE6+B,SAAS,EAAMt8B,KAAMA,KACnF,IAAIiS,EAAMxT,EAAOI,MAAMu2B,MACnBx2B,EAAMqT,EAAItP,YAAY,YAE1B,GADYsP,EAAItP,YAAY,YACb/D,EAAf,CAKA,IAHA,IAAI29B,EAAM99B,EAAOO,OACbw9B,EAAS,EAAGj2B,GAAS,EAAG1N,EAAI4F,EAAO5F,EAAGD,EAAI2jC,EAAIxjC,OAC9CkI,EAAOrC,EAAM,IAAI69B,OAAO,kBAAkBriC,OAAOwE,EAAIkB,QAAQ,KAAM,OAAQ,QAAU,KAClFjH,EAAID,GAAG,CACV,IAAI8F,EAAI69B,EAAI1G,OAAOh9B,GACnB,GAAU,MAAN6F,EACA89B,IACA3jC,SAEC,GAAU,MAAN6F,EACU,IAAX89B,EACA5jC,EAAI,GAIW,KADf4jC,GACoBj2B,EAAQ,IACxBA,EAAQ1N,EAAI4F,EAAO5F,GAEvBA,SAGH,IAAU,MAAN6F,GAAwB,IAAX89B,EAClB,MAAM,IAAIh4B,EAAchH,QAAQ,gBAAiB,uCAEhD,GAAU,OAANkB,EAAY,CACjB,IAAIR,EAAOq+B,EAAIt9B,OAAOpG,GAClBqF,EAAKgB,MAAM,4BAA+B+B,GAAO/C,EAAKgB,MAAM+B,GAC5DrI,EAAI,EAGJC,GAAK,CAEb,MAEIA,GACJ,CACJ,CACA,IAAIwE,EAAOk/B,EAAIt9B,OAAOR,EAAO5F,EAAGA,EAAI4F,EAAO5F,GAC3C,IAAKwE,EAAK6B,MAAM,wBAA0BqH,IAAUlJ,EAAKyC,QAAQ,OAAQ,IAAI/G,OAAS,EAAG,CACrF,IAAIyiC,EAAWj9B,EAAef,QAAQ89B,aAAa78B,EAAQF,EAAef,QAAQ08B,WAAW78B,GAAO,GACpGoB,EAAO48B,QAAQG,GACf/8B,EAAO5F,EAAIA,CACf,CA3CU,CA4Cd,EACAo7B,EAAYyI,GAAK,SAAUj+B,EAAQuB,GAC/BvB,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,QAAQgC,cAAc,CAAEk/B,MAAM,EAAM38B,KAAMA,IACpF,EACAi0B,EAAY2I,QAAU,SAAUn+B,EAAQuB,EAAM68B,GAE1C,IAAIxjC,EACJ,QAFmB,IAAfwjC,IAAyBA,GAAa,IAErCA,IACsC,MAAnCp+B,EAAOO,OAAO62B,OAAOp3B,EAAO5F,IAC5B4F,EAAO5F,IAE4B,MAAnC4F,EAAOO,OAAO62B,OAAOp3B,EAAO5F,IAAY,CACxC,IAAI4wB,EAAMhrB,EAAOo5B,YAAY73B,EAAM,IAC/BrF,EAAKvB,EAAOmF,EAAef,QAAQs/B,WAAWrT,GAAM,GAAIxwB,EAAQ0B,EAAG,GAAIoiC,EAAOpiC,EAAG,GACrF,GAAI8uB,IAAQxwB,EACR,MAAM,IAAIuL,EAAchH,QAAQ,yBAA0B,6CAA8CiB,EAAOy4B,WAEnH79B,EAAIJ,EAAQ8jC,CAChB,CAEJt+B,EAAOgB,KAAKhB,EAAOyC,YAAYzF,OAAO,QAAQgC,cAAc,CAAEk/B,MAAM,EAAM38B,KAAMA,EAAMg9B,WAAW,KACjG,IACIjiC,EADAkX,EAAMxT,EAAOI,MAAMu2B,MAEnBnjB,aAAe8hB,EAAMxjB,UACjBlX,GACA4Y,EAAIoD,cAAchc,IAIlBA,IACA0B,EAAO0D,EAAOhD,OAAO,OAAQ,SAAU,GAAI,CAAEoX,MAAOxZ,IACpDoF,EAAOgB,KAAK1E,IAEhBA,EAAO0D,EAAOhD,OAAO,OAAQ,SAAU,GAAI,CAAEuhC,UAAW1+B,EAAkBc,YAAYoJ,UAAUE,UAChGjK,EAAOgB,KAAK1E,GAEpB,EACAk5B,EAAYgJ,MAAQ,SAAUx+B,EAAQ03B,EAAO1B,GAC5B,MAATA,IACAA,EAAQ,SAEZ,IAAIxiB,EAAMxT,EAAOI,MAAMu2B,MACvB,KAAMnjB,aAAe8hB,EAAMxjB,YAAc0B,EAAIrN,OACzC,MAAM,IAAIJ,EAAchH,QAAQ,YAAa,eAAgBiB,EAAOy4B,WAExE,GAAKjlB,EAAIkC,MAAMpb,OAGV,CAED,IADA,IAAIoc,EAASlD,EAAIsC,SAAmB,SAAItC,EAAIsC,SAAmB,SAAE1R,MAAM,KAAO,GACvEsS,EAAMpc,OAASkZ,EAAIkC,MAAMpb,QAC5Boc,EAAM1b,KAAK,QAEf0b,EAAMlD,EAAIkC,MAAMpb,OAAS,GAAK07B,EAC9BxiB,EAAIsC,SAAmB,SAAIY,EAAMrS,KAAK,IAC1C,MATImP,EAAIoC,MAAM5a,KAAK,MAUvB,EACAw6B,EAAYiJ,MAAQ,SAAUz+B,EAAQ03B,GAClC,IAAIlkB,EAAMxT,EAAOI,MAAMu2B,MACvB,KAAInjB,aAAe8hB,EAAMxjB,WAIrB,MAAM,IAAI/L,EAAchH,QAAQ,mBAAoB,wBAAyBiB,EAAOy4B,WAHpFjlB,EAAIqC,MAAM7a,KAAKwY,EAAIrN,OAK3B,EACAqvB,EAAYkJ,SAAW,SAAU1+B,EAAQuB,GACrC,IAAIpB,EAAMH,EAAOw3B,YAAYj2B,GAC7B,GAAIpB,EAAIM,MAAM,OACV,MAAM,IAAIsF,EAAchH,QAAQ,aAAc,gCAAmCoB,GAErF,IAAIoQ,EAAQvQ,EAAON,cAAcwD,SAAS1F,IAAI,eAAeqS,OAAO1P,GACpE,GAAIoQ,GAAkB,UAAThP,EAAkB,CAC3B,IAAKgP,EAAMtT,KAAK,GAAI,CAChB,IAAIiE,EAAMlB,EAAOyC,YAAYzF,OAAO,OAAOgF,YAAY,OAAQ7B,GAE/D,YADAH,EAAOgB,KAAKE,EAEhB,CACAlB,EAAOI,MAAMD,IAAa,QAAIA,CAClC,CACAL,EAAef,QAAQ4/B,eAAe3+B,GAAQ,GAC9CA,EAAOyB,MAAM,cAAe,CAACzB,EAAQG,GACzC,EACAq1B,EAAYh6B,MAAQ,SAAUwE,EAAQ00B,EAAOmE,EAAM/wB,EAAOw1B,EAAOzmB,EAAS0mB,EAAUvH,EAAO4I,GAClFtB,IACDA,EAAQt9B,EAAOw3B,YAAY,WAAa9C,EAAMrtB,UAAY,MAE9D,IAAIqP,GAAS,IAAM4mB,GAAOj8B,QAAQ,YAAa,IAAIA,QAAQ,gBAAiB,MAE5Ei8B,GADAA,EAAQA,EAAMj8B,QAAQ,UAAW,IAAI+C,MAAM,IAAIC,KAAK,MACtChD,QAAQ,KAAM,QAAQA,QAAQ,KAAM,SAASA,QAAQ,KAAM,UACzE,IAAI6xB,EAAQlzB,EAAOyC,YAAYzF,OAAO,SAyCtC,OAxCAk2B,EAAMpd,SAAW,CACb6nB,YAAaL,EACbG,cAAgB5mB,GAAW,MAC3BG,WAAaumB,GAAY,OAEzB7mB,EAAMjW,MAAM,UACRiW,EAAM0gB,OAAO,GAAG32B,MAAM,UACtByyB,EAAMtd,MAAM5a,KAAK,QACjBk4B,EAAMnd,OAA6B,MAApBW,EAAM0gB,OAAO,IAE5B1gB,EAAM0gB,OAAO1gB,EAAMpc,OAAS,GAAGmG,MAAM,SACrCyyB,EAAMtd,MAAM5a,KAAK,SAErB0b,EAAQA,EAAMlW,OAAO,EAAGkW,EAAMpc,OAAS,GACvC44B,EAAMpd,SAAS+oB,YACXnoB,EAAMtS,MAAM,IAAIC,KAAK,KAAKhD,QAAQ,UAAW,QAAQA,QAAQ,MAAO,SAASA,QAAQ,KAAM,WAE/Fw3B,GACA3F,EAAMlxB,YAAY,OAAQhC,EAAO8+B,iBAAiBjG,IAElD/wB,GACAorB,EAAMlxB,YAAY,QAAShC,EAAO8+B,iBAAiBh3B,IAEvB,OAA3BkuB,GAAS,IAAIoB,OAAO,KACrBlE,EAAMpd,SAAS,iBAAkB,EACjCkgB,EAAQA,EAAMoB,OAAO,IAEX,MAAVpB,EACA9C,EAAMpd,SAAuB,cAAI,EAE5BkgB,IACL9C,EAAMpd,SAAuB,cAAI,GAEvB,MAAVkgB,IACA9C,EAAMpd,SAAsB,YAAI,GAEhC8oB,IACA1L,EAAMpd,SAAoB,WAAI,GAElC9V,EAAOgB,KAAK0zB,GACLxB,CACX,EACAsC,EAAYuJ,aAAe,SAAU/+B,EAAQ00B,GACzC,IAAI4I,EAAQt9B,EAAOo5B,YAAY,WAAa1E,EAAMrtB,UAAY,KAC1DF,EAAOquB,EAAYh6B,MAAMwE,EAAQ00B,GACrC,OAAO50B,EAAef,QAAQigC,cAAc73B,EAAMm2B,EACtD,EACA9H,EAAYyJ,SAAW,SAAUj/B,EAAQ00B,EAAO8I,GAG5C,OAFAx9B,EAAOgB,KAAK0zB,GACZ50B,EAAef,QAAQmgC,YAAYl/B,GAC5BA,EAAOyC,YAAYzF,OAAO,WAAYwgC,GACzCx7B,YAAY,OAAQ0yB,EAAMrtB,UAClC,EACAmuB,EAAY2J,SAAW,SAAUn/B,EAAQ00B,EAAO8I,EAAU4B,EAAU9B,EAAOzmB,GACvE7W,EAAOgB,KAAK0zB,GACR0K,GACAt/B,EAAef,QAAQmgC,YAAYl/B,GAGvCs9B,GADAA,EAAQA,EAAMj8B,QAAQ,UAAW,IAAI+C,MAAM,IAAIC,KAAK,MACtChD,QAAQ,KAAM,QAAQA,QAAQ,KAAM,SAASA,QAAQ,KAAM,UACzE,IAAI8U,EAAUnW,EAAOyC,YAAYzF,OAAO,WAAY03B,EAAMrtB,UAAWm2B,EAAU4B,EAAUp/B,EAAOI,MAAMwG,QAStG,OARAuP,EAAQL,SAAW,CACf4P,cAAc,EACdiY,YAAaL,EACbG,cAAgB5mB,GAAW,MAC3BG,WAAY,MACZ0mB,KAAM19B,EAAOoB,QAAiB,QAC9Bi+B,gBAAiBr/B,EAAOoB,QAAmB,WAExC+U,CACX,EACAqf,EAAY8J,YAAc,SAAUt/B,EAAQ03B,GACxC13B,EAAO6D,KAAK07B,OAChB,EACA/J,EAAYgK,YAAc,SAAUx/B,EAAQuB,GACxC,IAAIozB,EAAQ30B,EAAOw3B,YAAYj2B,GAC/B,GAAc,KAAVozB,IAGC30B,EAAO6D,KAAK47B,UAAW,CACxB,GAAIz/B,EAAO6D,KAAK8wB,MACZ,MAAM,IAAI5uB,EAAchH,QAAQ,kBAAmB,cAAeiB,EAAOy4B,WAG7E,GADAz4B,EAAO6D,KAAK8wB,MAAQA,GACf30B,EAAO6D,KAAK67B,UAAU/K,IAAU30B,EAAO6D,KAAK87B,OAAOhL,MAAY30B,EAAOoB,QAA+B,sBACtG,MAAM,IAAI2E,EAAchH,QAAQ,gBAAiB,8BAAiC41B,GAEtF30B,EAAO6D,KAAK87B,OAAOhL,GAAS,IAAInlB,EAAUowB,KAC9C,CACJ,EACApK,EAAYqK,UAAY,SAAU7/B,EAAQuB,EAAMu+B,GAC5C,IAAInL,EAAQ30B,EAAOw3B,YAAYj2B,GAC3BqzB,EAAM50B,EAAO6D,KAAK67B,UAAU/K,IAAU30B,EAAO6D,KAAK87B,OAAOhL,GACxDC,IACI50B,EAAO6D,KAAK47B,YACbz/B,EAAO6D,KAAKk8B,MAAO,GAEvBnL,EAAM,IAAIplB,EAAUowB,OAExB,IAAIpoB,EAAMod,EAAIpd,IACVsoB,IACAtoB,EAAMxX,EAAO6D,KAAKm8B,UAAUxoB,IAEhC,IAAIlb,EAAO0D,EAAOhD,OAAO,OAAQ,OAAQ8C,EAAef,QAAQ89B,aAAa78B,EAAQwX,GAAM,CACvFue,KAAM/1B,EAAO6D,KAAKo8B,UAAUrL,EAAIptB,GAAIxH,EAAOoB,QAAQ8Q,SAAU,MAAS,gBAE1ElS,EAAOgB,KAAK1E,EAChB,EACAk5B,EAAY0K,MAAQ,SAAUlgC,EAAQuB,EAAMgP,EAAO4vB,EAAUxhC,GACzD,GAAIwhC,EAAU,CACV,IAAIljC,EAAO,GACX,GAAW,MAAP0B,EAAa,CACb,IAAIyhC,EAAWpgC,EAAOo5B,YAAY73B,GAClCtE,EAAKjC,KAAiB,MAAZolC,EAAmBzhC,EAAMyhC,EACvC,CACA,IAAK,IAAIhmC,EAAI6C,EAAK3C,OAAQF,EAAI+lC,EAAU/lC,IACpC6C,EAAKjC,KAAKgF,EAAOw3B,YAAYj2B,IAEjCgP,EAAQzQ,EAAef,QAAQshC,eAAergC,EAAQ/C,EAAMsT,EAChE,CACAvQ,EAAOO,OAAST,EAAef,QAAQuhC,QAAQtgC,EAAQuQ,EAAOvQ,EAAOO,OAAO7E,MAAMsE,EAAO5F,IACzF4F,EAAO5F,EAAI,EACX0F,EAAef,QAAQ4/B,eAAe3+B,EAC1C,EACAw1B,EAAY+K,WAAa,SAAUvgC,EAAQuB,GACvC,IAAIi/B,EAAIxgC,EAAOi5B,SAAS13B,GACpBk/B,EAAIzgC,EAAOi5B,SAAS13B,GACpB4Y,EAAIna,EAAOi5B,SAAS13B,GACpBm/B,EAAK1gC,EAAOi5B,SAAS13B,GACzBvB,EAAOgB,KAAKhB,EAAOhD,OAAO,OAAQ,aAAc,CAACwjC,EAAGC,EAAGtmB,EAAGumB,IAC9D,EACA5kC,EAAA,QAAkB05B,C,gBC77BlB55B,OAAOC,eAAeC,EAAS,aAAc,CAAEtB,OAAO,IACtDsB,EAAQ6kC,GAAK7kC,EAAQ8kC,UAAY9kC,EAAQw3B,GAAKx3B,EAAQ+kC,QAAU/kC,EAAQglC,UAAYhlC,EAAQ4yB,UAAY5yB,EAAQilC,SAAWjlC,EAAQklC,MAAQllC,EAAQmlC,cAAW,EAC9JnlC,EAAQmlC,SAAW,IACnBnlC,EAAQklC,MAAQ,CACZL,GAAI,EACJ,GAAM,GACNO,GAAI,GAAK,KACTC,GAAI,GAAK,MAEbrlC,EAAQilC,SAAW,CACfzN,GAAI,EACJ8N,GAAI,KACJC,GAAI,GACJC,GAAI,IACJtoB,GAAI,EAAI,IAEZld,EAAQ4yB,UAAY,CAChB6S,sBAAuB,EAAI,GAC3BC,kBAAmB,EAAI,GACvB7S,cAAe,EAAI,GACnBC,gBAAiB,EAAI,GACrBC,eAAgB,EAAI,GACpB4S,mBAAoB,EAAI,GACxBC,uBAAwB,EAAI,GAC5BC,+BAAgC,EAAI,GACpCC,2BAA4B,EAAI,GAChC9S,uBAAwB,EAAI,GAC5B+S,yBAA0B,EAAI,GAC9BC,wBAAyB,EAAI,GAC7BC,4BAA6B,EAAI,GACjCC,gCAAiC,EAAI,GACrCC,KAAM,IACNC,OAAQ,IACRC,MAAO,GACPC,OAAQ,EACRtS,IAAK,EACLhG,MAAO,EAAI5S,KAAK8W,KAAK,GACrBqU,SAAUvmC,EAAQmlC,UA+BtBnlC,EAAQglC,UA7BR,SAAmBxmC,EAAQy9B,EAAMuK,EAAOhP,GAOpC,QANa,IAATyE,IAAmBA,EAAO,QAChB,IAAVuK,IAAoBA,EAAQ,QACrB,IAAPhP,IAAiBA,EAAK,IACJ,iBAAXh5B,IACPA,EAASqL,OAAOrL,IAEL,KAAXA,GAA2B,MAAVA,EACjB,OAAOy9B,EAEX,GAAIj8B,EAAQ4yB,UAAUp0B,GAClB,OAAOwB,EAAQ4yB,UAAUp0B,GAE7B,IAAImG,EAAQnG,EAAOmG,MAAM,sEACzB,IAAKA,EACD,OAAOs3B,EAEX,IAAI59B,EAAIooC,WAAW9hC,EAAM,IAAM,KAAM69B,EAAO79B,EAAM,GAClD,OAAI3E,EAAQklC,MAAMt7B,eAAe44B,GACtBnkC,EAAI2B,EAAQklC,MAAM1C,GAAQhL,EAAKgP,EAEtCxmC,EAAQilC,SAASr7B,eAAe44B,GACzBnkC,EAAI2B,EAAQilC,SAASzC,GAEnB,MAATA,EACOnkC,EAAI,IAAM49B,EAEd59B,EAAI49B,CACf,EAKAj8B,EAAQ+kC,QAHR,SAAiB1mC,GACb,OAAQ,IAAMA,GAAGqoC,QAAQ,GAAGnhC,QAAQ,SAAU,IAAM,GACxD,EAOAvF,EAAQw3B,GALR,SAAYn5B,GACR,OAAI+c,KAAKurB,IAAItoC,GAAK,KACP,IACHA,EAAEqoC,QAAQ,GAAGnhC,QAAQ,SAAU,IAAO,IAClD,EASAvF,EAAQ8kC,UAPR,SAAmBzmC,EAAGm5B,GAGlB,YAFW,IAAPA,IAAiBA,EAAK,IAC1Bn5B,GAAK+c,KAAKwrB,MAAMvoC,EAAIm5B,GAAM,KAAOA,EAC7Bpc,KAAKurB,IAAItoC,GAAK,KACP,MACJA,EAAEqoC,QAAQ,GAAGnhC,QAAQ,SAAU,IAAM,IAChD,EAYAvF,EAAQ6kC,GAVR,SAAYxmC,EAAGwoC,EAAGrP,GAMd,YALU,IAANqP,IAAgBA,GAAK7mC,EAAQmlC,eACtB,IAAP3N,IAAiBA,EAAK,IAC1Bn5B,GAAKm5B,EACDqP,GAAKxoC,EAAIwoC,IACTxoC,EAAIwoC,GACJzrB,KAAKurB,IAAItoC,GAAK,GACP,IACJA,EAAEqoC,QAAQ,GAAGnhC,QAAQ,OAAQ,IAAM,IAC9C,C","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/core/Tree/Factory.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/NodeFactory.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/ParseMethods.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/ParseOptions.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/StackItem.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/StackItemFactory.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/TexConstants.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/base/BaseConfiguration.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/base/BaseItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/base/BaseMappings.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/input/tex/base/BaseMethods.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/mathjax-full/js/util/lengths.js"],"sourcesContent":["\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractFactory = void 0;\nvar AbstractFactory = (function () {\n    function AbstractFactory(nodes) {\n        var e_1, _a;\n        if (nodes === void 0) { nodes = null; }\n        this.defaultKind = 'unknown';\n        this.nodeMap = new Map();\n        this.node = {};\n        if (nodes === null) {\n            nodes = this.constructor.defaultNodes;\n        }\n        try {\n            for (var _b = __values(Object.keys(nodes)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var kind = _c.value;\n                this.setNodeClass(kind, nodes[kind]);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    AbstractFactory.prototype.create = function (kind) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return (this.node[kind] || this.node[this.defaultKind]).apply(void 0, __spreadArray([], __read(args), false));\n    };\n    AbstractFactory.prototype.setNodeClass = function (kind, nodeClass) {\n        this.nodeMap.set(kind, nodeClass);\n        var THIS = this;\n        var KIND = this.nodeMap.get(kind);\n        this.node[kind] = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new (KIND.bind.apply(KIND, __spreadArray([void 0, THIS], __read(args), false)))();\n        };\n    };\n    AbstractFactory.prototype.getNodeClass = function (kind) {\n        return this.nodeMap.get(kind);\n    };\n    AbstractFactory.prototype.deleteNodeClass = function (kind) {\n        this.nodeMap.delete(kind);\n        delete this.node[kind];\n    };\n    AbstractFactory.prototype.nodeIsKind = function (node, kind) {\n        return (node instanceof this.getNodeClass(kind));\n    };\n    AbstractFactory.prototype.getKinds = function () {\n        return Array.from(this.nodeMap.keys());\n    };\n    AbstractFactory.defaultNodes = {};\n    return AbstractFactory;\n}());\nexports.AbstractFactory = AbstractFactory;\n//# sourceMappingURL=Factory.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeFactory = void 0;\nvar NodeUtil_js_1 = __importDefault(require(\"./NodeUtil.js\"));\nvar NodeFactory = (function () {\n    function NodeFactory() {\n        this.mmlFactory = null;\n        this.factory = { 'node': NodeFactory.createNode,\n            'token': NodeFactory.createToken,\n            'text': NodeFactory.createText,\n            'error': NodeFactory.createError\n        };\n    }\n    NodeFactory.createNode = function (factory, kind, children, def, text) {\n        if (children === void 0) { children = []; }\n        if (def === void 0) { def = {}; }\n        var node = factory.mmlFactory.create(kind);\n        node.setChildren(children);\n        if (text) {\n            node.appendChild(text);\n        }\n        NodeUtil_js_1.default.setProperties(node, def);\n        return node;\n    };\n    NodeFactory.createToken = function (factory, kind, def, text) {\n        if (def === void 0) { def = {}; }\n        if (text === void 0) { text = ''; }\n        var textNode = factory.create('text', text);\n        return factory.create('node', kind, [], def, textNode);\n    };\n    NodeFactory.createText = function (factory, text) {\n        if (text == null) {\n            return null;\n        }\n        return factory.mmlFactory.create('text').setText(text);\n    };\n    NodeFactory.createError = function (factory, message) {\n        var text = factory.create('text', message);\n        var mtext = factory.create('node', 'mtext', [], {}, text);\n        var error = factory.create('node', 'merror', [mtext], { 'data-mjx-error': message });\n        return error;\n    };\n    NodeFactory.prototype.setMmlFactory = function (mmlFactory) {\n        this.mmlFactory = mmlFactory;\n    };\n    NodeFactory.prototype.set = function (kind, func) {\n        this.factory[kind] = func;\n    };\n    NodeFactory.prototype.setCreators = function (maps) {\n        for (var kind in maps) {\n            this.set(kind, maps[kind]);\n        }\n    };\n    NodeFactory.prototype.create = function (kind) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var func = this.factory[kind] || this.factory['node'];\n        var node = func.apply(void 0, __spreadArray([this, rest[0]], __read(rest.slice(1)), false));\n        if (kind === 'node') {\n            this.configuration.addNode(rest[0], node);\n        }\n        return node;\n    };\n    NodeFactory.prototype.get = function (kind) {\n        return this.factory[kind];\n    };\n    return NodeFactory;\n}());\nexports.NodeFactory = NodeFactory;\n//# sourceMappingURL=NodeFactory.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NodeUtil_js_1 = __importDefault(require(\"./NodeUtil.js\"));\nvar TexConstants_js_1 = require(\"./TexConstants.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"./ParseUtil.js\"));\nvar ParseMethods;\n(function (ParseMethods) {\n    function variable(parser, c) {\n        var def = ParseUtil_js_1.default.getFontDef(parser);\n        var env = parser.stack.env;\n        if (env.multiLetterIdentifiers && env.font !== '') {\n            c = parser.string.substr(parser.i - 1).match(env.multiLetterIdentifiers)[0];\n            parser.i += c.length - 1;\n            if (def.mathvariant === TexConstants_js_1.TexConstant.Variant.NORMAL && env.noAutoOP && c.length > 1) {\n                def.autoOP = false;\n            }\n        }\n        var node = parser.create('token', 'mi', def, c);\n        parser.Push(node);\n    }\n    ParseMethods.variable = variable;\n    function digit(parser, c) {\n        var mml;\n        var pattern = parser.configuration.options['digits'];\n        var n = parser.string.slice(parser.i - 1).match(pattern);\n        var def = ParseUtil_js_1.default.getFontDef(parser);\n        if (n) {\n            mml = parser.create('token', 'mn', def, n[0].replace(/[{}]/g, ''));\n            parser.i += n[0].length - 1;\n        }\n        else {\n            mml = parser.create('token', 'mo', def, c);\n        }\n        parser.Push(mml);\n    }\n    ParseMethods.digit = digit;\n    function controlSequence(parser, _c) {\n        var name = parser.GetCS();\n        parser.parse('macro', [parser, name]);\n    }\n    ParseMethods.controlSequence = controlSequence;\n    function mathchar0mi(parser, mchar) {\n        var def = mchar.attributes || { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC };\n        var node = parser.create('token', 'mi', def, mchar.char);\n        parser.Push(node);\n    }\n    ParseMethods.mathchar0mi = mathchar0mi;\n    function mathchar0mo(parser, mchar) {\n        var def = mchar.attributes || {};\n        def['stretchy'] = false;\n        var node = parser.create('token', 'mo', def, mchar.char);\n        NodeUtil_js_1.default.setProperty(node, 'fixStretchy', true);\n        parser.configuration.addNode('fixStretchy', node);\n        parser.Push(node);\n    }\n    ParseMethods.mathchar0mo = mathchar0mo;\n    function mathchar7(parser, mchar) {\n        var def = mchar.attributes || { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL };\n        if (parser.stack.env['font']) {\n            def['mathvariant'] = parser.stack.env['font'];\n        }\n        var node = parser.create('token', 'mi', def, mchar.char);\n        parser.Push(node);\n    }\n    ParseMethods.mathchar7 = mathchar7;\n    function delimiter(parser, delim) {\n        var def = delim.attributes || {};\n        def = Object.assign({ fence: false, stretchy: false }, def);\n        var node = parser.create('token', 'mo', def, delim.char);\n        parser.Push(node);\n    }\n    ParseMethods.delimiter = delimiter;\n    function environment(parser, env, func, args) {\n        var end = args[0];\n        var mml = parser.itemFactory.create('begin').setProperties({ name: env, end: end });\n        mml = func.apply(void 0, __spreadArray([parser, mml], __read(args.slice(1)), false));\n        parser.Push(mml);\n    }\n    ParseMethods.environment = environment;\n})(ParseMethods || (ParseMethods = {}));\nexports.default = ParseMethods;\n//# sourceMappingURL=ParseMethods.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar StackItemFactory_js_1 = __importDefault(require(\"./StackItemFactory.js\"));\nvar NodeFactory_js_1 = require(\"./NodeFactory.js\");\nvar NodeUtil_js_1 = __importDefault(require(\"./NodeUtil.js\"));\nvar Options_js_1 = require(\"../../util/Options.js\");\nvar ParseOptions = (function () {\n    function ParseOptions(configuration, options) {\n        if (options === void 0) { options = []; }\n        this.options = {};\n        this.packageData = new Map();\n        this.parsers = [];\n        this.root = null;\n        this.nodeLists = {};\n        this.error = false;\n        this.handlers = configuration.handlers;\n        this.nodeFactory = new NodeFactory_js_1.NodeFactory();\n        this.nodeFactory.configuration = this;\n        this.nodeFactory.setCreators(configuration.nodes);\n        this.itemFactory = new StackItemFactory_js_1.default(configuration.items);\n        this.itemFactory.configuration = this;\n        Options_js_1.defaultOptions.apply(void 0, __spreadArray([this.options], __read(options), false));\n        (0, Options_js_1.defaultOptions)(this.options, configuration.options);\n    }\n    ParseOptions.prototype.pushParser = function (parser) {\n        this.parsers.unshift(parser);\n    };\n    ParseOptions.prototype.popParser = function () {\n        this.parsers.shift();\n    };\n    Object.defineProperty(ParseOptions.prototype, \"parser\", {\n        get: function () {\n            return this.parsers[0];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ParseOptions.prototype.clear = function () {\n        this.parsers = [];\n        this.root = null;\n        this.nodeLists = {};\n        this.error = false;\n        this.tags.resetTag();\n    };\n    ParseOptions.prototype.addNode = function (property, node) {\n        var list = this.nodeLists[property];\n        if (!list) {\n            list = this.nodeLists[property] = [];\n        }\n        list.push(node);\n        if (node.kind !== property) {\n            var inlists = (NodeUtil_js_1.default.getProperty(node, 'in-lists') || '');\n            var lists = (inlists ? inlists.split(/,/) : []).concat(property).join(',');\n            NodeUtil_js_1.default.setProperty(node, 'in-lists', lists);\n        }\n    };\n    ParseOptions.prototype.getList = function (property) {\n        var e_1, _a;\n        var list = this.nodeLists[property] || [];\n        var result = [];\n        try {\n            for (var list_1 = __values(list), list_1_1 = list_1.next(); !list_1_1.done; list_1_1 = list_1.next()) {\n                var node = list_1_1.value;\n                if (this.inTree(node)) {\n                    result.push(node);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (list_1_1 && !list_1_1.done && (_a = list_1.return)) _a.call(list_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        this.nodeLists[property] = result;\n        return result;\n    };\n    ParseOptions.prototype.removeFromList = function (property, nodes) {\n        var e_2, _a;\n        var list = this.nodeLists[property] || [];\n        try {\n            for (var nodes_1 = __values(nodes), nodes_1_1 = nodes_1.next(); !nodes_1_1.done; nodes_1_1 = nodes_1.next()) {\n                var node = nodes_1_1.value;\n                var i = list.indexOf(node);\n                if (i >= 0) {\n                    list.splice(i, 1);\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (nodes_1_1 && !nodes_1_1.done && (_a = nodes_1.return)) _a.call(nodes_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    ParseOptions.prototype.inTree = function (node) {\n        while (node && node !== this.root) {\n            node = node.parent;\n        }\n        return !!node;\n    };\n    return ParseOptions;\n}());\nexports.default = ParseOptions;\n//# sourceMappingURL=ParseOptions.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseItem = exports.MmlStack = void 0;\nvar TexError_js_1 = __importDefault(require(\"./TexError.js\"));\nvar MmlStack = (function () {\n    function MmlStack(_nodes) {\n        this._nodes = _nodes;\n    }\n    Object.defineProperty(MmlStack.prototype, \"nodes\", {\n        get: function () {\n            return this._nodes;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MmlStack.prototype.Push = function () {\n        var _a;\n        var nodes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n        }\n        (_a = this._nodes).push.apply(_a, __spreadArray([], __read(nodes), false));\n    };\n    MmlStack.prototype.Pop = function () {\n        return this._nodes.pop();\n    };\n    Object.defineProperty(MmlStack.prototype, \"First\", {\n        get: function () {\n            return this._nodes[this.Size() - 1];\n        },\n        set: function (node) {\n            this._nodes[this.Size() - 1] = node;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MmlStack.prototype, \"Last\", {\n        get: function () {\n            return this._nodes[0];\n        },\n        set: function (node) {\n            this._nodes[0] = node;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MmlStack.prototype.Peek = function (n) {\n        if (n == null) {\n            n = 1;\n        }\n        return this._nodes.slice(this.Size() - n);\n    };\n    MmlStack.prototype.Size = function () {\n        return this._nodes.length;\n    };\n    MmlStack.prototype.Clear = function () {\n        this._nodes = [];\n    };\n    MmlStack.prototype.toMml = function (inferred, forceRow) {\n        if (inferred === void 0) { inferred = true; }\n        if (this._nodes.length === 1 && !forceRow) {\n            return this.First;\n        }\n        return this.create('node', inferred ? 'inferredMrow' : 'mrow', this._nodes, {});\n    };\n    MmlStack.prototype.create = function (kind) {\n        var _a;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        return (_a = this.factory.configuration.nodeFactory).create.apply(_a, __spreadArray([kind], __read(rest), false));\n    };\n    return MmlStack;\n}());\nexports.MmlStack = MmlStack;\nvar BaseItem = (function (_super) {\n    __extends(BaseItem, _super);\n    function BaseItem(factory) {\n        var nodes = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            nodes[_i - 1] = arguments[_i];\n        }\n        var _this = _super.call(this, nodes) || this;\n        _this.factory = factory;\n        _this.global = {};\n        _this._properties = {};\n        if (_this.isOpen) {\n            _this._env = {};\n        }\n        return _this;\n    }\n    Object.defineProperty(BaseItem.prototype, \"kind\", {\n        get: function () {\n            return 'base';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseItem.prototype, \"env\", {\n        get: function () {\n            return this._env;\n        },\n        set: function (value) {\n            this._env = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseItem.prototype, \"copyEnv\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BaseItem.prototype.getProperty = function (key) {\n        return this._properties[key];\n    };\n    BaseItem.prototype.setProperty = function (key, value) {\n        this._properties[key] = value;\n        return this;\n    };\n    Object.defineProperty(BaseItem.prototype, \"isOpen\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseItem.prototype, \"isClose\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseItem.prototype, \"isFinal\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BaseItem.prototype.isKind = function (kind) {\n        return kind === this.kind;\n    };\n    BaseItem.prototype.checkItem = function (item) {\n        if (item.isKind('over') && this.isOpen) {\n            item.setProperty('num', this.toMml(false));\n            this.Clear();\n        }\n        if (item.isKind('cell') && this.isOpen) {\n            if (item.getProperty('linebreak')) {\n                return BaseItem.fail;\n            }\n            throw new TexError_js_1.default('Misplaced', 'Misplaced %1', item.getName());\n        }\n        if (item.isClose && this.getErrors(item.kind)) {\n            var _a = __read(this.getErrors(item.kind), 2), id = _a[0], message = _a[1];\n            throw new TexError_js_1.default(id, message, item.getName());\n        }\n        if (!item.isFinal) {\n            return BaseItem.success;\n        }\n        this.Push(item.First);\n        return BaseItem.fail;\n    };\n    BaseItem.prototype.clearEnv = function () {\n        var e_1, _a;\n        try {\n            for (var _b = __values(Object.keys(this.env)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var id = _c.value;\n                delete this.env[id];\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    BaseItem.prototype.setProperties = function (def) {\n        Object.assign(this._properties, def);\n        return this;\n    };\n    BaseItem.prototype.getName = function () {\n        return this.getProperty('name');\n    };\n    BaseItem.prototype.toString = function () {\n        return this.kind + '[' + this.nodes.join('; ') + ']';\n    };\n    BaseItem.prototype.getErrors = function (kind) {\n        var CLASS = this.constructor;\n        return (CLASS.errors || {})[kind] || BaseItem.errors[kind];\n    };\n    BaseItem.fail = [null, false];\n    BaseItem.success = [null, true];\n    BaseItem.errors = {\n        end: ['MissingBeginExtraEnd', 'Missing \\\\begin{%1} or extra \\\\end{%1}'],\n        close: ['ExtraCloseMissingOpen', 'Extra close brace or missing open brace'],\n        right: ['MissingLeftExtraRight', 'Missing \\\\left or extra \\\\right'],\n        middle: ['ExtraMiddle', 'Extra \\\\middle']\n    };\n    return BaseItem;\n}(MmlStack));\nexports.BaseItem = BaseItem;\n//# sourceMappingURL=StackItem.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar StackItem_js_1 = require(\"./StackItem.js\");\nvar Factory_js_1 = require(\"../../core/Tree/Factory.js\");\nvar DummyItem = (function (_super) {\n    __extends(DummyItem, _super);\n    function DummyItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return DummyItem;\n}(StackItem_js_1.BaseItem));\nvar StackItemFactory = (function (_super) {\n    __extends(StackItemFactory, _super);\n    function StackItemFactory() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.defaultKind = 'dummy';\n        _this.configuration = null;\n        return _this;\n    }\n    StackItemFactory.DefaultStackItems = (_a = {},\n        _a[DummyItem.prototype.kind] = DummyItem,\n        _a);\n    return StackItemFactory;\n}(Factory_js_1.AbstractFactory));\nexports.default = StackItemFactory;\n//# sourceMappingURL=StackItemFactory.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TexConstant = void 0;\nvar TexConstant;\n(function (TexConstant) {\n    TexConstant.Variant = {\n        NORMAL: 'normal',\n        BOLD: 'bold',\n        ITALIC: 'italic',\n        BOLDITALIC: 'bold-italic',\n        DOUBLESTRUCK: 'double-struck',\n        FRAKTUR: 'fraktur',\n        BOLDFRAKTUR: 'bold-fraktur',\n        SCRIPT: 'script',\n        BOLDSCRIPT: 'bold-script',\n        SANSSERIF: 'sans-serif',\n        BOLDSANSSERIF: 'bold-sans-serif',\n        SANSSERIFITALIC: 'sans-serif-italic',\n        SANSSERIFBOLDITALIC: 'sans-serif-bold-italic',\n        MONOSPACE: 'monospace',\n        INITIAL: 'inital',\n        TAILED: 'tailed',\n        LOOPED: 'looped',\n        STRETCHED: 'stretched',\n        CALLIGRAPHIC: '-tex-calligraphic',\n        BOLDCALLIGRAPHIC: '-tex-bold-calligraphic',\n        OLDSTYLE: '-tex-oldstyle',\n        BOLDOLDSTYLE: '-tex-bold-oldstyle',\n        MATHITALIC: '-tex-mathit'\n    };\n    TexConstant.Form = {\n        PREFIX: 'prefix',\n        INFIX: 'infix',\n        POSTFIX: 'postfix'\n    };\n    TexConstant.LineBreak = {\n        AUTO: 'auto',\n        NEWLINE: 'newline',\n        NOBREAK: 'nobreak',\n        GOODBREAK: 'goodbreak',\n        BADBREAK: 'badbreak'\n    };\n    TexConstant.LineBreakStyle = {\n        BEFORE: 'before',\n        AFTER: 'after',\n        DUPLICATE: 'duplicate',\n        INFIXLINBREAKSTYLE: 'infixlinebreakstyle'\n    };\n    TexConstant.IndentAlign = {\n        LEFT: 'left',\n        CENTER: 'center',\n        RIGHT: 'right',\n        AUTO: 'auto',\n        ID: 'id',\n        INDENTALIGN: 'indentalign'\n    };\n    TexConstant.IndentShift = {\n        INDENTSHIFT: 'indentshift'\n    };\n    TexConstant.LineThickness = {\n        THIN: 'thin',\n        MEDIUM: 'medium',\n        THICK: 'thick'\n    };\n    TexConstant.Notation = {\n        LONGDIV: 'longdiv',\n        ACTUARIAL: 'actuarial',\n        PHASORANGLE: 'phasorangle',\n        RADICAL: 'radical',\n        BOX: 'box',\n        ROUNDEDBOX: 'roundedbox',\n        CIRCLE: 'circle',\n        LEFT: 'left',\n        RIGHT: 'right',\n        TOP: 'top',\n        BOTTOM: 'bottom',\n        UPDIAGONALSTRIKE: 'updiagonalstrike',\n        DOWNDIAGONALSTRIKE: 'downdiagonalstrike',\n        VERTICALSTRIKE: 'verticalstrike',\n        HORIZONTALSTRIKE: 'horizontalstrike',\n        NORTHEASTARROW: 'northeastarrow',\n        MADRUWB: 'madruwb',\n        UPDIAGONALARROW: 'updiagonalarrow'\n    };\n    TexConstant.Align = {\n        TOP: 'top',\n        BOTTOM: 'bottom',\n        CENTER: 'center',\n        BASELINE: 'baseline',\n        AXIS: 'axis',\n        LEFT: 'left',\n        RIGHT: 'right'\n    };\n    TexConstant.Lines = {\n        NONE: 'none',\n        SOLID: 'solid',\n        DASHED: 'dashed'\n    };\n    TexConstant.Side = {\n        LEFT: 'left',\n        RIGHT: 'right',\n        LEFTOVERLAP: 'leftoverlap',\n        RIGHTOVERLAP: 'rightoverlap'\n    };\n    TexConstant.Width = {\n        AUTO: 'auto',\n        FIT: 'fit'\n    };\n    TexConstant.Actiontype = {\n        TOGGLE: 'toggle',\n        STATUSLINE: 'statusline',\n        TOOLTIP: 'tooltip',\n        INPUT: 'input'\n    };\n    TexConstant.Overflow = {\n        LINBREAK: 'linebreak',\n        SCROLL: 'scroll',\n        ELIDE: 'elide',\n        TRUNCATE: 'truncate',\n        SCALE: 'scale'\n    };\n    TexConstant.Unit = {\n        EM: 'em',\n        EX: 'ex',\n        PX: 'px',\n        IN: 'in',\n        CM: 'cm',\n        MM: 'mm',\n        PT: 'pt',\n        PC: 'pc'\n    };\n})(TexConstant = exports.TexConstant || (exports.TexConstant = {}));\n//# sourceMappingURL=TexConstants.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseConfiguration = exports.BaseTags = exports.Other = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar MapHandler_js_1 = require(\"../MapHandler.js\");\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar bitem = __importStar(require(\"./BaseItems.js\"));\nvar Tags_js_1 = require(\"../Tags.js\");\nrequire(\"./BaseMappings.js\");\nvar OperatorDictionary_js_1 = require(\"../../../core/MmlTree/OperatorDictionary.js\");\nnew SymbolMap_js_1.CharacterMap('remap', null, {\n    '-': '\\u2212',\n    '*': '\\u2217',\n    '`': '\\u2018'\n});\nfunction Other(parser, char) {\n    var font = parser.stack.env['font'];\n    var def = font ?\n        { mathvariant: parser.stack.env['font'] } : {};\n    var remap = MapHandler_js_1.MapHandler.getMap('remap').lookup(char);\n    var range = (0, OperatorDictionary_js_1.getRange)(char);\n    var type = (range ? range[3] : 'mo');\n    var mo = parser.create('token', type, def, (remap ? remap.char : char));\n    range[4] && mo.attributes.set('mathvariant', range[4]);\n    if (type === 'mo') {\n        NodeUtil_js_1.default.setProperty(mo, 'fixStretchy', true);\n        parser.configuration.addNode('fixStretchy', mo);\n    }\n    parser.Push(mo);\n}\nexports.Other = Other;\nfunction csUndefined(_parser, name) {\n    throw new TexError_js_1.default('UndefinedControlSequence', 'Undefined control sequence %1', '\\\\' + name);\n}\nfunction envUndefined(_parser, env) {\n    throw new TexError_js_1.default('UnknownEnv', 'Unknown environment \\'%1\\'', env);\n}\nfunction filterNonscript(_a) {\n    var e_1, _b;\n    var data = _a.data;\n    try {\n        for (var _c = __values(data.getList('nonscript')), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var mml = _d.value;\n            if (mml.attributes.get('scriptlevel') > 0) {\n                var parent_1 = mml.parent;\n                parent_1.childNodes.splice(parent_1.childIndex(mml), 1);\n                data.removeFromList(mml.kind, [mml]);\n                if (mml.isKind('mrow')) {\n                    var mstyle = mml.childNodes[0];\n                    data.removeFromList('mstyle', [mstyle]);\n                    data.removeFromList('mspace', mstyle.childNodes[0].childNodes);\n                }\n            }\n            else if (mml.isKind('mrow')) {\n                mml.parent.replaceChild(mml.childNodes[0], mml);\n                data.removeFromList('mrow', [mml]);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\nvar BaseTags = (function (_super) {\n    __extends(BaseTags, _super);\n    function BaseTags() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return BaseTags;\n}(Tags_js_1.AbstractTags));\nexports.BaseTags = BaseTags;\nexports.BaseConfiguration = Configuration_js_1.Configuration.create('base', {\n    handler: {\n        character: ['command', 'special', 'letter', 'digit'],\n        delimiter: ['delimiter'],\n        macro: ['delimiter', 'macros', 'mathchar0mi', 'mathchar0mo', 'mathchar7'],\n        environment: ['environment']\n    },\n    fallback: {\n        character: Other,\n        macro: csUndefined,\n        environment: envUndefined\n    },\n    items: (_a = {},\n        _a[bitem.StartItem.prototype.kind] = bitem.StartItem,\n        _a[bitem.StopItem.prototype.kind] = bitem.StopItem,\n        _a[bitem.OpenItem.prototype.kind] = bitem.OpenItem,\n        _a[bitem.CloseItem.prototype.kind] = bitem.CloseItem,\n        _a[bitem.PrimeItem.prototype.kind] = bitem.PrimeItem,\n        _a[bitem.SubsupItem.prototype.kind] = bitem.SubsupItem,\n        _a[bitem.OverItem.prototype.kind] = bitem.OverItem,\n        _a[bitem.LeftItem.prototype.kind] = bitem.LeftItem,\n        _a[bitem.Middle.prototype.kind] = bitem.Middle,\n        _a[bitem.RightItem.prototype.kind] = bitem.RightItem,\n        _a[bitem.BeginItem.prototype.kind] = bitem.BeginItem,\n        _a[bitem.EndItem.prototype.kind] = bitem.EndItem,\n        _a[bitem.StyleItem.prototype.kind] = bitem.StyleItem,\n        _a[bitem.PositionItem.prototype.kind] = bitem.PositionItem,\n        _a[bitem.CellItem.prototype.kind] = bitem.CellItem,\n        _a[bitem.MmlItem.prototype.kind] = bitem.MmlItem,\n        _a[bitem.FnItem.prototype.kind] = bitem.FnItem,\n        _a[bitem.NotItem.prototype.kind] = bitem.NotItem,\n        _a[bitem.NonscriptItem.prototype.kind] = bitem.NonscriptItem,\n        _a[bitem.DotsItem.prototype.kind] = bitem.DotsItem,\n        _a[bitem.ArrayItem.prototype.kind] = bitem.ArrayItem,\n        _a[bitem.EqnArrayItem.prototype.kind] = bitem.EqnArrayItem,\n        _a[bitem.EquationItem.prototype.kind] = bitem.EquationItem,\n        _a),\n    options: {\n        maxMacros: 1000,\n        baseURL: (typeof (document) === 'undefined' ||\n            document.getElementsByTagName('base').length === 0) ?\n            '' : String(document.location).replace(/#.*$/, '')\n    },\n    tags: {\n        base: BaseTags\n    },\n    postprocessors: [[filterNonscript, -4]]\n});\n//# sourceMappingURL=BaseConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EquationItem = exports.EqnArrayItem = exports.ArrayItem = exports.DotsItem = exports.NonscriptItem = exports.NotItem = exports.FnItem = exports.MmlItem = exports.CellItem = exports.PositionItem = exports.StyleItem = exports.EndItem = exports.BeginItem = exports.RightItem = exports.Middle = exports.LeftItem = exports.OverItem = exports.SubsupItem = exports.PrimeItem = exports.CloseItem = exports.OpenItem = exports.StopItem = exports.StartItem = void 0;\nvar MapHandler_js_1 = require(\"../MapHandler.js\");\nvar Entities_js_1 = require(\"../../../util/Entities.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar StartItem = (function (_super) {\n    __extends(StartItem, _super);\n    function StartItem(factory, global) {\n        var _this = _super.call(this, factory) || this;\n        _this.global = global;\n        return _this;\n    }\n    Object.defineProperty(StartItem.prototype, \"kind\", {\n        get: function () {\n            return 'start';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StartItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StartItem.prototype.checkItem = function (item) {\n        if (item.isKind('stop')) {\n            var node = this.toMml();\n            if (!this.global.isInner) {\n                node = this.factory.configuration.tags.finalize(node, this.env);\n            }\n            return [[this.factory.create('mml', node)], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return StartItem;\n}(StackItem_js_1.BaseItem));\nexports.StartItem = StartItem;\nvar StopItem = (function (_super) {\n    __extends(StopItem, _super);\n    function StopItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(StopItem.prototype, \"kind\", {\n        get: function () {\n            return 'stop';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StopItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return StopItem;\n}(StackItem_js_1.BaseItem));\nexports.StopItem = StopItem;\nvar OpenItem = (function (_super) {\n    __extends(OpenItem, _super);\n    function OpenItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(OpenItem.prototype, \"kind\", {\n        get: function () {\n            return 'open';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(OpenItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    OpenItem.prototype.checkItem = function (item) {\n        if (item.isKind('close')) {\n            var mml = this.toMml();\n            var node = this.create('node', 'TeXAtom', [mml]);\n            return [[this.factory.create('mml', node)], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    OpenItem.errors = Object.assign(Object.create(StackItem_js_1.BaseItem.errors), {\n        'stop': ['ExtraOpenMissingClose',\n            'Extra open brace or missing close brace']\n    });\n    return OpenItem;\n}(StackItem_js_1.BaseItem));\nexports.OpenItem = OpenItem;\nvar CloseItem = (function (_super) {\n    __extends(CloseItem, _super);\n    function CloseItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(CloseItem.prototype, \"kind\", {\n        get: function () {\n            return 'close';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CloseItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CloseItem;\n}(StackItem_js_1.BaseItem));\nexports.CloseItem = CloseItem;\nvar PrimeItem = (function (_super) {\n    __extends(PrimeItem, _super);\n    function PrimeItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(PrimeItem.prototype, \"kind\", {\n        get: function () {\n            return 'prime';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PrimeItem.prototype.checkItem = function (item) {\n        var _a = __read(this.Peek(2), 2), top0 = _a[0], top1 = _a[1];\n        if (!NodeUtil_js_1.default.isType(top0, 'msubsup') || NodeUtil_js_1.default.isType(top0, 'msup')) {\n            var node = this.create('node', 'msup', [top0, top1]);\n            return [[node, item], true];\n        }\n        NodeUtil_js_1.default.setChild(top0, top0.sup, top1);\n        return [[top0, item], true];\n    };\n    return PrimeItem;\n}(StackItem_js_1.BaseItem));\nexports.PrimeItem = PrimeItem;\nvar SubsupItem = (function (_super) {\n    __extends(SubsupItem, _super);\n    function SubsupItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(SubsupItem.prototype, \"kind\", {\n        get: function () {\n            return 'subsup';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SubsupItem.prototype.checkItem = function (item) {\n        if (item.isKind('open') || item.isKind('left')) {\n            return StackItem_js_1.BaseItem.success;\n        }\n        var top = this.First;\n        var position = this.getProperty('position');\n        if (item.isKind('mml')) {\n            if (this.getProperty('primes')) {\n                if (position !== 2) {\n                    NodeUtil_js_1.default.setChild(top, 2, this.getProperty('primes'));\n                }\n                else {\n                    NodeUtil_js_1.default.setProperty(this.getProperty('primes'), 'variantForm', true);\n                    var node = this.create('node', 'mrow', [this.getProperty('primes'), item.First]);\n                    item.First = node;\n                }\n            }\n            NodeUtil_js_1.default.setChild(top, position, item.First);\n            if (this.getProperty('movesupsub') != null) {\n                NodeUtil_js_1.default.setProperty(top, 'movesupsub', this.getProperty('movesupsub'));\n            }\n            var result = this.factory.create('mml', top);\n            return [[result], true];\n        }\n        if (_super.prototype.checkItem.call(this, item)[1]) {\n            var error = this.getErrors(['', 'sub', 'sup'][position]);\n            throw new (TexError_js_1.default.bind.apply(TexError_js_1.default, __spreadArray([void 0, error[0], error[1]], __read(error.splice(2)), false)))();\n        }\n        return null;\n    };\n    SubsupItem.errors = Object.assign(Object.create(StackItem_js_1.BaseItem.errors), {\n        'stop': ['MissingScript',\n            'Missing superscript or subscript argument'],\n        'sup': ['MissingOpenForSup',\n            'Missing open brace for superscript'],\n        'sub': ['MissingOpenForSub',\n            'Missing open brace for subscript']\n    });\n    return SubsupItem;\n}(StackItem_js_1.BaseItem));\nexports.SubsupItem = SubsupItem;\nvar OverItem = (function (_super) {\n    __extends(OverItem, _super);\n    function OverItem(factory) {\n        var _this = _super.call(this, factory) || this;\n        _this.setProperty('name', '\\\\over');\n        return _this;\n    }\n    Object.defineProperty(OverItem.prototype, \"kind\", {\n        get: function () {\n            return 'over';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(OverItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    OverItem.prototype.checkItem = function (item) {\n        if (item.isKind('over')) {\n            throw new TexError_js_1.default('AmbiguousUseOf', 'Ambiguous use of %1', item.getName());\n        }\n        if (item.isClose) {\n            var mml = this.create('node', 'mfrac', [this.getProperty('num'), this.toMml(false)]);\n            if (this.getProperty('thickness') != null) {\n                NodeUtil_js_1.default.setAttribute(mml, 'linethickness', this.getProperty('thickness'));\n            }\n            if (this.getProperty('open') || this.getProperty('close')) {\n                NodeUtil_js_1.default.setProperty(mml, 'withDelims', true);\n                mml = ParseUtil_js_1.default.fixedFence(this.factory.configuration, this.getProperty('open'), mml, this.getProperty('close'));\n            }\n            return [[this.factory.create('mml', mml), item], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    OverItem.prototype.toString = function () {\n        return 'over[' + this.getProperty('num') +\n            ' / ' + this.nodes.join('; ') + ']';\n    };\n    return OverItem;\n}(StackItem_js_1.BaseItem));\nexports.OverItem = OverItem;\nvar LeftItem = (function (_super) {\n    __extends(LeftItem, _super);\n    function LeftItem(factory, delim) {\n        var _this = _super.call(this, factory) || this;\n        _this.setProperty('delim', delim);\n        return _this;\n    }\n    Object.defineProperty(LeftItem.prototype, \"kind\", {\n        get: function () {\n            return 'left';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(LeftItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    LeftItem.prototype.checkItem = function (item) {\n        if (item.isKind('right')) {\n            return [[this.factory.create('mml', ParseUtil_js_1.default.fenced(this.factory.configuration, this.getProperty('delim'), this.toMml(), item.getProperty('delim'), '', item.getProperty('color')))], true];\n        }\n        if (item.isKind('middle')) {\n            var def = { stretchy: true };\n            if (item.getProperty('color')) {\n                def.mathcolor = item.getProperty('color');\n            }\n            this.Push(this.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.CLOSE }), this.create('token', 'mo', def, item.getProperty('delim')), this.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.OPEN }));\n            this.env = {};\n            return [[this], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    LeftItem.errors = Object.assign(Object.create(StackItem_js_1.BaseItem.errors), {\n        'stop': ['ExtraLeftMissingRight',\n            'Extra \\\\left or missing \\\\right']\n    });\n    return LeftItem;\n}(StackItem_js_1.BaseItem));\nexports.LeftItem = LeftItem;\nvar Middle = (function (_super) {\n    __extends(Middle, _super);\n    function Middle(factory, delim, color) {\n        var _this = _super.call(this, factory) || this;\n        _this.setProperty('delim', delim);\n        color && _this.setProperty('color', color);\n        return _this;\n    }\n    Object.defineProperty(Middle.prototype, \"kind\", {\n        get: function () {\n            return 'middle';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Middle.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Middle;\n}(StackItem_js_1.BaseItem));\nexports.Middle = Middle;\nvar RightItem = (function (_super) {\n    __extends(RightItem, _super);\n    function RightItem(factory, delim, color) {\n        var _this = _super.call(this, factory) || this;\n        _this.setProperty('delim', delim);\n        color && _this.setProperty('color', color);\n        return _this;\n    }\n    Object.defineProperty(RightItem.prototype, \"kind\", {\n        get: function () {\n            return 'right';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RightItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RightItem;\n}(StackItem_js_1.BaseItem));\nexports.RightItem = RightItem;\nvar BeginItem = (function (_super) {\n    __extends(BeginItem, _super);\n    function BeginItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BeginItem.prototype, \"kind\", {\n        get: function () {\n            return 'begin';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BeginItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BeginItem.prototype.checkItem = function (item) {\n        if (item.isKind('end')) {\n            if (item.getName() !== this.getName()) {\n                throw new TexError_js_1.default('EnvBadEnd', '\\\\begin{%1} ended with \\\\end{%2}', this.getName(), item.getName());\n            }\n            if (!this.getProperty('end')) {\n                return [[this.factory.create('mml', this.toMml())], true];\n            }\n            return StackItem_js_1.BaseItem.fail;\n        }\n        if (item.isKind('stop')) {\n            throw new TexError_js_1.default('EnvMissingEnd', 'Missing \\\\end{%1}', this.getName());\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return BeginItem;\n}(StackItem_js_1.BaseItem));\nexports.BeginItem = BeginItem;\nvar EndItem = (function (_super) {\n    __extends(EndItem, _super);\n    function EndItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(EndItem.prototype, \"kind\", {\n        get: function () {\n            return 'end';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EndItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EndItem;\n}(StackItem_js_1.BaseItem));\nexports.EndItem = EndItem;\nvar StyleItem = (function (_super) {\n    __extends(StyleItem, _super);\n    function StyleItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(StyleItem.prototype, \"kind\", {\n        get: function () {\n            return 'style';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StyleItem.prototype.checkItem = function (item) {\n        if (!item.isClose) {\n            return _super.prototype.checkItem.call(this, item);\n        }\n        var mml = this.create('node', 'mstyle', this.nodes, this.getProperty('styles'));\n        return [[this.factory.create('mml', mml), item], true];\n    };\n    return StyleItem;\n}(StackItem_js_1.BaseItem));\nexports.StyleItem = StyleItem;\nvar PositionItem = (function (_super) {\n    __extends(PositionItem, _super);\n    function PositionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(PositionItem.prototype, \"kind\", {\n        get: function () {\n            return 'position';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PositionItem.prototype.checkItem = function (item) {\n        if (item.isClose) {\n            throw new TexError_js_1.default('MissingBoxFor', 'Missing box for %1', this.getName());\n        }\n        if (item.isFinal) {\n            var mml = item.toMml();\n            switch (this.getProperty('move')) {\n                case 'vertical':\n                    mml = this.create('node', 'mpadded', [mml], { height: this.getProperty('dh'),\n                        depth: this.getProperty('dd'),\n                        voffset: this.getProperty('dh') });\n                    return [[this.factory.create('mml', mml)], true];\n                case 'horizontal':\n                    return [[this.factory.create('mml', this.getProperty('left')), item,\n                            this.factory.create('mml', this.getProperty('right'))], true];\n            }\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return PositionItem;\n}(StackItem_js_1.BaseItem));\nexports.PositionItem = PositionItem;\nvar CellItem = (function (_super) {\n    __extends(CellItem, _super);\n    function CellItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(CellItem.prototype, \"kind\", {\n        get: function () {\n            return 'cell';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CellItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CellItem;\n}(StackItem_js_1.BaseItem));\nexports.CellItem = CellItem;\nvar MmlItem = (function (_super) {\n    __extends(MmlItem, _super);\n    function MmlItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(MmlItem.prototype, \"isFinal\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MmlItem.prototype, \"kind\", {\n        get: function () {\n            return 'mml';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return MmlItem;\n}(StackItem_js_1.BaseItem));\nexports.MmlItem = MmlItem;\nvar FnItem = (function (_super) {\n    __extends(FnItem, _super);\n    function FnItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(FnItem.prototype, \"kind\", {\n        get: function () {\n            return 'fn';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FnItem.prototype.checkItem = function (item) {\n        var top = this.First;\n        if (top) {\n            if (item.isOpen) {\n                return StackItem_js_1.BaseItem.success;\n            }\n            if (!item.isKind('fn')) {\n                var mml = item.First;\n                if (!item.isKind('mml') || !mml) {\n                    return [[top, item], true];\n                }\n                if ((NodeUtil_js_1.default.isType(mml, 'mstyle') && mml.childNodes.length &&\n                    NodeUtil_js_1.default.isType(mml.childNodes[0].childNodes[0], 'mspace')) ||\n                    NodeUtil_js_1.default.isType(mml, 'mspace')) {\n                    return [[top, item], true];\n                }\n                if (NodeUtil_js_1.default.isEmbellished(mml)) {\n                    mml = NodeUtil_js_1.default.getCoreMO(mml);\n                }\n                var form = NodeUtil_js_1.default.getForm(mml);\n                if (form != null && [0, 0, 1, 1, 0, 1, 1, 0, 0, 0][form[2]]) {\n                    return [[top, item], true];\n                }\n            }\n            var node = this.create('token', 'mo', { texClass: MmlNode_js_1.TEXCLASS.NONE }, Entities_js_1.entities.ApplyFunction);\n            return [[top, node, item], true];\n        }\n        return _super.prototype.checkItem.apply(this, arguments);\n    };\n    return FnItem;\n}(StackItem_js_1.BaseItem));\nexports.FnItem = FnItem;\nvar NotItem = (function (_super) {\n    __extends(NotItem, _super);\n    function NotItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.remap = MapHandler_js_1.MapHandler.getMap('not_remap');\n        return _this;\n    }\n    Object.defineProperty(NotItem.prototype, \"kind\", {\n        get: function () {\n            return 'not';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NotItem.prototype.checkItem = function (item) {\n        var mml;\n        var c;\n        var textNode;\n        if (item.isKind('open') || item.isKind('left')) {\n            return StackItem_js_1.BaseItem.success;\n        }\n        if (item.isKind('mml') &&\n            (NodeUtil_js_1.default.isType(item.First, 'mo') || NodeUtil_js_1.default.isType(item.First, 'mi') ||\n                NodeUtil_js_1.default.isType(item.First, 'mtext'))) {\n            mml = item.First;\n            c = NodeUtil_js_1.default.getText(mml);\n            if (c.length === 1 && !NodeUtil_js_1.default.getProperty(mml, 'movesupsub') &&\n                NodeUtil_js_1.default.getChildren(mml).length === 1) {\n                if (this.remap.contains(c)) {\n                    textNode = this.create('text', this.remap.lookup(c).char);\n                    NodeUtil_js_1.default.setChild(mml, 0, textNode);\n                }\n                else {\n                    textNode = this.create('text', '\\u0338');\n                    NodeUtil_js_1.default.appendChildren(mml, [textNode]);\n                }\n                return [[item], true];\n            }\n        }\n        textNode = this.create('text', '\\u29F8');\n        var mtextNode = this.create('node', 'mtext', [], {}, textNode);\n        var paddedNode = this.create('node', 'mpadded', [mtextNode], { width: 0 });\n        mml = this.create('node', 'TeXAtom', [paddedNode], { texClass: MmlNode_js_1.TEXCLASS.REL });\n        return [[mml, item], true];\n    };\n    return NotItem;\n}(StackItem_js_1.BaseItem));\nexports.NotItem = NotItem;\nvar NonscriptItem = (function (_super) {\n    __extends(NonscriptItem, _super);\n    function NonscriptItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(NonscriptItem.prototype, \"kind\", {\n        get: function () {\n            return 'nonscript';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NonscriptItem.prototype.checkItem = function (item) {\n        if (item.isKind('mml') && item.Size() === 1) {\n            var mml = item.First;\n            if (mml.isKind('mstyle') && mml.notParent) {\n                mml = NodeUtil_js_1.default.getChildren(NodeUtil_js_1.default.getChildren(mml)[0])[0];\n            }\n            if (mml.isKind('mspace')) {\n                if (mml !== item.First) {\n                    var mrow = this.create('node', 'mrow', [item.Pop()]);\n                    item.Push(mrow);\n                }\n                this.factory.configuration.addNode('nonscript', item.First);\n            }\n        }\n        return [[item], true];\n    };\n    return NonscriptItem;\n}(StackItem_js_1.BaseItem));\nexports.NonscriptItem = NonscriptItem;\nvar DotsItem = (function (_super) {\n    __extends(DotsItem, _super);\n    function DotsItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(DotsItem.prototype, \"kind\", {\n        get: function () {\n            return 'dots';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DotsItem.prototype.checkItem = function (item) {\n        if (item.isKind('open') || item.isKind('left')) {\n            return StackItem_js_1.BaseItem.success;\n        }\n        var dots = this.getProperty('ldots');\n        var top = item.First;\n        if (item.isKind('mml') && NodeUtil_js_1.default.isEmbellished(top)) {\n            var tclass = NodeUtil_js_1.default.getTexClass(NodeUtil_js_1.default.getCoreMO(top));\n            if (tclass === MmlNode_js_1.TEXCLASS.BIN || tclass === MmlNode_js_1.TEXCLASS.REL) {\n                dots = this.getProperty('cdots');\n            }\n        }\n        return [[dots, item], true];\n    };\n    return DotsItem;\n}(StackItem_js_1.BaseItem));\nexports.DotsItem = DotsItem;\nvar ArrayItem = (function (_super) {\n    __extends(ArrayItem, _super);\n    function ArrayItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.table = [];\n        _this.row = [];\n        _this.frame = [];\n        _this.hfill = [];\n        _this.arraydef = {};\n        _this.dashed = false;\n        return _this;\n    }\n    Object.defineProperty(ArrayItem.prototype, \"kind\", {\n        get: function () {\n            return 'array';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ArrayItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ArrayItem.prototype, \"copyEnv\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ArrayItem.prototype.checkItem = function (item) {\n        if (item.isClose && !item.isKind('over')) {\n            if (item.getProperty('isEntry')) {\n                this.EndEntry();\n                this.clearEnv();\n                return StackItem_js_1.BaseItem.fail;\n            }\n            if (item.getProperty('isCR')) {\n                this.EndEntry();\n                this.EndRow();\n                this.clearEnv();\n                return StackItem_js_1.BaseItem.fail;\n            }\n            this.EndTable();\n            this.clearEnv();\n            var newItem = this.factory.create('mml', this.createMml());\n            if (this.getProperty('requireClose')) {\n                if (item.isKind('close')) {\n                    return [[newItem], true];\n                }\n                throw new TexError_js_1.default('MissingCloseBrace', 'Missing close brace');\n            }\n            return [[newItem, item], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    ArrayItem.prototype.createMml = function () {\n        var scriptlevel = this.arraydef['scriptlevel'];\n        delete this.arraydef['scriptlevel'];\n        var mml = this.create('node', 'mtable', this.table, this.arraydef);\n        if (scriptlevel) {\n            mml.setProperty('scriptlevel', scriptlevel);\n        }\n        if (this.frame.length === 4) {\n            NodeUtil_js_1.default.setAttribute(mml, 'frame', this.dashed ? 'dashed' : 'solid');\n        }\n        else if (this.frame.length) {\n            if (this.arraydef['rowlines']) {\n                this.arraydef['rowlines'] =\n                    this.arraydef['rowlines'].replace(/none( none)+$/, 'none');\n            }\n            NodeUtil_js_1.default.setAttribute(mml, 'frame', '');\n            mml = this.create('node', 'menclose', [mml], { notation: this.frame.join(' ') });\n            if ((this.arraydef['columnlines'] || 'none') !== 'none' ||\n                (this.arraydef['rowlines'] || 'none') !== 'none') {\n                NodeUtil_js_1.default.setAttribute(mml, 'data-padding', 0);\n            }\n        }\n        if (this.getProperty('open') || this.getProperty('close')) {\n            mml = ParseUtil_js_1.default.fenced(this.factory.configuration, this.getProperty('open'), mml, this.getProperty('close'));\n        }\n        return mml;\n    };\n    ArrayItem.prototype.EndEntry = function () {\n        var mtd = this.create('node', 'mtd', this.nodes);\n        if (this.hfill.length) {\n            if (this.hfill[0] === 0) {\n                NodeUtil_js_1.default.setAttribute(mtd, 'columnalign', 'right');\n            }\n            if (this.hfill[this.hfill.length - 1] === this.Size()) {\n                NodeUtil_js_1.default.setAttribute(mtd, 'columnalign', NodeUtil_js_1.default.getAttribute(mtd, 'columnalign') ? 'center' : 'left');\n            }\n        }\n        this.row.push(mtd);\n        this.Clear();\n        this.hfill = [];\n    };\n    ArrayItem.prototype.EndRow = function () {\n        var node;\n        if (this.getProperty('isNumbered') && this.row.length === 3) {\n            this.row.unshift(this.row.pop());\n            node = this.create('node', 'mlabeledtr', this.row);\n        }\n        else {\n            node = this.create('node', 'mtr', this.row);\n        }\n        this.table.push(node);\n        this.row = [];\n    };\n    ArrayItem.prototype.EndTable = function () {\n        if (this.Size() || this.row.length) {\n            this.EndEntry();\n            this.EndRow();\n        }\n        this.checkLines();\n    };\n    ArrayItem.prototype.checkLines = function () {\n        if (this.arraydef['rowlines']) {\n            var lines = this.arraydef['rowlines'].split(/ /);\n            if (lines.length === this.table.length) {\n                this.frame.push('bottom');\n                lines.pop();\n                this.arraydef['rowlines'] = lines.join(' ');\n            }\n            else if (lines.length < this.table.length - 1) {\n                this.arraydef['rowlines'] += ' none';\n            }\n        }\n        if (this.getProperty('rowspacing')) {\n            var rows = this.arraydef['rowspacing'].split(/ /);\n            while (rows.length < this.table.length) {\n                rows.push(this.getProperty('rowspacing') + 'em');\n            }\n            this.arraydef['rowspacing'] = rows.join(' ');\n        }\n    };\n    ArrayItem.prototype.addRowSpacing = function (spacing) {\n        if (this.arraydef['rowspacing']) {\n            var rows = this.arraydef['rowspacing'].split(/ /);\n            if (!this.getProperty('rowspacing')) {\n                var dimem = ParseUtil_js_1.default.dimen2em(rows[0]);\n                this.setProperty('rowspacing', dimem);\n            }\n            var rowspacing = this.getProperty('rowspacing');\n            while (rows.length < this.table.length) {\n                rows.push(ParseUtil_js_1.default.Em(rowspacing));\n            }\n            rows[this.table.length - 1] = ParseUtil_js_1.default.Em(Math.max(0, rowspacing + ParseUtil_js_1.default.dimen2em(spacing)));\n            this.arraydef['rowspacing'] = rows.join(' ');\n        }\n    };\n    return ArrayItem;\n}(StackItem_js_1.BaseItem));\nexports.ArrayItem = ArrayItem;\nvar EqnArrayItem = (function (_super) {\n    __extends(EqnArrayItem, _super);\n    function EqnArrayItem(factory) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var _this = _super.call(this, factory) || this;\n        _this.maxrow = 0;\n        _this.factory.configuration.tags.start(args[0], args[2], args[1]);\n        return _this;\n    }\n    Object.defineProperty(EqnArrayItem.prototype, \"kind\", {\n        get: function () {\n            return 'eqnarray';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    EqnArrayItem.prototype.EndEntry = function () {\n        if (this.row.length) {\n            ParseUtil_js_1.default.fixInitialMO(this.factory.configuration, this.nodes);\n        }\n        var node = this.create('node', 'mtd', this.nodes);\n        this.row.push(node);\n        this.Clear();\n    };\n    EqnArrayItem.prototype.EndRow = function () {\n        if (this.row.length > this.maxrow) {\n            this.maxrow = this.row.length;\n        }\n        var mtr = 'mtr';\n        var tag = this.factory.configuration.tags.getTag();\n        if (tag) {\n            this.row = [tag].concat(this.row);\n            mtr = 'mlabeledtr';\n        }\n        this.factory.configuration.tags.clearTag();\n        var node = this.create('node', mtr, this.row);\n        this.table.push(node);\n        this.row = [];\n    };\n    EqnArrayItem.prototype.EndTable = function () {\n        _super.prototype.EndTable.call(this);\n        this.factory.configuration.tags.end();\n        this.extendArray('columnalign', this.maxrow);\n        this.extendArray('columnwidth', this.maxrow);\n        this.extendArray('columnspacing', this.maxrow - 1);\n    };\n    EqnArrayItem.prototype.extendArray = function (name, max) {\n        if (!this.arraydef[name])\n            return;\n        var repeat = this.arraydef[name].split(/ /);\n        var columns = __spreadArray([], __read(repeat), false);\n        if (columns.length > 1) {\n            while (columns.length < max) {\n                columns.push.apply(columns, __spreadArray([], __read(repeat), false));\n            }\n            this.arraydef[name] = columns.slice(0, max).join(' ');\n        }\n    };\n    return EqnArrayItem;\n}(ArrayItem));\nexports.EqnArrayItem = EqnArrayItem;\nvar EquationItem = (function (_super) {\n    __extends(EquationItem, _super);\n    function EquationItem(factory) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var _this = _super.call(this, factory) || this;\n        _this.factory.configuration.tags.start('equation', true, args[0]);\n        return _this;\n    }\n    Object.defineProperty(EquationItem.prototype, \"kind\", {\n        get: function () {\n            return 'equation';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EquationItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    EquationItem.prototype.checkItem = function (item) {\n        if (item.isKind('end')) {\n            var mml = this.toMml();\n            var tag = this.factory.configuration.tags.getTag();\n            this.factory.configuration.tags.end();\n            return [[tag ? this.factory.configuration.tags.enTag(mml, tag) : mml, item], true];\n        }\n        if (item.isKind('stop')) {\n            throw new TexError_js_1.default('EnvMissingEnd', 'Missing \\\\end{%1}', this.getName());\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return EquationItem;\n}(StackItem_js_1.BaseItem));\nexports.EquationItem = EquationItem;\n//# sourceMappingURL=BaseItems.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sm = __importStar(require(\"../SymbolMap.js\"));\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar BaseMethods_js_1 = __importDefault(require(\"./BaseMethods.js\"));\nvar ParseMethods_js_1 = __importDefault(require(\"../ParseMethods.js\"));\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar lengths_js_1 = require(\"../../../util/lengths.js\");\nnew sm.RegExpMap('letter', ParseMethods_js_1.default.variable, /[a-z]/i);\nnew sm.RegExpMap('digit', ParseMethods_js_1.default.digit, /[0-9.,]/);\nnew sm.RegExpMap('command', ParseMethods_js_1.default.controlSequence, /^\\\\/);\nnew sm.MacroMap('special', {\n    '{': 'Open',\n    '}': 'Close',\n    '~': 'Tilde',\n    '^': 'Superscript',\n    '_': 'Subscript',\n    ' ': 'Space',\n    '\\t': 'Space',\n    '\\r': 'Space',\n    '\\n': 'Space',\n    '\\'': 'Prime',\n    '%': 'Comment',\n    '&': 'Entry',\n    '#': 'Hash',\n    '\\u00A0': 'Space',\n    '\\u2019': 'Prime'\n}, BaseMethods_js_1.default);\nnew sm.CharacterMap('mathchar0mi', ParseMethods_js_1.default.mathchar0mi, {\n    alpha: '\\u03B1',\n    beta: '\\u03B2',\n    gamma: '\\u03B3',\n    delta: '\\u03B4',\n    epsilon: '\\u03F5',\n    zeta: '\\u03B6',\n    eta: '\\u03B7',\n    theta: '\\u03B8',\n    iota: '\\u03B9',\n    kappa: '\\u03BA',\n    lambda: '\\u03BB',\n    mu: '\\u03BC',\n    nu: '\\u03BD',\n    xi: '\\u03BE',\n    omicron: '\\u03BF',\n    pi: '\\u03C0',\n    rho: '\\u03C1',\n    sigma: '\\u03C3',\n    tau: '\\u03C4',\n    upsilon: '\\u03C5',\n    phi: '\\u03D5',\n    chi: '\\u03C7',\n    psi: '\\u03C8',\n    omega: '\\u03C9',\n    varepsilon: '\\u03B5',\n    vartheta: '\\u03D1',\n    varpi: '\\u03D6',\n    varrho: '\\u03F1',\n    varsigma: '\\u03C2',\n    varphi: '\\u03C6',\n    S: ['\\u00A7', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    aleph: ['\\u2135', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    hbar: ['\\u210F', { variantForm: true }],\n    imath: '\\u0131',\n    jmath: '\\u0237',\n    ell: '\\u2113',\n    wp: ['\\u2118', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    Re: ['\\u211C', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    Im: ['\\u2111', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    partial: ['\\u2202', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    infty: ['\\u221E', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    prime: ['\\u2032', { variantForm: true }],\n    emptyset: ['\\u2205', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    nabla: ['\\u2207', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    top: ['\\u22A4', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    bot: ['\\u22A5', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    angle: ['\\u2220', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    triangle: ['\\u25B3', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    backslash: ['\\u2216', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    forall: ['\\u2200', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    exists: ['\\u2203', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    neg: ['\\u00AC', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    lnot: ['\\u00AC', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    flat: ['\\u266D', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    natural: ['\\u266E', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    sharp: ['\\u266F', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    clubsuit: ['\\u2663', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    diamondsuit: ['\\u2662', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    heartsuit: ['\\u2661', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    spadesuit: ['\\u2660', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }]\n});\nnew sm.CharacterMap('mathchar0mo', ParseMethods_js_1.default.mathchar0mo, {\n    surd: '\\u221A',\n    coprod: ['\\u2210', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigvee: ['\\u22C1', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigwedge: ['\\u22C0', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    biguplus: ['\\u2A04', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigcap: ['\\u22C2', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigcup: ['\\u22C3', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    'int': ['\\u222B', { texClass: MmlNode_js_1.TEXCLASS.OP }],\n    intop: ['\\u222B', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true, movablelimits: true }],\n    iint: ['\\u222C', { texClass: MmlNode_js_1.TEXCLASS.OP }],\n    iiint: ['\\u222D', { texClass: MmlNode_js_1.TEXCLASS.OP }],\n    prod: ['\\u220F', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    sum: ['\\u2211', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigotimes: ['\\u2A02', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigoplus: ['\\u2A01', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigodot: ['\\u2A00', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    oint: ['\\u222E', { texClass: MmlNode_js_1.TEXCLASS.OP }],\n    bigsqcup: ['\\u2A06', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    smallint: ['\\u222B', { largeop: false }],\n    triangleleft: '\\u25C3',\n    triangleright: '\\u25B9',\n    bigtriangleup: '\\u25B3',\n    bigtriangledown: '\\u25BD',\n    wedge: '\\u2227',\n    land: '\\u2227',\n    vee: '\\u2228',\n    lor: '\\u2228',\n    cap: '\\u2229',\n    cup: '\\u222A',\n    ddagger: '\\u2021',\n    dagger: '\\u2020',\n    sqcap: '\\u2293',\n    sqcup: '\\u2294',\n    uplus: '\\u228E',\n    amalg: '\\u2A3F',\n    diamond: '\\u22C4',\n    bullet: '\\u2219',\n    wr: '\\u2240',\n    div: '\\u00F7',\n    divsymbol: '\\u00F7',\n    odot: ['\\u2299', { largeop: false }],\n    oslash: ['\\u2298', { largeop: false }],\n    otimes: ['\\u2297', { largeop: false }],\n    ominus: ['\\u2296', { largeop: false }],\n    oplus: ['\\u2295', { largeop: false }],\n    mp: '\\u2213',\n    pm: '\\u00B1',\n    circ: '\\u2218',\n    bigcirc: '\\u25EF',\n    setminus: '\\u2216',\n    cdot: '\\u22C5',\n    ast: '\\u2217',\n    times: '\\u00D7',\n    star: '\\u22C6',\n    propto: '\\u221D',\n    sqsubseteq: '\\u2291',\n    sqsupseteq: '\\u2292',\n    parallel: '\\u2225',\n    mid: '\\u2223',\n    dashv: '\\u22A3',\n    vdash: '\\u22A2',\n    leq: '\\u2264',\n    le: '\\u2264',\n    geq: '\\u2265',\n    ge: '\\u2265',\n    lt: '\\u003C',\n    gt: '\\u003E',\n    succ: '\\u227B',\n    prec: '\\u227A',\n    approx: '\\u2248',\n    succeq: '\\u2AB0',\n    preceq: '\\u2AAF',\n    supset: '\\u2283',\n    subset: '\\u2282',\n    supseteq: '\\u2287',\n    subseteq: '\\u2286',\n    'in': '\\u2208',\n    ni: '\\u220B',\n    notin: '\\u2209',\n    owns: '\\u220B',\n    gg: '\\u226B',\n    ll: '\\u226A',\n    sim: '\\u223C',\n    simeq: '\\u2243',\n    perp: '\\u22A5',\n    equiv: '\\u2261',\n    asymp: '\\u224D',\n    smile: '\\u2323',\n    frown: '\\u2322',\n    ne: '\\u2260',\n    neq: '\\u2260',\n    cong: '\\u2245',\n    doteq: '\\u2250',\n    bowtie: '\\u22C8',\n    models: '\\u22A8',\n    notChar: '\\u29F8',\n    Leftrightarrow: '\\u21D4',\n    Leftarrow: '\\u21D0',\n    Rightarrow: '\\u21D2',\n    leftrightarrow: '\\u2194',\n    leftarrow: '\\u2190',\n    gets: '\\u2190',\n    rightarrow: '\\u2192',\n    to: ['\\u2192', { accent: false }],\n    mapsto: '\\u21A6',\n    leftharpoonup: '\\u21BC',\n    leftharpoondown: '\\u21BD',\n    rightharpoonup: '\\u21C0',\n    rightharpoondown: '\\u21C1',\n    nearrow: '\\u2197',\n    searrow: '\\u2198',\n    nwarrow: '\\u2196',\n    swarrow: '\\u2199',\n    rightleftharpoons: '\\u21CC',\n    hookrightarrow: '\\u21AA',\n    hookleftarrow: '\\u21A9',\n    longleftarrow: '\\u27F5',\n    Longleftarrow: '\\u27F8',\n    longrightarrow: '\\u27F6',\n    Longrightarrow: '\\u27F9',\n    Longleftrightarrow: '\\u27FA',\n    longleftrightarrow: '\\u27F7',\n    longmapsto: '\\u27FC',\n    ldots: '\\u2026',\n    cdots: '\\u22EF',\n    vdots: '\\u22EE',\n    ddots: '\\u22F1',\n    dotsc: '\\u2026',\n    dotsb: '\\u22EF',\n    dotsm: '\\u22EF',\n    dotsi: '\\u22EF',\n    dotso: '\\u2026',\n    ldotp: ['\\u002E', { texClass: MmlNode_js_1.TEXCLASS.PUNCT }],\n    cdotp: ['\\u22C5', { texClass: MmlNode_js_1.TEXCLASS.PUNCT }],\n    colon: ['\\u003A', { texClass: MmlNode_js_1.TEXCLASS.PUNCT }]\n});\nnew sm.CharacterMap('mathchar7', ParseMethods_js_1.default.mathchar7, {\n    Gamma: '\\u0393',\n    Delta: '\\u0394',\n    Theta: '\\u0398',\n    Lambda: '\\u039B',\n    Xi: '\\u039E',\n    Pi: '\\u03A0',\n    Sigma: '\\u03A3',\n    Upsilon: '\\u03A5',\n    Phi: '\\u03A6',\n    Psi: '\\u03A8',\n    Omega: '\\u03A9',\n    '_': '\\u005F',\n    '#': '\\u0023',\n    '$': '\\u0024',\n    '%': '\\u0025',\n    '&': '\\u0026',\n    And: '\\u0026'\n});\nnew sm.DelimiterMap('delimiter', ParseMethods_js_1.default.delimiter, {\n    '(': '(',\n    ')': ')',\n    '[': '[',\n    ']': ']',\n    '<': '\\u27E8',\n    '>': '\\u27E9',\n    '\\\\lt': '\\u27E8',\n    '\\\\gt': '\\u27E9',\n    '/': '/',\n    '|': ['|', { texClass: MmlNode_js_1.TEXCLASS.ORD }],\n    '.': '',\n    '\\\\\\\\': '\\\\',\n    '\\\\lmoustache': '\\u23B0',\n    '\\\\rmoustache': '\\u23B1',\n    '\\\\lgroup': '\\u27EE',\n    '\\\\rgroup': '\\u27EF',\n    '\\\\arrowvert': '\\u23D0',\n    '\\\\Arrowvert': '\\u2016',\n    '\\\\bracevert': '\\u23AA',\n    '\\\\Vert': ['\\u2016', { texClass: MmlNode_js_1.TEXCLASS.ORD }],\n    '\\\\|': ['\\u2016', { texClass: MmlNode_js_1.TEXCLASS.ORD }],\n    '\\\\vert': ['|', { texClass: MmlNode_js_1.TEXCLASS.ORD }],\n    '\\\\uparrow': '\\u2191',\n    '\\\\downarrow': '\\u2193',\n    '\\\\updownarrow': '\\u2195',\n    '\\\\Uparrow': '\\u21D1',\n    '\\\\Downarrow': '\\u21D3',\n    '\\\\Updownarrow': '\\u21D5',\n    '\\\\backslash': '\\\\',\n    '\\\\rangle': '\\u27E9',\n    '\\\\langle': '\\u27E8',\n    '\\\\rbrace': '}',\n    '\\\\lbrace': '{',\n    '\\\\}': '}',\n    '\\\\{': '{',\n    '\\\\rceil': '\\u2309',\n    '\\\\lceil': '\\u2308',\n    '\\\\rfloor': '\\u230B',\n    '\\\\lfloor': '\\u230A',\n    '\\\\lbrack': '[',\n    '\\\\rbrack': ']'\n});\nnew sm.CommandMap('macros', {\n    displaystyle: ['SetStyle', 'D', true, 0],\n    textstyle: ['SetStyle', 'T', false, 0],\n    scriptstyle: ['SetStyle', 'S', false, 1],\n    scriptscriptstyle: ['SetStyle', 'SS', false, 2],\n    rm: ['SetFont', TexConstants_js_1.TexConstant.Variant.NORMAL],\n    mit: ['SetFont', TexConstants_js_1.TexConstant.Variant.ITALIC],\n    oldstyle: ['SetFont', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    cal: ['SetFont', TexConstants_js_1.TexConstant.Variant.CALLIGRAPHIC],\n    it: ['SetFont', TexConstants_js_1.TexConstant.Variant.MATHITALIC],\n    bf: ['SetFont', TexConstants_js_1.TexConstant.Variant.BOLD],\n    bbFont: ['SetFont', TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK],\n    scr: ['SetFont', TexConstants_js_1.TexConstant.Variant.SCRIPT],\n    frak: ['SetFont', TexConstants_js_1.TexConstant.Variant.FRAKTUR],\n    sf: ['SetFont', TexConstants_js_1.TexConstant.Variant.SANSSERIF],\n    tt: ['SetFont', TexConstants_js_1.TexConstant.Variant.MONOSPACE],\n    mathrm: ['MathFont', TexConstants_js_1.TexConstant.Variant.NORMAL],\n    mathup: ['MathFont', TexConstants_js_1.TexConstant.Variant.NORMAL],\n    mathnormal: ['MathFont', ''],\n    mathbf: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLD],\n    mathbfup: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLD],\n    mathit: ['MathFont', TexConstants_js_1.TexConstant.Variant.MATHITALIC],\n    mathbfit: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDITALIC],\n    mathbb: ['MathFont', TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK],\n    Bbb: ['MathFont', TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK],\n    mathfrak: ['MathFont', TexConstants_js_1.TexConstant.Variant.FRAKTUR],\n    mathbffrak: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDFRAKTUR],\n    mathscr: ['MathFont', TexConstants_js_1.TexConstant.Variant.SCRIPT],\n    mathbfscr: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDSCRIPT],\n    mathsf: ['MathFont', TexConstants_js_1.TexConstant.Variant.SANSSERIF],\n    mathsfup: ['MathFont', TexConstants_js_1.TexConstant.Variant.SANSSERIF],\n    mathbfsf: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDSANSSERIF],\n    mathbfsfup: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDSANSSERIF],\n    mathsfit: ['MathFont', TexConstants_js_1.TexConstant.Variant.SANSSERIFITALIC],\n    mathbfsfit: ['MathFont', TexConstants_js_1.TexConstant.Variant.SANSSERIFBOLDITALIC],\n    mathtt: ['MathFont', TexConstants_js_1.TexConstant.Variant.MONOSPACE],\n    mathcal: ['MathFont', TexConstants_js_1.TexConstant.Variant.CALLIGRAPHIC],\n    mathbfcal: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDCALLIGRAPHIC],\n    symrm: ['MathFont', TexConstants_js_1.TexConstant.Variant.NORMAL],\n    symup: ['MathFont', TexConstants_js_1.TexConstant.Variant.NORMAL],\n    symnormal: ['MathFont', ''],\n    symbf: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLD],\n    symbfup: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLD],\n    symit: ['MathFont', TexConstants_js_1.TexConstant.Variant.ITALIC],\n    symbfit: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDITALIC],\n    symbb: ['MathFont', TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK],\n    symfrak: ['MathFont', TexConstants_js_1.TexConstant.Variant.FRAKTUR],\n    symbffrak: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDFRAKTUR],\n    symscr: ['MathFont', TexConstants_js_1.TexConstant.Variant.SCRIPT],\n    symbfscr: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDSCRIPT],\n    symsf: ['MathFont', TexConstants_js_1.TexConstant.Variant.SANSSERIF],\n    symsfup: ['MathFont', TexConstants_js_1.TexConstant.Variant.SANSSERIF],\n    symbfsf: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDSANSSERIF],\n    symbfsfup: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDSANSSERIF],\n    symsfit: ['MathFont', TexConstants_js_1.TexConstant.Variant.SANSSERIFITALIC],\n    symbfsfit: ['MathFont', TexConstants_js_1.TexConstant.Variant.SANSSERIFBOLDITALIC],\n    symtt: ['MathFont', TexConstants_js_1.TexConstant.Variant.MONOSPACE],\n    symcal: ['MathFont', TexConstants_js_1.TexConstant.Variant.CALLIGRAPHIC],\n    symbfcal: ['MathFont', TexConstants_js_1.TexConstant.Variant.BOLDCALLIGRAPHIC],\n    textrm: ['HBox', null, TexConstants_js_1.TexConstant.Variant.NORMAL],\n    textup: ['HBox', null, TexConstants_js_1.TexConstant.Variant.NORMAL],\n    textnormal: ['HBox'],\n    textit: ['HBox', null, TexConstants_js_1.TexConstant.Variant.ITALIC],\n    textbf: ['HBox', null, TexConstants_js_1.TexConstant.Variant.BOLD],\n    textsf: ['HBox', null, TexConstants_js_1.TexConstant.Variant.SANSSERIF],\n    texttt: ['HBox', null, TexConstants_js_1.TexConstant.Variant.MONOSPACE],\n    tiny: ['SetSize', 0.5],\n    Tiny: ['SetSize', 0.6],\n    scriptsize: ['SetSize', 0.7],\n    small: ['SetSize', 0.85],\n    normalsize: ['SetSize', 1.0],\n    large: ['SetSize', 1.2],\n    Large: ['SetSize', 1.44],\n    LARGE: ['SetSize', 1.73],\n    huge: ['SetSize', 2.07],\n    Huge: ['SetSize', 2.49],\n    arcsin: 'NamedFn',\n    arccos: 'NamedFn',\n    arctan: 'NamedFn',\n    arg: 'NamedFn',\n    cos: 'NamedFn',\n    cosh: 'NamedFn',\n    cot: 'NamedFn',\n    coth: 'NamedFn',\n    csc: 'NamedFn',\n    deg: 'NamedFn',\n    det: 'NamedOp',\n    dim: 'NamedFn',\n    exp: 'NamedFn',\n    gcd: 'NamedOp',\n    hom: 'NamedFn',\n    inf: 'NamedOp',\n    ker: 'NamedFn',\n    lg: 'NamedFn',\n    lim: 'NamedOp',\n    liminf: ['NamedOp', 'lim&thinsp;inf'],\n    limsup: ['NamedOp', 'lim&thinsp;sup'],\n    ln: 'NamedFn',\n    log: 'NamedFn',\n    max: 'NamedOp',\n    min: 'NamedOp',\n    Pr: 'NamedOp',\n    sec: 'NamedFn',\n    sin: 'NamedFn',\n    sinh: 'NamedFn',\n    sup: 'NamedOp',\n    tan: 'NamedFn',\n    tanh: 'NamedFn',\n    limits: ['Limits', 1],\n    nolimits: ['Limits', 0],\n    overline: ['UnderOver', '2015'],\n    underline: ['UnderOver', '2015'],\n    overbrace: ['UnderOver', '23DE', 1],\n    underbrace: ['UnderOver', '23DF', 1],\n    overparen: ['UnderOver', '23DC'],\n    underparen: ['UnderOver', '23DD'],\n    overrightarrow: ['UnderOver', '2192'],\n    underrightarrow: ['UnderOver', '2192'],\n    overleftarrow: ['UnderOver', '2190'],\n    underleftarrow: ['UnderOver', '2190'],\n    overleftrightarrow: ['UnderOver', '2194'],\n    underleftrightarrow: ['UnderOver', '2194'],\n    overset: 'Overset',\n    underset: 'Underset',\n    overunderset: 'Overunderset',\n    stackrel: ['Macro', '\\\\mathrel{\\\\mathop{#2}\\\\limits^{#1}}', 2],\n    stackbin: ['Macro', '\\\\mathbin{\\\\mathop{#2}\\\\limits^{#1}}', 2],\n    over: 'Over',\n    overwithdelims: 'Over',\n    atop: 'Over',\n    atopwithdelims: 'Over',\n    above: 'Over',\n    abovewithdelims: 'Over',\n    brace: ['Over', '{', '}'],\n    brack: ['Over', '[', ']'],\n    choose: ['Over', '(', ')'],\n    frac: 'Frac',\n    sqrt: 'Sqrt',\n    root: 'Root',\n    uproot: ['MoveRoot', 'upRoot'],\n    leftroot: ['MoveRoot', 'leftRoot'],\n    left: 'LeftRight',\n    right: 'LeftRight',\n    middle: 'LeftRight',\n    llap: 'Lap',\n    rlap: 'Lap',\n    raise: 'RaiseLower',\n    lower: 'RaiseLower',\n    moveleft: 'MoveLeftRight',\n    moveright: 'MoveLeftRight',\n    ',': ['Spacer', lengths_js_1.MATHSPACE.thinmathspace],\n    ':': ['Spacer', lengths_js_1.MATHSPACE.mediummathspace],\n    '>': ['Spacer', lengths_js_1.MATHSPACE.mediummathspace],\n    ';': ['Spacer', lengths_js_1.MATHSPACE.thickmathspace],\n    '!': ['Spacer', lengths_js_1.MATHSPACE.negativethinmathspace],\n    enspace: ['Spacer', .5],\n    quad: ['Spacer', 1],\n    qquad: ['Spacer', 2],\n    thinspace: ['Spacer', lengths_js_1.MATHSPACE.thinmathspace],\n    negthinspace: ['Spacer', lengths_js_1.MATHSPACE.negativethinmathspace],\n    hskip: 'Hskip',\n    hspace: 'Hskip',\n    kern: 'Hskip',\n    mskip: 'Hskip',\n    mspace: 'Hskip',\n    mkern: 'Hskip',\n    rule: 'rule',\n    Rule: ['Rule'],\n    Space: ['Rule', 'blank'],\n    nonscript: 'Nonscript',\n    big: ['MakeBig', MmlNode_js_1.TEXCLASS.ORD, 0.85],\n    Big: ['MakeBig', MmlNode_js_1.TEXCLASS.ORD, 1.15],\n    bigg: ['MakeBig', MmlNode_js_1.TEXCLASS.ORD, 1.45],\n    Bigg: ['MakeBig', MmlNode_js_1.TEXCLASS.ORD, 1.75],\n    bigl: ['MakeBig', MmlNode_js_1.TEXCLASS.OPEN, 0.85],\n    Bigl: ['MakeBig', MmlNode_js_1.TEXCLASS.OPEN, 1.15],\n    biggl: ['MakeBig', MmlNode_js_1.TEXCLASS.OPEN, 1.45],\n    Biggl: ['MakeBig', MmlNode_js_1.TEXCLASS.OPEN, 1.75],\n    bigr: ['MakeBig', MmlNode_js_1.TEXCLASS.CLOSE, 0.85],\n    Bigr: ['MakeBig', MmlNode_js_1.TEXCLASS.CLOSE, 1.15],\n    biggr: ['MakeBig', MmlNode_js_1.TEXCLASS.CLOSE, 1.45],\n    Biggr: ['MakeBig', MmlNode_js_1.TEXCLASS.CLOSE, 1.75],\n    bigm: ['MakeBig', MmlNode_js_1.TEXCLASS.REL, 0.85],\n    Bigm: ['MakeBig', MmlNode_js_1.TEXCLASS.REL, 1.15],\n    biggm: ['MakeBig', MmlNode_js_1.TEXCLASS.REL, 1.45],\n    Biggm: ['MakeBig', MmlNode_js_1.TEXCLASS.REL, 1.75],\n    mathord: ['TeXAtom', MmlNode_js_1.TEXCLASS.ORD],\n    mathop: ['TeXAtom', MmlNode_js_1.TEXCLASS.OP],\n    mathopen: ['TeXAtom', MmlNode_js_1.TEXCLASS.OPEN],\n    mathclose: ['TeXAtom', MmlNode_js_1.TEXCLASS.CLOSE],\n    mathbin: ['TeXAtom', MmlNode_js_1.TEXCLASS.BIN],\n    mathrel: ['TeXAtom', MmlNode_js_1.TEXCLASS.REL],\n    mathpunct: ['TeXAtom', MmlNode_js_1.TEXCLASS.PUNCT],\n    mathinner: ['TeXAtom', MmlNode_js_1.TEXCLASS.INNER],\n    vcenter: ['TeXAtom', MmlNode_js_1.TEXCLASS.VCENTER],\n    buildrel: 'BuildRel',\n    hbox: ['HBox', 0],\n    text: 'HBox',\n    mbox: ['HBox', 0],\n    fbox: 'FBox',\n    boxed: ['Macro', '\\\\fbox{$\\\\displaystyle{#1}$}', 1],\n    framebox: 'FrameBox',\n    strut: 'Strut',\n    mathstrut: ['Macro', '\\\\vphantom{(}'],\n    phantom: 'Phantom',\n    vphantom: ['Phantom', 1, 0],\n    hphantom: ['Phantom', 0, 1],\n    smash: 'Smash',\n    acute: ['Accent', '00B4'],\n    grave: ['Accent', '0060'],\n    ddot: ['Accent', '00A8'],\n    tilde: ['Accent', '007E'],\n    bar: ['Accent', '00AF'],\n    breve: ['Accent', '02D8'],\n    check: ['Accent', '02C7'],\n    hat: ['Accent', '005E'],\n    vec: ['Accent', '2192'],\n    dot: ['Accent', '02D9'],\n    widetilde: ['Accent', '007E', 1],\n    widehat: ['Accent', '005E', 1],\n    matrix: 'Matrix',\n    array: 'Matrix',\n    pmatrix: ['Matrix', '(', ')'],\n    cases: ['Matrix', '{', '', 'left left', null, '.1em', null,\n        true],\n    eqalign: ['Matrix', null, null, 'right left',\n        (0, lengths_js_1.em)(lengths_js_1.MATHSPACE.thickmathspace), '.5em', 'D'],\n    displaylines: ['Matrix', null, null, 'center', null, '.5em', 'D'],\n    cr: 'Cr',\n    '\\\\': 'CrLaTeX',\n    newline: ['CrLaTeX', true],\n    hline: ['HLine', 'solid'],\n    hdashline: ['HLine', 'dashed'],\n    eqalignno: ['Matrix', null, null, 'right left',\n        (0, lengths_js_1.em)(lengths_js_1.MATHSPACE.thickmathspace), '.5em', 'D', null,\n        'right'],\n    leqalignno: ['Matrix', null, null, 'right left',\n        (0, lengths_js_1.em)(lengths_js_1.MATHSPACE.thickmathspace), '.5em', 'D', null,\n        'left'],\n    hfill: 'HFill',\n    hfil: 'HFill',\n    hfilll: 'HFill',\n    bmod: ['Macro', '\\\\mmlToken{mo}[lspace=\"thickmathspace\"' +\n            ' rspace=\"thickmathspace\"]{mod}'],\n    pmod: ['Macro', '\\\\pod{\\\\mmlToken{mi}{mod}\\\\kern 6mu #1}', 1],\n    mod: ['Macro', '\\\\mathchoice{\\\\kern18mu}{\\\\kern12mu}' +\n            '{\\\\kern12mu}{\\\\kern12mu}\\\\mmlToken{mi}{mod}\\\\,\\\\,#1',\n        1],\n    pod: ['Macro', '\\\\mathchoice{\\\\kern18mu}{\\\\kern8mu}' +\n            '{\\\\kern8mu}{\\\\kern8mu}(#1)', 1],\n    iff: ['Macro', '\\\\;\\\\Longleftrightarrow\\\\;'],\n    skew: ['Macro', '{{#2{#3\\\\mkern#1mu}\\\\mkern-#1mu}{}}', 3],\n    pmb: ['Macro', '\\\\rlap{#1}\\\\kern1px{#1}', 1],\n    TeX: ['Macro', 'T\\\\kern-.14em\\\\lower.5ex{E}\\\\kern-.115em X'],\n    LaTeX: ['Macro', 'L\\\\kern-.325em\\\\raise.21em' +\n            '{\\\\scriptstyle{A}}\\\\kern-.17em\\\\TeX'],\n    ' ': ['Macro', '\\\\text{ }'],\n    not: 'Not',\n    dots: 'Dots',\n    space: 'Tilde',\n    '\\u00A0': 'Tilde',\n    begin: 'BeginEnd',\n    end: 'BeginEnd',\n    label: 'HandleLabel',\n    ref: 'HandleRef',\n    nonumber: 'HandleNoTag',\n    mathchoice: 'MathChoice',\n    mmlToken: 'MmlToken'\n}, BaseMethods_js_1.default);\nnew sm.EnvironmentMap('environment', ParseMethods_js_1.default.environment, {\n    array: ['AlignedArray'],\n    equation: ['Equation', null, true],\n    eqnarray: ['EqnArray', null, true, true, 'rcl',\n        ParseUtil_js_1.default.cols(0, lengths_js_1.MATHSPACE.thickmathspace), '.5em']\n}, BaseMethods_js_1.default);\nnew sm.CharacterMap('not_remap', null, {\n    '\\u2190': '\\u219A',\n    '\\u2192': '\\u219B',\n    '\\u2194': '\\u21AE',\n    '\\u21D0': '\\u21CD',\n    '\\u21D2': '\\u21CF',\n    '\\u21D4': '\\u21CE',\n    '\\u2208': '\\u2209',\n    '\\u220B': '\\u220C',\n    '\\u2223': '\\u2224',\n    '\\u2225': '\\u2226',\n    '\\u223C': '\\u2241',\n    '\\u007E': '\\u2241',\n    '\\u2243': '\\u2244',\n    '\\u2245': '\\u2247',\n    '\\u2248': '\\u2249',\n    '\\u224D': '\\u226D',\n    '\\u003D': '\\u2260',\n    '\\u2261': '\\u2262',\n    '\\u003C': '\\u226E',\n    '\\u003E': '\\u226F',\n    '\\u2264': '\\u2270',\n    '\\u2265': '\\u2271',\n    '\\u2272': '\\u2274',\n    '\\u2273': '\\u2275',\n    '\\u2276': '\\u2278',\n    '\\u2277': '\\u2279',\n    '\\u227A': '\\u2280',\n    '\\u227B': '\\u2281',\n    '\\u2282': '\\u2284',\n    '\\u2283': '\\u2285',\n    '\\u2286': '\\u2288',\n    '\\u2287': '\\u2289',\n    '\\u22A2': '\\u22AC',\n    '\\u22A8': '\\u22AD',\n    '\\u22A9': '\\u22AE',\n    '\\u22AB': '\\u22AF',\n    '\\u227C': '\\u22E0',\n    '\\u227D': '\\u22E1',\n    '\\u2291': '\\u22E2',\n    '\\u2292': '\\u22E3',\n    '\\u22B2': '\\u22EA',\n    '\\u22B3': '\\u22EB',\n    '\\u22B4': '\\u22EC',\n    '\\u22B5': '\\u22ED',\n    '\\u2203': '\\u2204'\n});\n//# sourceMappingURL=BaseMappings.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sitem = __importStar(require(\"./BaseItems.js\"));\nvar NodeUtil_js_1 = __importDefault(require(\"../NodeUtil.js\"));\nvar TexError_js_1 = __importDefault(require(\"../TexError.js\"));\nvar TexParser_js_1 = __importDefault(require(\"../TexParser.js\"));\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar ParseUtil_js_1 = __importDefault(require(\"../ParseUtil.js\"));\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar Tags_js_1 = require(\"../Tags.js\");\nvar lengths_js_1 = require(\"../../../util/lengths.js\");\nvar Entities_js_1 = require(\"../../../util/Entities.js\");\nvar Options_js_1 = require(\"../../../util/Options.js\");\nvar BaseMethods = {};\nvar P_HEIGHT = 1.2 / .85;\nvar MmlTokenAllow = {\n    fontfamily: 1, fontsize: 1, fontweight: 1, fontstyle: 1,\n    color: 1, background: 1,\n    id: 1, 'class': 1, href: 1, style: 1\n};\nBaseMethods.Open = function (parser, _c) {\n    parser.Push(parser.itemFactory.create('open'));\n};\nBaseMethods.Close = function (parser, _c) {\n    parser.Push(parser.itemFactory.create('close'));\n};\nBaseMethods.Tilde = function (parser, _c) {\n    parser.Push(parser.create('token', 'mtext', {}, Entities_js_1.entities.nbsp));\n};\nBaseMethods.Space = function (_parser, _c) { };\nBaseMethods.Superscript = function (parser, _c) {\n    var _a;\n    if (parser.GetNext().match(/\\d/)) {\n        parser.string = parser.string.substr(0, parser.i + 1) +\n            ' ' + parser.string.substr(parser.i + 1);\n    }\n    var primes;\n    var base;\n    var top = parser.stack.Top();\n    if (top.isKind('prime')) {\n        _a = __read(top.Peek(2), 2), base = _a[0], primes = _a[1];\n        parser.stack.Pop();\n    }\n    else {\n        base = parser.stack.Prev();\n        if (!base) {\n            base = parser.create('token', 'mi', {}, '');\n        }\n    }\n    var movesupsub = NodeUtil_js_1.default.getProperty(base, 'movesupsub');\n    var position = NodeUtil_js_1.default.isType(base, 'msubsup') ? base.sup :\n        base.over;\n    if ((NodeUtil_js_1.default.isType(base, 'msubsup') && !NodeUtil_js_1.default.isType(base, 'msup') &&\n        NodeUtil_js_1.default.getChildAt(base, base.sup)) ||\n        (NodeUtil_js_1.default.isType(base, 'munderover') && !NodeUtil_js_1.default.isType(base, 'mover') &&\n            NodeUtil_js_1.default.getChildAt(base, base.over) &&\n            !NodeUtil_js_1.default.getProperty(base, 'subsupOK'))) {\n        throw new TexError_js_1.default('DoubleExponent', 'Double exponent: use braces to clarify');\n    }\n    if (!NodeUtil_js_1.default.isType(base, 'msubsup') || NodeUtil_js_1.default.isType(base, 'msup')) {\n        if (movesupsub) {\n            if (!NodeUtil_js_1.default.isType(base, 'munderover') || NodeUtil_js_1.default.isType(base, 'mover') ||\n                NodeUtil_js_1.default.getChildAt(base, base.over)) {\n                base = parser.create('node', 'munderover', [base], { movesupsub: true });\n            }\n            position = base.over;\n        }\n        else {\n            base = parser.create('node', 'msubsup', [base]);\n            position = base.sup;\n        }\n    }\n    parser.Push(parser.itemFactory.create('subsup', base).setProperties({\n        position: position, primes: primes, movesupsub: movesupsub\n    }));\n};\nBaseMethods.Subscript = function (parser, _c) {\n    var _a;\n    if (parser.GetNext().match(/\\d/)) {\n        parser.string =\n            parser.string.substr(0, parser.i + 1) + ' ' +\n                parser.string.substr(parser.i + 1);\n    }\n    var primes, base;\n    var top = parser.stack.Top();\n    if (top.isKind('prime')) {\n        _a = __read(top.Peek(2), 2), base = _a[0], primes = _a[1];\n        parser.stack.Pop();\n    }\n    else {\n        base = parser.stack.Prev();\n        if (!base) {\n            base = parser.create('token', 'mi', {}, '');\n        }\n    }\n    var movesupsub = NodeUtil_js_1.default.getProperty(base, 'movesupsub');\n    var position = NodeUtil_js_1.default.isType(base, 'msubsup') ?\n        base.sub : base.under;\n    if ((NodeUtil_js_1.default.isType(base, 'msubsup') && !NodeUtil_js_1.default.isType(base, 'msup') &&\n        NodeUtil_js_1.default.getChildAt(base, base.sub)) ||\n        (NodeUtil_js_1.default.isType(base, 'munderover') && !NodeUtil_js_1.default.isType(base, 'mover') &&\n            NodeUtil_js_1.default.getChildAt(base, base.under) &&\n            !NodeUtil_js_1.default.getProperty(base, 'subsupOK'))) {\n        throw new TexError_js_1.default('DoubleSubscripts', 'Double subscripts: use braces to clarify');\n    }\n    if (!NodeUtil_js_1.default.isType(base, 'msubsup') || NodeUtil_js_1.default.isType(base, 'msup')) {\n        if (movesupsub) {\n            if (!NodeUtil_js_1.default.isType(base, 'munderover') || NodeUtil_js_1.default.isType(base, 'mover') ||\n                NodeUtil_js_1.default.getChildAt(base, base.under)) {\n                base = parser.create('node', 'munderover', [base], { movesupsub: true });\n            }\n            position = base.under;\n        }\n        else {\n            base = parser.create('node', 'msubsup', [base]);\n            position = base.sub;\n        }\n    }\n    parser.Push(parser.itemFactory.create('subsup', base).setProperties({\n        position: position, primes: primes, movesupsub: movesupsub\n    }));\n};\nBaseMethods.Prime = function (parser, c) {\n    var base = parser.stack.Prev();\n    if (!base) {\n        base = parser.create('node', 'mi');\n    }\n    if (NodeUtil_js_1.default.isType(base, 'msubsup') && !NodeUtil_js_1.default.isType(base, 'msup') &&\n        NodeUtil_js_1.default.getChildAt(base, base.sup)) {\n        throw new TexError_js_1.default('DoubleExponentPrime', 'Prime causes double exponent: use braces to clarify');\n    }\n    var sup = '';\n    parser.i--;\n    do {\n        sup += Entities_js_1.entities.prime;\n        parser.i++, c = parser.GetNext();\n    } while (c === '\\'' || c === Entities_js_1.entities.rsquo);\n    sup = ['', '\\u2032', '\\u2033', '\\u2034', '\\u2057'][sup.length] || sup;\n    var node = parser.create('token', 'mo', { variantForm: true }, sup);\n    parser.Push(parser.itemFactory.create('prime', base, node));\n};\nBaseMethods.Comment = function (parser, _c) {\n    while (parser.i < parser.string.length && parser.string.charAt(parser.i) !== '\\n') {\n        parser.i++;\n    }\n};\nBaseMethods.Hash = function (_parser, _c) {\n    throw new TexError_js_1.default('CantUseHash1', 'You can\\'t use \\'macro parameter character #\\' in math mode');\n};\nBaseMethods.MathFont = function (parser, name, variant) {\n    var text = parser.GetArgument(name);\n    var mml = new TexParser_js_1.default(text, __assign(__assign({}, parser.stack.env), { font: variant, multiLetterIdentifiers: /^[a-zA-Z]+/, noAutoOP: true }), parser.configuration).mml();\n    parser.Push(parser.create('node', 'TeXAtom', [mml]));\n};\nBaseMethods.SetFont = function (parser, _name, font) {\n    parser.stack.env['font'] = font;\n};\nBaseMethods.SetStyle = function (parser, _name, texStyle, style, level) {\n    parser.stack.env['style'] = texStyle;\n    parser.stack.env['level'] = level;\n    parser.Push(parser.itemFactory.create('style').setProperty('styles', { displaystyle: style, scriptlevel: level }));\n};\nBaseMethods.SetSize = function (parser, _name, size) {\n    parser.stack.env['size'] = size;\n    parser.Push(parser.itemFactory.create('style').setProperty('styles', { mathsize: (0, lengths_js_1.em)(size) }));\n};\nBaseMethods.Spacer = function (parser, _name, space) {\n    var node = parser.create('node', 'mspace', [], { width: (0, lengths_js_1.em)(space) });\n    var style = parser.create('node', 'mstyle', [node], { scriptlevel: 0 });\n    parser.Push(style);\n};\nBaseMethods.LeftRight = function (parser, name) {\n    var first = name.substr(1);\n    parser.Push(parser.itemFactory.create(first, parser.GetDelimiter(name), parser.stack.env.color));\n};\nBaseMethods.NamedFn = function (parser, name, id) {\n    if (!id) {\n        id = name.substr(1);\n    }\n    var mml = parser.create('token', 'mi', { texClass: MmlNode_js_1.TEXCLASS.OP }, id);\n    parser.Push(parser.itemFactory.create('fn', mml));\n};\nBaseMethods.NamedOp = function (parser, name, id) {\n    if (!id) {\n        id = name.substr(1);\n    }\n    id = id.replace(/&thinsp;/, '\\u2006');\n    var mml = parser.create('token', 'mo', {\n        movablelimits: true,\n        movesupsub: true,\n        form: TexConstants_js_1.TexConstant.Form.PREFIX,\n        texClass: MmlNode_js_1.TEXCLASS.OP\n    }, id);\n    parser.Push(mml);\n};\nBaseMethods.Limits = function (parser, _name, limits) {\n    var op = parser.stack.Prev(true);\n    if (!op || (NodeUtil_js_1.default.getTexClass(NodeUtil_js_1.default.getCoreMO(op)) !== MmlNode_js_1.TEXCLASS.OP &&\n        NodeUtil_js_1.default.getProperty(op, 'movesupsub') == null)) {\n        throw new TexError_js_1.default('MisplacedLimits', '%1 is allowed only on operators', parser.currentCS);\n    }\n    var top = parser.stack.Top();\n    var node;\n    if (NodeUtil_js_1.default.isType(op, 'munderover') && !limits) {\n        node = parser.create('node', 'msubsup');\n        NodeUtil_js_1.default.copyChildren(op, node);\n        op = top.Last = node;\n    }\n    else if (NodeUtil_js_1.default.isType(op, 'msubsup') && limits) {\n        node = parser.create('node', 'munderover');\n        NodeUtil_js_1.default.copyChildren(op, node);\n        op = top.Last = node;\n    }\n    NodeUtil_js_1.default.setProperty(op, 'movesupsub', limits ? true : false);\n    NodeUtil_js_1.default.setProperties(NodeUtil_js_1.default.getCoreMO(op), { 'movablelimits': false });\n    if (NodeUtil_js_1.default.getAttribute(op, 'movablelimits') ||\n        NodeUtil_js_1.default.getProperty(op, 'movablelimits')) {\n        NodeUtil_js_1.default.setProperties(op, { 'movablelimits': false });\n    }\n};\nBaseMethods.Over = function (parser, name, open, close) {\n    var mml = parser.itemFactory.create('over').setProperty('name', parser.currentCS);\n    if (open || close) {\n        mml.setProperty('open', open);\n        mml.setProperty('close', close);\n    }\n    else if (name.match(/withdelims$/)) {\n        mml.setProperty('open', parser.GetDelimiter(name));\n        mml.setProperty('close', parser.GetDelimiter(name));\n    }\n    if (name.match(/^\\\\above/)) {\n        mml.setProperty('thickness', parser.GetDimen(name));\n    }\n    else if (name.match(/^\\\\atop/) || open || close) {\n        mml.setProperty('thickness', 0);\n    }\n    parser.Push(mml);\n};\nBaseMethods.Frac = function (parser, name) {\n    var num = parser.ParseArg(name);\n    var den = parser.ParseArg(name);\n    var node = parser.create('node', 'mfrac', [num, den]);\n    parser.Push(node);\n};\nBaseMethods.Sqrt = function (parser, name) {\n    var n = parser.GetBrackets(name);\n    var arg = parser.GetArgument(name);\n    if (arg === '\\\\frac') {\n        arg += '{' + parser.GetArgument(arg) + '}{' + parser.GetArgument(arg) + '}';\n    }\n    var mml = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();\n    if (!n) {\n        mml = parser.create('node', 'msqrt', [mml]);\n    }\n    else {\n        mml = parser.create('node', 'mroot', [mml, parseRoot(parser, n)]);\n    }\n    parser.Push(mml);\n};\nfunction parseRoot(parser, n) {\n    var env = parser.stack.env;\n    var inRoot = env['inRoot'];\n    env['inRoot'] = true;\n    var newParser = new TexParser_js_1.default(n, env, parser.configuration);\n    var node = newParser.mml();\n    var global = newParser.stack.global;\n    if (global['leftRoot'] || global['upRoot']) {\n        var def = {};\n        if (global['leftRoot']) {\n            def['width'] = global['leftRoot'];\n        }\n        if (global['upRoot']) {\n            def['voffset'] = global['upRoot'];\n            def['height'] = global['upRoot'];\n        }\n        node = parser.create('node', 'mpadded', [node], def);\n    }\n    env['inRoot'] = inRoot;\n    return node;\n}\nBaseMethods.Root = function (parser, name) {\n    var n = parser.GetUpTo(name, '\\\\of');\n    var arg = parser.ParseArg(name);\n    var node = parser.create('node', 'mroot', [arg, parseRoot(parser, n)]);\n    parser.Push(node);\n};\nBaseMethods.MoveRoot = function (parser, name, id) {\n    if (!parser.stack.env['inRoot']) {\n        throw new TexError_js_1.default('MisplacedMoveRoot', '%1 can appear only within a root', parser.currentCS);\n    }\n    if (parser.stack.global[id]) {\n        throw new TexError_js_1.default('MultipleMoveRoot', 'Multiple use of %1', parser.currentCS);\n    }\n    var n = parser.GetArgument(name);\n    if (!n.match(/-?[0-9]+/)) {\n        throw new TexError_js_1.default('IntegerArg', 'The argument to %1 must be an integer', parser.currentCS);\n    }\n    n = (parseInt(n, 10) / 15) + 'em';\n    if (n.substr(0, 1) !== '-') {\n        n = '+' + n;\n    }\n    parser.stack.global[id] = n;\n};\nBaseMethods.Accent = function (parser, name, accent, stretchy) {\n    var c = parser.ParseArg(name);\n    var def = __assign(__assign({}, ParseUtil_js_1.default.getFontDef(parser)), { accent: true, mathaccent: true });\n    var entity = NodeUtil_js_1.default.createEntity(accent);\n    var moNode = parser.create('token', 'mo', def, entity);\n    var mml = moNode;\n    NodeUtil_js_1.default.setAttribute(mml, 'stretchy', stretchy ? true : false);\n    var mo = (NodeUtil_js_1.default.isEmbellished(c) ? NodeUtil_js_1.default.getCoreMO(c) : c);\n    if (NodeUtil_js_1.default.isType(mo, 'mo') || NodeUtil_js_1.default.getProperty(mo, 'movablelimits')) {\n        NodeUtil_js_1.default.setProperties(mo, { 'movablelimits': false });\n    }\n    var muoNode = parser.create('node', 'munderover');\n    NodeUtil_js_1.default.setChild(muoNode, 0, c);\n    NodeUtil_js_1.default.setChild(muoNode, 1, null);\n    NodeUtil_js_1.default.setChild(muoNode, 2, mml);\n    var texAtom = parser.create('node', 'TeXAtom', [muoNode]);\n    parser.Push(texAtom);\n};\nBaseMethods.UnderOver = function (parser, name, c, stack) {\n    var entity = NodeUtil_js_1.default.createEntity(c);\n    var mo = parser.create('token', 'mo', { stretchy: true, accent: true }, entity);\n    var pos = (name.charAt(1) === 'o' ? 'over' : 'under');\n    var base = parser.ParseArg(name);\n    parser.Push(ParseUtil_js_1.default.underOver(parser, base, mo, pos, stack));\n};\nBaseMethods.Overset = function (parser, name) {\n    var top = parser.ParseArg(name);\n    var base = parser.ParseArg(name);\n    ParseUtil_js_1.default.checkMovableLimits(base);\n    if (top.isKind('mo')) {\n        NodeUtil_js_1.default.setAttribute(top, 'accent', false);\n    }\n    var node = parser.create('node', 'mover', [base, top]);\n    parser.Push(node);\n};\nBaseMethods.Underset = function (parser, name) {\n    var bot = parser.ParseArg(name);\n    var base = parser.ParseArg(name);\n    ParseUtil_js_1.default.checkMovableLimits(base);\n    if (bot.isKind('mo')) {\n        NodeUtil_js_1.default.setAttribute(bot, 'accent', false);\n    }\n    var node = parser.create('node', 'munder', [base, bot], { accentunder: false });\n    parser.Push(node);\n};\nBaseMethods.Overunderset = function (parser, name) {\n    var top = parser.ParseArg(name);\n    var bot = parser.ParseArg(name);\n    var base = parser.ParseArg(name);\n    ParseUtil_js_1.default.checkMovableLimits(base);\n    if (top.isKind('mo')) {\n        NodeUtil_js_1.default.setAttribute(top, 'accent', false);\n    }\n    if (bot.isKind('mo')) {\n        NodeUtil_js_1.default.setAttribute(bot, 'accent', false);\n    }\n    var node = parser.create('node', 'munderover', [base, bot, top], { accent: false, accentunder: false });\n    parser.Push(node);\n};\nBaseMethods.TeXAtom = function (parser, name, mclass) {\n    var def = { texClass: mclass };\n    var mml;\n    var node;\n    var parsed;\n    if (mclass === MmlNode_js_1.TEXCLASS.OP) {\n        def['movesupsub'] = def['movablelimits'] = true;\n        var arg = parser.GetArgument(name);\n        var match = arg.match(/^\\s*\\\\rm\\s+([a-zA-Z0-9 ]+)$/);\n        if (match) {\n            def['mathvariant'] = TexConstants_js_1.TexConstant.Variant.NORMAL;\n            node = parser.create('token', 'mi', def, match[1]);\n        }\n        else {\n            parsed = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();\n            node = parser.create('node', 'TeXAtom', [parsed], def);\n        }\n        mml = parser.itemFactory.create('fn', node);\n    }\n    else {\n        parsed = parser.ParseArg(name);\n        mml = parser.create('node', 'TeXAtom', [parsed], def);\n    }\n    parser.Push(mml);\n};\nBaseMethods.MmlToken = function (parser, name) {\n    var kind = parser.GetArgument(name);\n    var attr = parser.GetBrackets(name, '').replace(/^\\s+/, '');\n    var text = parser.GetArgument(name);\n    var def = {};\n    var keep = [];\n    var node;\n    try {\n        node = parser.create('node', kind);\n    }\n    catch (e) {\n        node = null;\n    }\n    if (!node || !node.isToken) {\n        throw new TexError_js_1.default('NotMathMLToken', '%1 is not a token element', kind);\n    }\n    while (attr !== '') {\n        var match = attr.match(/^([a-z]+)\\s*=\\s*('[^']*'|\"[^\"]*\"|[^ ,]*)\\s*,?\\s*/i);\n        if (!match) {\n            throw new TexError_js_1.default('InvalidMathMLAttr', 'Invalid MathML attribute: %1', attr);\n        }\n        if (!node.attributes.hasDefault(match[1]) && !MmlTokenAllow[match[1]]) {\n            throw new TexError_js_1.default('UnknownAttrForElement', '%1 is not a recognized attribute for %2', match[1], kind);\n        }\n        var value = ParseUtil_js_1.default.MmlFilterAttribute(parser, match[1], match[2].replace(/^(['\"])(.*)\\1$/, '$2'));\n        if (value) {\n            if (value.toLowerCase() === 'true') {\n                value = true;\n            }\n            else if (value.toLowerCase() === 'false') {\n                value = false;\n            }\n            def[match[1]] = value;\n            keep.push(match[1]);\n        }\n        attr = attr.substr(match[0].length);\n    }\n    if (keep.length) {\n        def['mjx-keep-attrs'] = keep.join(' ');\n    }\n    var textNode = parser.create('text', text);\n    node.appendChild(textNode);\n    NodeUtil_js_1.default.setProperties(node, def);\n    parser.Push(node);\n};\nBaseMethods.Strut = function (parser, _name) {\n    var row = parser.create('node', 'mrow');\n    var padded = parser.create('node', 'mpadded', [row], { height: '8.6pt', depth: '3pt', width: 0 });\n    parser.Push(padded);\n};\nBaseMethods.Phantom = function (parser, name, v, h) {\n    var box = parser.create('node', 'mphantom', [parser.ParseArg(name)]);\n    if (v || h) {\n        box = parser.create('node', 'mpadded', [box]);\n        if (h) {\n            NodeUtil_js_1.default.setAttribute(box, 'height', 0);\n            NodeUtil_js_1.default.setAttribute(box, 'depth', 0);\n        }\n        if (v) {\n            NodeUtil_js_1.default.setAttribute(box, 'width', 0);\n        }\n    }\n    var atom = parser.create('node', 'TeXAtom', [box]);\n    parser.Push(atom);\n};\nBaseMethods.Smash = function (parser, name) {\n    var bt = ParseUtil_js_1.default.trimSpaces(parser.GetBrackets(name, ''));\n    var smash = parser.create('node', 'mpadded', [parser.ParseArg(name)]);\n    switch (bt) {\n        case 'b':\n            NodeUtil_js_1.default.setAttribute(smash, 'depth', 0);\n            break;\n        case 't':\n            NodeUtil_js_1.default.setAttribute(smash, 'height', 0);\n            break;\n        default:\n            NodeUtil_js_1.default.setAttribute(smash, 'height', 0);\n            NodeUtil_js_1.default.setAttribute(smash, 'depth', 0);\n    }\n    var atom = parser.create('node', 'TeXAtom', [smash]);\n    parser.Push(atom);\n};\nBaseMethods.Lap = function (parser, name) {\n    var mml = parser.create('node', 'mpadded', [parser.ParseArg(name)], { width: 0 });\n    if (name === '\\\\llap') {\n        NodeUtil_js_1.default.setAttribute(mml, 'lspace', '-1width');\n    }\n    var atom = parser.create('node', 'TeXAtom', [mml]);\n    parser.Push(atom);\n};\nBaseMethods.RaiseLower = function (parser, name) {\n    var h = parser.GetDimen(name);\n    var item = parser.itemFactory.create('position').setProperties({ name: parser.currentCS, move: 'vertical' });\n    if (h.charAt(0) === '-') {\n        h = h.slice(1);\n        name = name.substr(1) === 'raise' ? '\\\\lower' : '\\\\raise';\n    }\n    if (name === '\\\\lower') {\n        item.setProperty('dh', '-' + h);\n        item.setProperty('dd', '+' + h);\n    }\n    else {\n        item.setProperty('dh', '+' + h);\n        item.setProperty('dd', '-' + h);\n    }\n    parser.Push(item);\n};\nBaseMethods.MoveLeftRight = function (parser, name) {\n    var h = parser.GetDimen(name);\n    var nh = (h.charAt(0) === '-' ? h.slice(1) : '-' + h);\n    if (name === '\\\\moveleft') {\n        var tmp = h;\n        h = nh;\n        nh = tmp;\n    }\n    parser.Push(parser.itemFactory.create('position').setProperties({\n        name: parser.currentCS, move: 'horizontal',\n        left: parser.create('node', 'mspace', [], { width: h }),\n        right: parser.create('node', 'mspace', [], { width: nh })\n    }));\n};\nBaseMethods.Hskip = function (parser, name) {\n    var node = parser.create('node', 'mspace', [], { width: parser.GetDimen(name) });\n    parser.Push(node);\n};\nBaseMethods.Nonscript = function (parser, _name) {\n    parser.Push(parser.itemFactory.create('nonscript'));\n};\nBaseMethods.Rule = function (parser, name, style) {\n    var w = parser.GetDimen(name), h = parser.GetDimen(name), d = parser.GetDimen(name);\n    var def = { width: w, height: h, depth: d };\n    if (style !== 'blank') {\n        def['mathbackground'] = (parser.stack.env['color'] || 'black');\n    }\n    var node = parser.create('node', 'mspace', [], def);\n    parser.Push(node);\n};\nBaseMethods.rule = function (parser, name) {\n    var v = parser.GetBrackets(name), w = parser.GetDimen(name), h = parser.GetDimen(name);\n    var mml = parser.create('node', 'mspace', [], {\n        width: w, height: h,\n        mathbackground: (parser.stack.env['color'] || 'black')\n    });\n    if (v) {\n        mml = parser.create('node', 'mpadded', [mml], { voffset: v });\n        if (v.match(/^\\-/)) {\n            NodeUtil_js_1.default.setAttribute(mml, 'height', v);\n            NodeUtil_js_1.default.setAttribute(mml, 'depth', '+' + v.substr(1));\n        }\n        else {\n            NodeUtil_js_1.default.setAttribute(mml, 'height', '+' + v);\n        }\n    }\n    parser.Push(mml);\n};\nBaseMethods.MakeBig = function (parser, name, mclass, size) {\n    size *= P_HEIGHT;\n    var sizeStr = String(size).replace(/(\\.\\d\\d\\d).+/, '$1') + 'em';\n    var delim = parser.GetDelimiter(name, true);\n    var mo = parser.create('token', 'mo', {\n        minsize: sizeStr, maxsize: sizeStr,\n        fence: true, stretchy: true, symmetric: true\n    }, delim);\n    var node = parser.create('node', 'TeXAtom', [mo], { texClass: mclass });\n    parser.Push(node);\n};\nBaseMethods.BuildRel = function (parser, name) {\n    var top = parser.ParseUpTo(name, '\\\\over');\n    var bot = parser.ParseArg(name);\n    var node = parser.create('node', 'munderover');\n    NodeUtil_js_1.default.setChild(node, 0, bot);\n    NodeUtil_js_1.default.setChild(node, 1, null);\n    NodeUtil_js_1.default.setChild(node, 2, top);\n    var atom = parser.create('node', 'TeXAtom', [node], { texClass: MmlNode_js_1.TEXCLASS.REL });\n    parser.Push(atom);\n};\nBaseMethods.HBox = function (parser, name, style, font) {\n    parser.PushAll(ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name), style, font));\n};\nBaseMethods.FBox = function (parser, name) {\n    var internal = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name));\n    var node = parser.create('node', 'menclose', internal, { notation: 'box' });\n    parser.Push(node);\n};\nBaseMethods.FrameBox = function (parser, name) {\n    var width = parser.GetBrackets(name);\n    var pos = parser.GetBrackets(name) || 'c';\n    var mml = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name));\n    if (width) {\n        mml = [parser.create('node', 'mpadded', mml, {\n                width: width,\n                'data-align': (0, Options_js_1.lookup)(pos, { l: 'left', r: 'right' }, 'center')\n            })];\n    }\n    var node = parser.create('node', 'TeXAtom', [parser.create('node', 'menclose', mml, { notation: 'box' })], { texClass: MmlNode_js_1.TEXCLASS.ORD });\n    parser.Push(node);\n};\nBaseMethods.Not = function (parser, _name) {\n    parser.Push(parser.itemFactory.create('not'));\n};\nBaseMethods.Dots = function (parser, _name) {\n    var ldotsEntity = NodeUtil_js_1.default.createEntity('2026');\n    var cdotsEntity = NodeUtil_js_1.default.createEntity('22EF');\n    var ldots = parser.create('token', 'mo', { stretchy: false }, ldotsEntity);\n    var cdots = parser.create('token', 'mo', { stretchy: false }, cdotsEntity);\n    parser.Push(parser.itemFactory.create('dots').setProperties({\n        ldots: ldots,\n        cdots: cdots\n    }));\n};\nBaseMethods.Matrix = function (parser, _name, open, close, align, spacing, vspacing, style, cases, numbered) {\n    var c = parser.GetNext();\n    if (c === '') {\n        throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);\n    }\n    if (c === '{') {\n        parser.i++;\n    }\n    else {\n        parser.string = c + '}' + parser.string.slice(parser.i + 1);\n        parser.i = 0;\n    }\n    var array = parser.itemFactory.create('array').setProperty('requireClose', true);\n    array.arraydef = {\n        rowspacing: (vspacing || '4pt'),\n        columnspacing: (spacing || '1em')\n    };\n    if (cases) {\n        array.setProperty('isCases', true);\n    }\n    if (numbered) {\n        array.setProperty('isNumbered', true);\n        array.arraydef.side = numbered;\n    }\n    if (open || close) {\n        array.setProperty('open', open);\n        array.setProperty('close', close);\n    }\n    if (style === 'D') {\n        array.arraydef.displaystyle = true;\n    }\n    if (align != null) {\n        array.arraydef.columnalign = align;\n    }\n    parser.Push(array);\n};\nBaseMethods.Entry = function (parser, name) {\n    parser.Push(parser.itemFactory.create('cell').setProperties({ isEntry: true, name: name }));\n    var top = parser.stack.Top();\n    var env = top.getProperty('casesEnv');\n    var cases = top.getProperty('isCases');\n    if (!cases && !env)\n        return;\n    var str = parser.string;\n    var braces = 0, close = -1, i = parser.i, m = str.length;\n    var end = (env ? new RegExp(\"^\\\\\\\\end\\\\s*\\\\{\".concat(env.replace(/\\*/, '\\\\*'), \"\\\\}\")) : null);\n    while (i < m) {\n        var c = str.charAt(i);\n        if (c === '{') {\n            braces++;\n            i++;\n        }\n        else if (c === '}') {\n            if (braces === 0) {\n                m = 0;\n            }\n            else {\n                braces--;\n                if (braces === 0 && close < 0) {\n                    close = i - parser.i;\n                }\n                i++;\n            }\n        }\n        else if (c === '&' && braces === 0) {\n            throw new TexError_js_1.default('ExtraAlignTab', 'Extra alignment tab in \\\\cases text');\n        }\n        else if (c === '\\\\') {\n            var rest = str.substr(i);\n            if (rest.match(/^((\\\\cr)[^a-zA-Z]|\\\\\\\\)/) || (end && rest.match(end))) {\n                m = 0;\n            }\n            else {\n                i += 2;\n            }\n        }\n        else {\n            i++;\n        }\n    }\n    var text = str.substr(parser.i, i - parser.i);\n    if (!text.match(/^\\s*\\\\text[^a-zA-Z]/) || close !== text.replace(/\\s+$/, '').length - 1) {\n        var internal = ParseUtil_js_1.default.internalMath(parser, ParseUtil_js_1.default.trimSpaces(text), 0);\n        parser.PushAll(internal);\n        parser.i = i;\n    }\n};\nBaseMethods.Cr = function (parser, name) {\n    parser.Push(parser.itemFactory.create('cell').setProperties({ isCR: true, name: name }));\n};\nBaseMethods.CrLaTeX = function (parser, name, nobrackets) {\n    if (nobrackets === void 0) { nobrackets = false; }\n    var n;\n    if (!nobrackets) {\n        if (parser.string.charAt(parser.i) === '*') {\n            parser.i++;\n        }\n        if (parser.string.charAt(parser.i) === '[') {\n            var dim = parser.GetBrackets(name, '');\n            var _a = __read(ParseUtil_js_1.default.matchDimen(dim), 2), value = _a[0], unit = _a[1];\n            if (dim && !value) {\n                throw new TexError_js_1.default('BracketMustBeDimension', 'Bracket argument to %1 must be a dimension', parser.currentCS);\n            }\n            n = value + unit;\n        }\n    }\n    parser.Push(parser.itemFactory.create('cell').setProperties({ isCR: true, name: name, linebreak: true }));\n    var top = parser.stack.Top();\n    var node;\n    if (top instanceof sitem.ArrayItem) {\n        if (n) {\n            top.addRowSpacing(n);\n        }\n    }\n    else {\n        if (n) {\n            node = parser.create('node', 'mspace', [], { depth: n });\n            parser.Push(node);\n        }\n        node = parser.create('node', 'mspace', [], { linebreak: TexConstants_js_1.TexConstant.LineBreak.NEWLINE });\n        parser.Push(node);\n    }\n};\nBaseMethods.HLine = function (parser, _name, style) {\n    if (style == null) {\n        style = 'solid';\n    }\n    var top = parser.stack.Top();\n    if (!(top instanceof sitem.ArrayItem) || top.Size()) {\n        throw new TexError_js_1.default('Misplaced', 'Misplaced %1', parser.currentCS);\n    }\n    if (!top.table.length) {\n        top.frame.push('top');\n    }\n    else {\n        var lines = (top.arraydef['rowlines'] ? top.arraydef['rowlines'].split(/ /) : []);\n        while (lines.length < top.table.length) {\n            lines.push('none');\n        }\n        lines[top.table.length - 1] = style;\n        top.arraydef['rowlines'] = lines.join(' ');\n    }\n};\nBaseMethods.HFill = function (parser, _name) {\n    var top = parser.stack.Top();\n    if (top instanceof sitem.ArrayItem) {\n        top.hfill.push(top.Size());\n    }\n    else {\n        throw new TexError_js_1.default('UnsupportedHFill', 'Unsupported use of %1', parser.currentCS);\n    }\n};\nBaseMethods.BeginEnd = function (parser, name) {\n    var env = parser.GetArgument(name);\n    if (env.match(/\\\\/i)) {\n        throw new TexError_js_1.default('InvalidEnv', 'Invalid environment name \\'%1\\'', env);\n    }\n    var macro = parser.configuration.handlers.get('environment').lookup(env);\n    if (macro && name === '\\\\end') {\n        if (!macro.args[0]) {\n            var mml = parser.itemFactory.create('end').setProperty('name', env);\n            parser.Push(mml);\n            return;\n        }\n        parser.stack.env['closing'] = env;\n    }\n    ParseUtil_js_1.default.checkMaxMacros(parser, false);\n    parser.parse('environment', [parser, env]);\n};\nBaseMethods.Array = function (parser, begin, open, close, align, spacing, vspacing, style, raggedHeight) {\n    if (!align) {\n        align = parser.GetArgument('\\\\begin{' + begin.getName() + '}');\n    }\n    var lines = ('c' + align).replace(/[^clr|:]/g, '').replace(/[^|:]([|:])+/g, '$1');\n    align = align.replace(/[^clr]/g, '').split('').join(' ');\n    align = align.replace(/l/g, 'left').replace(/r/g, 'right').replace(/c/g, 'center');\n    var array = parser.itemFactory.create('array');\n    array.arraydef = {\n        columnalign: align,\n        columnspacing: (spacing || '1em'),\n        rowspacing: (vspacing || '4pt')\n    };\n    if (lines.match(/[|:]/)) {\n        if (lines.charAt(0).match(/[|:]/)) {\n            array.frame.push('left');\n            array.dashed = lines.charAt(0) === ':';\n        }\n        if (lines.charAt(lines.length - 1).match(/[|:]/)) {\n            array.frame.push('right');\n        }\n        lines = lines.substr(1, lines.length - 2);\n        array.arraydef.columnlines =\n            lines.split('').join(' ').replace(/[^|: ]/g, 'none').replace(/\\|/g, 'solid').replace(/:/g, 'dashed');\n    }\n    if (open) {\n        array.setProperty('open', parser.convertDelimiter(open));\n    }\n    if (close) {\n        array.setProperty('close', parser.convertDelimiter(close));\n    }\n    if ((style || '').charAt(1) === '\\'') {\n        array.arraydef['data-cramped'] = true;\n        style = style.charAt(0);\n    }\n    if (style === 'D') {\n        array.arraydef['displaystyle'] = true;\n    }\n    else if (style) {\n        array.arraydef['displaystyle'] = false;\n    }\n    if (style === 'S') {\n        array.arraydef['scriptlevel'] = 1;\n    }\n    if (raggedHeight) {\n        array.arraydef['useHeight'] = false;\n    }\n    parser.Push(begin);\n    return array;\n};\nBaseMethods.AlignedArray = function (parser, begin) {\n    var align = parser.GetBrackets('\\\\begin{' + begin.getName() + '}');\n    var item = BaseMethods.Array(parser, begin);\n    return ParseUtil_js_1.default.setArrayAlign(item, align);\n};\nBaseMethods.Equation = function (parser, begin, numbered) {\n    parser.Push(begin);\n    ParseUtil_js_1.default.checkEqnEnv(parser);\n    return parser.itemFactory.create('equation', numbered).\n        setProperty('name', begin.getName());\n};\nBaseMethods.EqnArray = function (parser, begin, numbered, taggable, align, spacing) {\n    parser.Push(begin);\n    if (taggable) {\n        ParseUtil_js_1.default.checkEqnEnv(parser);\n    }\n    align = align.replace(/[^clr]/g, '').split('').join(' ');\n    align = align.replace(/l/g, 'left').replace(/r/g, 'right').replace(/c/g, 'center');\n    var newItem = parser.itemFactory.create('eqnarray', begin.getName(), numbered, taggable, parser.stack.global);\n    newItem.arraydef = {\n        displaystyle: true,\n        columnalign: align,\n        columnspacing: (spacing || '1em'),\n        rowspacing: '3pt',\n        side: parser.options['tagSide'],\n        minlabelspacing: parser.options['tagIndent']\n    };\n    return newItem;\n};\nBaseMethods.HandleNoTag = function (parser, _name) {\n    parser.tags.notag();\n};\nBaseMethods.HandleLabel = function (parser, name) {\n    var label = parser.GetArgument(name);\n    if (label === '') {\n        return;\n    }\n    if (!parser.tags.refUpdate) {\n        if (parser.tags.label) {\n            throw new TexError_js_1.default('MultipleCommand', 'Multiple %1', parser.currentCS);\n        }\n        parser.tags.label = label;\n        if ((parser.tags.allLabels[label] || parser.tags.labels[label]) && !parser.options['ignoreDuplicateLabels']) {\n            throw new TexError_js_1.default('MultipleLabel', 'Label \\'%1\\' multiply defined', label);\n        }\n        parser.tags.labels[label] = new Tags_js_1.Label();\n    }\n};\nBaseMethods.HandleRef = function (parser, name, eqref) {\n    var label = parser.GetArgument(name);\n    var ref = parser.tags.allLabels[label] || parser.tags.labels[label];\n    if (!ref) {\n        if (!parser.tags.refUpdate) {\n            parser.tags.redo = true;\n        }\n        ref = new Tags_js_1.Label();\n    }\n    var tag = ref.tag;\n    if (eqref) {\n        tag = parser.tags.formatTag(tag);\n    }\n    var node = parser.create('node', 'mrow', ParseUtil_js_1.default.internalMath(parser, tag), {\n        href: parser.tags.formatUrl(ref.id, parser.options.baseURL), 'class': 'MathJax_ref'\n    });\n    parser.Push(node);\n};\nBaseMethods.Macro = function (parser, name, macro, argcount, def) {\n    if (argcount) {\n        var args = [];\n        if (def != null) {\n            var optional = parser.GetBrackets(name);\n            args.push(optional == null ? def : optional);\n        }\n        for (var i = args.length; i < argcount; i++) {\n            args.push(parser.GetArgument(name));\n        }\n        macro = ParseUtil_js_1.default.substituteArgs(parser, args, macro);\n    }\n    parser.string = ParseUtil_js_1.default.addArgs(parser, macro, parser.string.slice(parser.i));\n    parser.i = 0;\n    ParseUtil_js_1.default.checkMaxMacros(parser);\n};\nBaseMethods.MathChoice = function (parser, name) {\n    var D = parser.ParseArg(name);\n    var T = parser.ParseArg(name);\n    var S = parser.ParseArg(name);\n    var SS = parser.ParseArg(name);\n    parser.Push(parser.create('node', 'MathChoice', [D, T, S, SS]));\n};\nexports.default = BaseMethods;\n//# sourceMappingURL=BaseMethods.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.px = exports.emRounded = exports.em = exports.percent = exports.length2em = exports.MATHSPACE = exports.RELUNITS = exports.UNITS = exports.BIGDIMEN = void 0;\nexports.BIGDIMEN = 1000000;\nexports.UNITS = {\n    px: 1,\n    'in': 96,\n    cm: 96 / 2.54,\n    mm: 96 / 25.4\n};\nexports.RELUNITS = {\n    em: 1,\n    ex: .431,\n    pt: 1 / 10,\n    pc: 12 / 10,\n    mu: 1 / 18\n};\nexports.MATHSPACE = {\n    veryverythinmathspace: 1 / 18,\n    verythinmathspace: 2 / 18,\n    thinmathspace: 3 / 18,\n    mediummathspace: 4 / 18,\n    thickmathspace: 5 / 18,\n    verythickmathspace: 6 / 18,\n    veryverythickmathspace: 7 / 18,\n    negativeveryverythinmathspace: -1 / 18,\n    negativeverythinmathspace: -2 / 18,\n    negativethinmathspace: -3 / 18,\n    negativemediummathspace: -4 / 18,\n    negativethickmathspace: -5 / 18,\n    negativeverythickmathspace: -6 / 18,\n    negativeveryverythickmathspace: -7 / 18,\n    thin: .04,\n    medium: .06,\n    thick: .1,\n    normal: 1,\n    big: 2,\n    small: 1 / Math.sqrt(2),\n    infinity: exports.BIGDIMEN\n};\nfunction length2em(length, size, scale, em) {\n    if (size === void 0) { size = 0; }\n    if (scale === void 0) { scale = 1; }\n    if (em === void 0) { em = 16; }\n    if (typeof length !== 'string') {\n        length = String(length);\n    }\n    if (length === '' || length == null) {\n        return size;\n    }\n    if (exports.MATHSPACE[length]) {\n        return exports.MATHSPACE[length];\n    }\n    var match = length.match(/^\\s*([-+]?(?:\\.\\d+|\\d+(?:\\.\\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);\n    if (!match) {\n        return size;\n    }\n    var m = parseFloat(match[1] || '1'), unit = match[2];\n    if (exports.UNITS.hasOwnProperty(unit)) {\n        return m * exports.UNITS[unit] / em / scale;\n    }\n    if (exports.RELUNITS.hasOwnProperty(unit)) {\n        return m * exports.RELUNITS[unit];\n    }\n    if (unit === '%') {\n        return m / 100 * size;\n    }\n    return m * size;\n}\nexports.length2em = length2em;\nfunction percent(m) {\n    return (100 * m).toFixed(1).replace(/\\.?0+$/, '') + '%';\n}\nexports.percent = percent;\nfunction em(m) {\n    if (Math.abs(m) < .001)\n        return '0';\n    return (m.toFixed(3).replace(/\\.?0+$/, '')) + 'em';\n}\nexports.em = em;\nfunction emRounded(m, em) {\n    if (em === void 0) { em = 16; }\n    m = (Math.round(m * em) + .05) / em;\n    if (Math.abs(m) < .001)\n        return '0em';\n    return m.toFixed(3).replace(/\\.?0+$/, '') + 'em';\n}\nexports.emRounded = emRounded;\nfunction px(m, M, em) {\n    if (M === void 0) { M = -exports.BIGDIMEN; }\n    if (em === void 0) { em = 16; }\n    m *= em;\n    if (M && m < M)\n        m = M;\n    if (Math.abs(m) < .1)\n        return '0';\n    return m.toFixed(1).replace(/\\.0$/, '') + 'px';\n}\nexports.px = px;\n//# sourceMappingURL=lengths.js.map"],"names":["__values","this","o","s","Symbol","iterator","m","i","call","length","next","value","done","TypeError","__read","n","r","e","ar","push","error","__spreadArray","to","from","pack","arguments","l","Array","prototype","slice","concat","Object","defineProperty","exports","AbstractFactory","nodes","e_1","_a","defaultKind","nodeMap","Map","node","constructor","defaultNodes","_b","keys","_c","kind","setNodeClass","e_1_1","return","create","args","_i","apply","nodeClass","set","THIS","KIND","get","bind","getNodeClass","deleteNodeClass","delete","nodeIsKind","getKinds","__importDefault","mod","__esModule","NodeFactory","NodeUtil_js_1","mmlFactory","factory","createNode","createToken","createText","createError","children","def","text","setChildren","appendChild","default","setProperties","textNode","setText","message","mtext","setMmlFactory","func","setCreators","maps","rest","configuration","addNode","ParseMethods","TexConstants_js_1","ParseUtil_js_1","variable","parser","c","getFontDef","env","stack","multiLetterIdentifiers","font","string","substr","match","mathvariant","TexConstant","Variant","NORMAL","noAutoOP","autoOP","Push","digit","mml","pattern","options","replace","controlSequence","name","GetCS","parse","mathchar0mi","mchar","attributes","ITALIC","char","mathchar0mo","setProperty","mathchar7","delimiter","delim","assign","fence","stretchy","environment","end","itemFactory","StackItemFactory_js_1","NodeFactory_js_1","Options_js_1","ParseOptions","packageData","parsers","root","nodeLists","handlers","nodeFactory","items","defaultOptions","pushParser","unshift","popParser","shift","enumerable","configurable","clear","tags","resetTag","property","list","inlists","getProperty","lists","split","join","getList","result","list_1","list_1_1","inTree","removeFromList","e_2","nodes_1","nodes_1_1","indexOf","splice","e_2_1","parent","extendStatics","__extends","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","String","__","BaseItem","MmlStack","TexError_js_1","_nodes","Pop","pop","Size","Peek","Clear","toMml","inferred","forceRow","First","_super","_this","global","_properties","isOpen","_env","key","isKind","checkItem","item","fail","getName","isClose","getErrors","id","isFinal","success","clearEnv","toString","errors","close","right","middle","StackItem_js_1","Factory_js_1","DummyItem","StackItemFactory","DefaultStackItems","BOLD","BOLDITALIC","DOUBLESTRUCK","FRAKTUR","BOLDFRAKTUR","SCRIPT","BOLDSCRIPT","SANSSERIF","BOLDSANSSERIF","SANSSERIFITALIC","SANSSERIFBOLDITALIC","MONOSPACE","INITIAL","TAILED","LOOPED","STRETCHED","CALLIGRAPHIC","BOLDCALLIGRAPHIC","OLDSTYLE","BOLDOLDSTYLE","MATHITALIC","Form","PREFIX","INFIX","POSTFIX","LineBreak","AUTO","NEWLINE","NOBREAK","GOODBREAK","BADBREAK","LineBreakStyle","BEFORE","AFTER","DUPLICATE","INFIXLINBREAKSTYLE","IndentAlign","LEFT","CENTER","RIGHT","ID","INDENTALIGN","IndentShift","INDENTSHIFT","LineThickness","THIN","MEDIUM","THICK","Notation","LONGDIV","ACTUARIAL","PHASORANGLE","RADICAL","BOX","ROUNDEDBOX","CIRCLE","TOP","BOTTOM","UPDIAGONALSTRIKE","DOWNDIAGONALSTRIKE","VERTICALSTRIKE","HORIZONTALSTRIKE","NORTHEASTARROW","MADRUWB","UPDIAGONALARROW","Align","BASELINE","AXIS","Lines","NONE","SOLID","DASHED","Side","LEFTOVERLAP","RIGHTOVERLAP","Width","FIT","Actiontype","TOGGLE","STATUSLINE","TOOLTIP","INPUT","Overflow","LINBREAK","SCROLL","ELIDE","TRUNCATE","SCALE","Unit","EM","EX","PX","IN","CM","MM","PT","PC","__createBinding","k","k2","undefined","desc","getOwnPropertyDescriptor","writable","__setModuleDefault","v","__importStar","BaseConfiguration","BaseTags","Other","Configuration_js_1","MapHandler_js_1","SymbolMap_js_1","bitem","Tags_js_1","OperatorDictionary_js_1","remap","MapHandler","getMap","lookup","range","getRange","type","mo","CharacterMap","AbstractTags","Configuration","handler","character","macro","fallback","_parser","StartItem","StopItem","OpenItem","CloseItem","PrimeItem","SubsupItem","OverItem","LeftItem","Middle","RightItem","BeginItem","EndItem","StyleItem","PositionItem","CellItem","MmlItem","FnItem","NotItem","NonscriptItem","DotsItem","ArrayItem","EqnArrayItem","EquationItem","maxMacros","baseURL","document","getElementsByTagName","location","base","postprocessors","data","_d","parent_1","childNodes","childIndex","mstyle","replaceChild","Entities_js_1","MmlNode_js_1","isInner","finalize","top0","top1","isType","setChild","sup","top","position","setAttribute","fixedFence","fenced","mathcolor","texClass","TEXCLASS","CLOSE","OPEN","color","height","depth","voffset","isEmbellished","getCoreMO","form","getForm","entities","ApplyFunction","getText","getChildren","contains","appendChildren","mtextNode","paddedNode","width","REL","notParent","mrow","dots","tclass","getTexClass","BIN","table","row","frame","hfill","arraydef","dashed","EndEntry","EndRow","EndTable","newItem","createMml","scriptlevel","notation","mtd","getAttribute","checkLines","lines","rows","addRowSpacing","spacing","dimem","dimen2em","rowspacing","Em","Math","max","maxrow","start","fixInitialMO","mtr","tag","getTag","clearTag","extendArray","repeat","columns","enTag","sm","BaseMethods_js_1","ParseMethods_js_1","lengths_js_1","RegExpMap","MacroMap","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega","varepsilon","vartheta","varpi","varrho","varsigma","varphi","S","aleph","hbar","variantForm","imath","jmath","ell","wp","Re","Im","partial","infty","prime","emptyset","nabla","bot","angle","triangle","backslash","forall","exists","neg","lnot","flat","natural","sharp","clubsuit","diamondsuit","heartsuit","spadesuit","surd","coprod","OP","movesupsub","bigvee","bigwedge","biguplus","bigcap","bigcup","intop","movablelimits","iint","iiint","prod","sum","bigotimes","bigoplus","bigodot","oint","bigsqcup","smallint","largeop","triangleleft","triangleright","bigtriangleup","bigtriangledown","wedge","land","vee","lor","cap","cup","ddagger","dagger","sqcap","sqcup","uplus","amalg","diamond","bullet","wr","div","divsymbol","odot","oslash","otimes","ominus","oplus","mp","pm","circ","bigcirc","setminus","cdot","ast","times","star","propto","sqsubseteq","sqsupseteq","parallel","mid","dashv","vdash","leq","le","geq","ge","lt","gt","succ","prec","approx","succeq","preceq","supset","subset","supseteq","subseteq","ni","notin","owns","gg","ll","sim","simeq","perp","equiv","asymp","smile","frown","ne","neq","cong","doteq","bowtie","models","notChar","Leftrightarrow","Leftarrow","Rightarrow","leftrightarrow","leftarrow","gets","rightarrow","accent","mapsto","leftharpoonup","leftharpoondown","rightharpoonup","rightharpoondown","nearrow","searrow","nwarrow","swarrow","rightleftharpoons","hookrightarrow","hookleftarrow","longleftarrow","Longleftarrow","longrightarrow","Longrightarrow","Longleftrightarrow","longleftrightarrow","longmapsto","ldots","cdots","vdots","ddots","dotsc","dotsb","dotsm","dotsi","dotso","ldotp","PUNCT","cdotp","colon","Gamma","Delta","Theta","Lambda","Xi","Pi","Sigma","Upsilon","Phi","Psi","Omega","And","DelimiterMap","ORD","CommandMap","displaystyle","textstyle","scriptstyle","scriptscriptstyle","rm","mit","oldstyle","cal","it","bf","bbFont","scr","frak","sf","tt","mathrm","mathup","mathnormal","mathbf","mathbfup","mathit","mathbfit","mathbb","Bbb","mathfrak","mathbffrak","mathscr","mathbfscr","mathsf","mathsfup","mathbfsf","mathbfsfup","mathsfit","mathbfsfit","mathtt","mathcal","mathbfcal","symrm","symup","symnormal","symbf","symbfup","symit","symbfit","symbb","symfrak","symbffrak","symscr","symbfscr","symsf","symsfup","symbfsf","symbfsfup","symsfit","symbfsfit","symtt","symcal","symbfcal","textrm","textup","textnormal","textit","textbf","textsf","texttt","tiny","Tiny","scriptsize","small","normalsize","large","Large","LARGE","huge","Huge","arcsin","arccos","arctan","arg","cos","cosh","cot","coth","csc","deg","det","dim","exp","gcd","hom","inf","ker","lg","lim","liminf","limsup","ln","log","min","Pr","sec","sin","sinh","tan","tanh","limits","nolimits","overline","underline","overbrace","underbrace","overparen","underparen","overrightarrow","underrightarrow","overleftarrow","underleftarrow","overleftrightarrow","underleftrightarrow","overset","underset","overunderset","stackrel","stackbin","over","overwithdelims","atop","atopwithdelims","above","abovewithdelims","brace","brack","choose","frac","sqrt","uproot","leftroot","left","llap","rlap","raise","lower","moveleft","moveright","MATHSPACE","thinmathspace","mediummathspace","thickmathspace","negativethinmathspace","enspace","quad","qquad","thinspace","negthinspace","hskip","hspace","kern","mskip","mspace","mkern","rule","Rule","Space","nonscript","big","Big","bigg","Bigg","bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","mathord","mathop","mathopen","mathclose","mathbin","mathrel","mathpunct","mathinner","INNER","vcenter","VCENTER","buildrel","hbox","mbox","fbox","boxed","framebox","strut","mathstrut","phantom","vphantom","hphantom","smash","acute","grave","ddot","tilde","bar","breve","check","hat","vec","dot","widetilde","widehat","matrix","array","pmatrix","cases","eqalign","em","displaylines","cr","newline","hline","hdashline","eqalignno","leqalignno","hfil","hfilll","bmod","pmod","pod","iff","skew","pmb","TeX","LaTeX","not","space","begin","label","ref","nonumber","mathchoice","mmlToken","EnvironmentMap","equation","eqnarray","cols","__assign","t","sitem","TexParser_js_1","BaseMethods","MmlTokenAllow","fontfamily","fontsize","fontweight","fontstyle","background","href","style","parseRoot","inRoot","newParser","Open","Close","Tilde","nbsp","Superscript","primes","GetNext","Top","Prev","getChildAt","Subscript","sub","under","Prime","rsquo","Comment","charAt","Hash","MathFont","variant","GetArgument","SetFont","_name","SetStyle","texStyle","level","SetSize","size","mathsize","Spacer","LeftRight","first","GetDelimiter","NamedFn","NamedOp","Limits","op","currentCS","copyChildren","Last","Over","open","GetDimen","Frac","num","ParseArg","den","Sqrt","GetBrackets","Root","GetUpTo","MoveRoot","parseInt","Accent","mathaccent","entity","createEntity","muoNode","texAtom","UnderOver","pos","underOver","Overset","checkMovableLimits","Underset","accentunder","Overunderset","TeXAtom","mclass","parsed","MmlToken","attr","keep","isToken","hasDefault","MmlFilterAttribute","toLowerCase","Strut","padded","Phantom","h","box","atom","Smash","bt","trimSpaces","Lap","RaiseLower","move","MoveLeftRight","nh","tmp","Hskip","Nonscript","w","mathbackground","MakeBig","sizeStr","minsize","maxsize","symmetric","BuildRel","ParseUpTo","HBox","PushAll","internalMath","FBox","internal","FrameBox","Not","Dots","ldotsEntity","cdotsEntity","Matrix","align","vspacing","numbered","columnspacing","side","columnalign","Entry","isEntry","str","braces","RegExp","Cr","isCR","CrLaTeX","nobrackets","matchDimen","unit","linebreak","HLine","HFill","BeginEnd","checkMaxMacros","raggedHeight","columnlines","convertDelimiter","AlignedArray","setArrayAlign","Equation","checkEqnEnv","EqnArray","taggable","minlabelspacing","HandleNoTag","notag","HandleLabel","refUpdate","allLabels","labels","Label","HandleRef","eqref","redo","formatTag","formatUrl","Macro","argcount","optional","substituteArgs","addArgs","MathChoice","D","T","SS","px","emRounded","percent","length2em","RELUNITS","UNITS","BIGDIMEN","cm","mm","ex","pt","pc","veryverythinmathspace","verythinmathspace","verythickmathspace","veryverythickmathspace","negativeveryverythinmathspace","negativeverythinmathspace","negativemediummathspace","negativethickmathspace","negativeverythickmathspace","negativeveryverythickmathspace","thin","medium","thick","normal","infinity","scale","parseFloat","toFixed","abs","round","M"],"sourceRoot":""}